/*! For license information please see main.4390561a.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var j,M=Object.assign;function F(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case I:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ee=null;function Ie(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Se(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==xe||null!==Ee)&&(Ne(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var je=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){je=!0,Me=e}};function ze(e,t,n,r,i,a,o,s,u){je=!1,Me=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,Et,It,St=!1,Tt=[],Ct=null,Nt=null,At=null,Pt=new Map,Dt=new Map,Ot=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function jt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){St=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Ut),Dt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Pt.forEach(t),Dt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Mt(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=jt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=jt(Nt,e,t,n,r,i),!0;case"mouseover":return At=jt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,jt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,jt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),gn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(yn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function In(){return En}var Sn=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Pn),On=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var jn=l&&"TextEvent"in window&&!Ln,Mn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Kn(t,Gn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Er={};function Ir(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Sr=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Nr=Ir("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),u(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Rr=Pr[Or];Dr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Dr(Sr,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),je){if(!je)throw Error(a(198));var l=Me;je=!1,Me=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Sr:case Tr:case Cr:u=gn;break;case Nr:u=An;break;case"scroll":u=hn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Hn(s))if($n)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(g=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=zn(n))&&(k.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=Jt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=De(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=De(n,a))&&o.unshift(Kr(n,u,s)):i||null!=(u=De(n,a))&&o.push(Kr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ei(e){return{current:e}}function Ii(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Si(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ni=Ei(!1),Ai=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ii(Ni),Ii(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Si(Ci,e),Si(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ci),Si(Ci,e)):Ii(Ni),Si(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Hi=0,Ki=null,Wi=0,Gi=[],Qi=0,Yi=null,Xi=1,$i="";function Ji(e,t){qi[Hi++]=Wi,qi[Hi++]=Ki,Ki=e,Wi=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,$i=a+e}else Xi=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Hi],qi[Hi]=null,Wi=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ei(null),ya=null,ka=null,ba=null;function wa(){ba=ka=ya=null}function _a(e){var t=ga.current;Ii(ga),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ya=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ya)throw Error(a(308));ka=e,ya.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ja(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Di(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Di(t)?Ai:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=jc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=jc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return ia&&Ji(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=jc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Wa(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,u)).return=r,r=a}return s(r);case D:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=Ya(!0),$a=Ya(!1),Ja={},Za=Ei(Ja),eo=Ei(Ja),to=Ei(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Si(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var so=Ei(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Uo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Au)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,jo(t)&&Mo(e)}function Lo(e,t,n){return n((function(){jo(t)&&Mo(e)}))}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Mo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Wo(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ia,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ia,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Au)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Au.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ia,useCallback:Xo,useContext:Ia,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:$o,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ia,useCallback:Xo,useContext:Ia,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:$o,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?$a(t,null,n,r):Xa(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Io(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function Is(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ru,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ru,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ru,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ru,Ou),Ou|=r;return ws(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Di(n)?Ai:Ci.current;return a=Pi(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Io(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Cs(e,t,n,r,i){if(Di(n)){var a=!0;ji(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Hs(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Pi(t,c=Di(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ha(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Aa||Ba(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ia(u):u=Pi(t,u=Di(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Aa=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ks(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ds,Os,Rs,Ls,js={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=jc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=js,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=jc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=js,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Au)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(r,e,i,-1))}return mc(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Rc(r,s):(s=jc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=js,i}return e=(s=e.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Di(t.type)&&Oi(),Gs(t),null;case 3:return r=t.stateNode,io(),Ii(Ni),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Os(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ds(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ii(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Os(e,t),null===e&&Br(t.stateNode.containerInfo),Gs(t),null;case 10:return _a(t.type._context),Gs(t),null;case 19:if(Ii(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>qu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*$e()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=so.current,Si(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ni),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,$s=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!$s&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ic(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,du(e,t,n),$s=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Ic(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&$(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=$e())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($s=(l=$s)||f,mu(t,e),$s=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){_u(h);continue}}null!==p?(p.return=d,Zs=p):_u(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ic(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){Zs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Xs;var c=$s;if(Xs=o,($s=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Zs=u):xu(i);for(;null!==a;)Zs=a,bu(a,t,n),a=a.sibling;Zs=i,Xs=s,$s=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}$s||512&t.flags&&au(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function _u(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ic(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ic(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ic(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ic(t,o,u)}}}catch(u){Ic(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Eu,Iu=Math.ceil,Su=b.ReactCurrentDispatcher,Tu=b.ReactCurrentOwner,Cu=b.ReactCurrentBatchConfig,Nu=0,Au=null,Pu=null,Du=0,Ou=0,Ru=Ei(0),Lu=0,ju=null,Mu=0,Fu=0,Uu=0,Vu=null,zu=null,Bu=0,qu=1/0,Hu=null,Ku=!1,Wu=null,Gu=null,Qu=!1,Yu=null,Xu=0,$u=0,Ju=null,Zu=-1,ec=0;function tc(){return 0!==(6&Nu)?$e():-1!==Zu?Zu:Zu=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Du?Du&-Du:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<$u)throw $u=0,Ju=null,Error(a(185));gt(e,n,r),0!==(2&Nu)&&e===Au||(e===Au&&(0===(2&Nu)&&(Fu|=n),4===Lu&&uc(e,Du)),ic(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(qu=$e()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Au?Du:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Nu)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Nu))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Au?Du:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Nu;Nu|=2;var o=vc();for(Au===e&&Du===t||(Hu=null,qu=$e()+500,dc(e,t));;)try{kc();break}catch(u){pc(e,u)}wa(),Su.current=o,Nu=i,null!==Pu?t=0:(Au=null,Du=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=ju,dc(e,0),uc(e,r),ic(e,$e()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=ju,dc(e,0),uc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,zu,Hu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bu+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,zu,Hu),t);break}_c(e,zu,Hu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Iu(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,zu,Hu),r);break}_c(e,zu,Hu);break;default:throw Error(a(329))}}}return ic(e,$e()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zu,zu=n,null!==t&&sc(t)),e}function sc(e){null===zu?zu=e:zu.push.apply(zu,e)}function uc(e,t){for(t&=~Uu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nu))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=ju,dc(e,0),uc(e,t),ic(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zu,Hu),ic(e,$e()),null}function lc(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(qu=$e()+500,Ui&&Bi())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Nu)&&xc();var t=Nu;Nu|=1;var n=Cu.transition,r=kt;try{if(Cu.transition=null,kt=1,e)return e()}finally{kt=r,Cu.transition=n,0===(6&(Nu=t))&&Bi()}}function hc(){Ou=Ru.current,Ii(Ru)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ii(Ni),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(so);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Au=e,Pu=e=Rc(e.current,null),Du=Ou=t,Lu=0,ju=null,Uu=Fu=Mu=0,zu=Vu=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function pc(e,t){for(;;){var n=Pu;try{if(wa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,ko=!1,bo=0,Tu.current=null,null===n||null===n.return){Lu=1,ju=t,Pu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Du,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,ja(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gu||!Gu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,ja(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function vc(){var e=Su.current;return Su.current=os,null===e?os:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Au||0===(268435455&Mu)&&0===(268435455&Fu)||uc(Au,Du)}function gc(e,t){var n=Nu;Nu|=2;var r=vc();for(Au===e&&Du===t||(Hu=null,dc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(wa(),Nu=n,Su.current=r,null!==Pu)throw Error(a(261));return Au=null,Du=0,Lu}function yc(){for(;null!==Pu;)bc(Pu)}function kc(){for(;null!==Pu&&!Ye();)bc(Pu)}function bc(e){var t=Eu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?wc(e):Pu=t,Tu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ou)))return void(Pu=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Lu=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Lu&&(Lu=5)}function _c(e,t,n){var r=kt,i=Cu.transition;try{Cu.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Yu);if(0!==(6&Nu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Au&&(Pu=Au=null,Du=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=kt;kt=1;var u=Nu;Nu|=4,Tu.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,ku(n,e,i),Xe(),Nu=u,kt=s,Cu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,Xu=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Wu,Wu=null,e;0!==(1&Xu)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Ju?$u++:($u=0,Ju=e):$u=0,Bi()}(e,t,n,r)}finally{Cu.transition=i,kt=r}return null}function xc(){if(null!==Yu){var e=bt(Xu),t=Cu.transition,n=kt;try{if(Cu.transition=null,kt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Xu=0,0!==(6&Nu))throw Error(a(331));var i=Nu;for(Nu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(_){Ic(u,u.return,_)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Nu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Cu.transition=t}}return!1}function Ec(e,t,n){e=Ra(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Ic(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Ra(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(Du&n)===n&&(4===Lu||3===Lu&&(130023424&Du)===Du&&500>$e()-Bu?dc(e,0):Uu|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Na(e,t))&&(gt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Ac(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Pc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return jc(n.children,i,o,t);case E:s=8,i|=8;break;case I:return(e=Dc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Dc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Dc(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case T:s=9;break e;case C:s=11;break e;case P:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function jc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=zc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Oa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&ji(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Si(so,1&so.current),null!==(e=Ks(e,t,n))?e.sibling:null);Si(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,n)}return Ks(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,ji(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Ma(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ks(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ss(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Ks(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ia(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Hs(e,t),t.tag=1,Di(r)?(e=!0,ji(t)):e=!1,Ea(t,n),qa(t,r,i),Ka(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Is(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Kc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Hc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,$e()),0===(6&Nu)&&(qu=$e()+500,Bi()))}break;case 13:fc((function(){var t=Na(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Na(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Et=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ne=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=k.prototype=new y;b.constructor=k,v(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(_);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,I=null,S=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?x():(E=!1,I=null)}}else E=!1}if("function"===typeof k)x=function(){k(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=A,x=function(){D.postMessage(null)}}else x=function(){g(A,0)};function O(e){I=e,E||(E=!0,x())}function R(e,n){S=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(S),S=-1):m=!0,R(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".34115356.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="ecom:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkecom=self.webpackChunkecom||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{afterMain:function(){return nn},afterRead:function(){return Zt},afterWrite:function(){return on},applyStyles:function(){return dn},arrow:function(){return On},auto:function(){return zt},basePlacements:function(){return Bt},beforeMain:function(){return en},beforeRead:function(){return $t},beforeWrite:function(){return rn},bottom:function(){return Ft},clippingParents:function(){return Kt},computeStyles:function(){return Mn},createPopper:function(){return vr},createPopperBase:function(){return pr},createPopperLite:function(){return mr},detectOverflow:function(){return Zn},end:function(){return Ht},eventListeners:function(){return Un},flip:function(){return er},hide:function(){return rr},left:function(){return Vt},main:function(){return tn},modifierPhases:function(){return sn},offset:function(){return ir},placements:function(){return Xt},popper:function(){return Gt},popperGenerator:function(){return hr},popperOffsets:function(){return ar},preventOverflow:function(){return or},read:function(){return Jt},reference:function(){return Qt},right:function(){return Ut},start:function(){return qt},top:function(){return Mt},variationPlacements:function(){return Yt},viewport:function(){return Wt},write:function(){return an}});var t={};n.r(t),n.d(t,{FirebaseError:function(){return ac},SDK_VERSION:function(){return kl},_DEFAULT_ENTRY_NAME:function(){return ol},_addComponent:function(){return ll},_addOrOverwriteComponent:function(){return fl},_apps:function(){return ul},_clearComponents:function(){return vl},_components:function(){return cl},_getProvider:function(){return dl},_registerComponent:function(){return hl},_removeServiceInstance:function(){return pl},deleteApp:function(){return xl},getApp:function(){return wl},getApps:function(){return _l},initializeApp:function(){return bl},onLog:function(){return Il},registerVersion:function(){return El},setLogLevel:function(){return Sl}});var r,i=n(791),a=n.t(i,2),o=n(250);function s(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return s(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||c(e,t)||l()}function h(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){return function(e){if(Array.isArray(e))return u(e)}(e)||h(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function y(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function I(e){var t=_();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E(this,n)}}function S(e,t,n){return S=_()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&k(i,n.prototype),i},S.apply(null,arguments)}function T(e){var t="function"===typeof Map?new Map:void 0;return T=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return S(e,arguments,w(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),k(r,e)},T(e)}function C(e){return s(e)||h(e)||c(e)||l()}function N(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));var P,D="popstate";function O(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function L(e,t){return{usr:e.state,key:e.key,idx:t}}function j(e,t,n,r){return void 0===n&&(n=null),A({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?F(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function M(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function F(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function U(e,t,n,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=r.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=r.Pop;var e=p(),t=null==e?null:e-d;d=e,h&&h({action:f,location:g.location,delta:t})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:M(e);return O(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(A({},l.state,{idx:d}),""));var g={get action(){return f},get location(){return e(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(D,v),h=e,function(){s.removeEventListener(D,v),h=null}},createHref:function(e){return t(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=r.Push;var i=j(g.location,e,t);n&&n(i,e);var a=L(i,d=p()+1),o=g.createHref(i);try{l.pushState(a,"",o)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(o)}c&&h&&h({action:f,location:g.location,delta:1})},replace:function(e,t){f=r.Replace;var i=j(g.location,e,t);n&&n(i,e);var a=L(i,d=p()),o=g.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(P||(P={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function V(e,t,n){void 0===n&&(n="/");var r=ee(("string"===typeof t?F(t):t).pathname||"/",n);if(null==r)return null;var i=z(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=$(i[o],Z(r));return a}function z(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(O(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ie([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(O(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),z(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:X(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=N(B(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function B(e){var t=e.split("/");if(0===t.length)return[];var n=C(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=B(i.join("/")),u=[];return u.push.apply(u,d(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,d(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var q=/^:\w+$/,H=3,K=2,W=1,G=10,Q=-2,Y=function(e){return"*"===e};function X(e,t){var n=e.split("/"),r=n.length;return n.some(Y)&&(r+=Q),t&&(r+=K),n.filter((function(e){return!Y(e)})).reduce((function(e,t){return e+(q.test(t)?H:""===t?W:G)}),r)}function $(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=J({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ie([i,l.pathname]),pathnameBase:ae(ie([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ie([i,l.pathnameBase]))}return a}function J(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);R("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=f(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return R(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function Z(e){try{return decodeURI(e)}catch(t){return R(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ee(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function te(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ne(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function re(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=F(e):(O(!(i=A({},e)).pathname||!i.pathname.includes("?"),te("?","pathname","search",i)),O(!i.pathname||!i.pathname.includes("#"),te("#","pathname","hash",i)),O(!i.search||!i.search.includes("#"),te("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?F(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:oe(a),hash:se(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ie=function(e){return e.join("/").replace(/\/\/+/g,"/")},ae=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},oe=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},se=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ue=function(e){b(n,e);var t=I(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n)}(T(Error));function ce(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var le=["post","put","patch","delete"],fe=(new Set(le),["get"].concat(le));new Set(fe),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(this,arguments)}var de=i.createContext(null);var pe=i.createContext(null);var ve=i.createContext(null);var me=i.createContext(null);var ge=i.createContext(null);var ye=i.createContext({outlet:null,matches:[],isDataRoute:!1});var ke=i.createContext(null);function be(){return null!=i.useContext(ge)}function we(){return be()||O(!1),i.useContext(ge).location}function _e(e){i.useContext(me).static||i.useLayoutEffect(e)}function xe(){return i.useContext(ye).isDataRoute?function(){var e=Oe(Pe.UseNavigateStable).router,t=Le(De.UseNavigateStable),n=i.useRef(!1);_e((function(){n.current=!0}));var r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,he({fromRouteId:t},i)))}),[e,t]);return r}():function(){be()||O(!1);var e=i.useContext(de),t=i.useContext(me),n=t.basename,r=t.navigator,a=i.useContext(ye).matches,o=we().pathname,s=JSON.stringify(ne(a).map((function(e){return e.pathnameBase}))),u=i.useRef(!1);return _e((function(){u.current=!0})),i.useCallback((function(t,i){if(void 0===i&&(i={}),u.current)if("number"!==typeof t){var a=re(t,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ie([n,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}else r.go(t)}),[n,r,s,o,e])}()}function Ee(e,t){var n=(void 0===t?{}:t).relative,r=i.useContext(ye).matches,a=we().pathname,o=JSON.stringify(ne(r).map((function(e){return e.pathnameBase})));return i.useMemo((function(){return re(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Ie(e,t,n){be()||O(!1);var a,o=i.useContext(me).navigator,s=i.useContext(ye).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,we());if(t){var h,d="string"===typeof t?F(t):t;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||O(!1),a=d}else a=f;var p=a.pathname||"/",v=V(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Ae(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ie([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ie([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,n);return t&&m?i.createElement(ge.Provider,{value:{location:he({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:r.Pop}},m):m}function Se(){var e=function(){var e,t=i.useContext(ke),n=Re(De.UseRouteError),r=Le(De.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=ce(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}var Te=i.createElement(Se,null),Ce=function(e){b(n,e);var t=I(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return y(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?i.createElement(ye.Provider,{value:this.props.routeContext},i.createElement(ke.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(i.Component);function Ne(e){var t=e.routeContext,n=e.match,r=e.children,a=i.useContext(de);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(ye.Provider,{value:t},r)}function Ae(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,s=null==(r=n)?void 0:r.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||O(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,r,a){var u=r.route.id?null==s?void 0:s[r.route.id]:null,c=null;n&&(c=r.route.errorElement||Te);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=u?c:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(Ne,{match:r,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(Ce,{location:n.location,revalidation:n.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var Pe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Pe||{}),De=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(De||{});function Oe(e){var t=i.useContext(de);return t||O(!1),t}function Re(e){var t=i.useContext(pe);return t||O(!1),t}function Le(e){var t=function(e){var t=i.useContext(ye);return t||O(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||O(!1),n.route.id}a.startTransition;function je(e){O(!1)}function Me(e){var t=e.basename,n=void 0===t?"/":t,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?r.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;be()&&O(!1);var d=n.replace(/^\/*/,"/"),p=i.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=F(s));var v=s,m=v.pathname,g=void 0===m?"/":m,y=v.search,k=void 0===y?"":y,b=v.hash,w=void 0===b?"":b,_=v.state,x=void 0===_?null:_,E=v.key,I=void 0===E?"default":E,S=i.useMemo((function(){var e=ee(g,d);return null==e?null:{location:{pathname:e,search:k,hash:w,state:x,key:I},navigationType:c}}),[d,g,k,w,x,I,c]);return null==S?null:i.createElement(me.Provider,{value:p},i.createElement(ge.Provider,{children:o,value:S}))}function Fe(e){var t=e.children,n=e.location;return Ie(ze(t),n)}var Ue=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Ue||{}),Ve=new Promise((function(){}));i.Component;function ze(e,t){void 0===t&&(t=[]);var n=[];return i.Children.forEach(e,(function(e,r){if(i.isValidElement(e)){var a=[].concat(d(t),[r]);if(e.type!==i.Fragment){e.type!==je&&O(!1),e.props.index&&e.props.children&&O(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ze(e.props.children,a)),n.push(o)}else n.push.apply(n,ze(e.props.children,a))}})),n}function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be.apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var He=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var Ke=a.startTransition;function We(e){var t,n=e.basename,r=e.children,a=e.future,o=e.window,s=i.useRef();null==s.current&&(s.current=(void 0===(t={window:o,v5Compat:!0})&&(t={}),U((function(e,t){var n=e.location;return j("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:M(t)}),null,t)));var u=s.current,c=f(i.useState({action:u.action,location:u.location}),2),l=c[0],h=c[1],d=(a||{}).v7_startTransition,p=i.useCallback((function(e){d&&Ke?Ke((function(){return h(e)})):h(e)}),[h,d]);return i.useLayoutEffect((function(){return u.listen(p)}),[u,p]),i.createElement(Me,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:u})}var Ge="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Qe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=i.forwardRef((function(e,t){var n,r=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=qe(e,He),d=i.useContext(me).basename,p=!1;if("string"===typeof l&&Qe.test(l)&&(n=l,Ge))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),g=ee(m.pathname,d);m.origin===v.origin&&null!=g?l=g+m.search+m.hash:p=!0}catch(b){}var y=function(e,t){var n=(void 0===t?{}:t).relative;be()||O(!1);var r=i.useContext(me),a=r.basename,o=r.navigator,s=Ee(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:ie([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),k=function(e,t){var n=void 0===t?{}:t,r=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=xe(),l=we(),f=Ee(e,{relative:u});return i.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();var n=void 0!==a?a:M(l)===M(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,r,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return i.createElement("a",Be({},h,{href:n||y,onClick:p||o?r:function(e){r&&r(e),e.defaultPrevented||k(e)},ref:t,target:c}))}));var Xe,$e;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Xe||(Xe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}($e||($e={}));function Je(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nt(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=nt(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var rt=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=nt(e))&&(r&&(r+=" "),r+=t);return r},it=["theme","type"],at=["delay","staleId"],ot=function(e){return"number"==typeof e&&!isNaN(e)},st=function(e){return"string"==typeof e},ut=function(e){return"function"==typeof e},ct=function(e){return st(e)||ut(e)?e:null},lt=function(e){return(0,i.isValidElement)(e)||st(e)||ut(e)||ot(e)};function ft(e){var t=e.enter,n=e.exit,r=e.appendPosition,a=void 0!==r&&r,o=e.collapse,s=void 0===o||o,u=e.collapseDuration,c=void 0===u?300:u;return function(e){var r=e.children,o=e.position,u=e.preventExitTransition,l=e.done,f=e.nodeRef,h=e.isIn,p=a?"".concat(t,"--").concat(o):t,v=a?"".concat(n,"--").concat(o):n,m=(0,i.useRef)(0);return(0,i.useLayoutEffect)((function(){var e,t=f.current,n=p.split(" "),r=function e(r){var i;r.target===f.current&&(t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",e),t.removeEventListener("animationcancel",e),0===m.current&&"animationcancel"!==r.type&&(i=t.classList).remove.apply(i,d(n)))};(e=t.classList).add.apply(e,d(n)),t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)}),[]),(0,i.useEffect)((function(){var e=f.current,t=function t(){e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()};h||(u?t():(m.current=1,e.className+=" ".concat(v),e.addEventListener("animationend",t)))}),[h]),i.createElement(i.Fragment,null,r)}}function ht(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}var dt={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(r){var i=setTimeout((function(){r.apply(void 0,d([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(i)}))}},pt=function(e){var t=e.theme,n=e.type,r=tt(e,it);return i.createElement("svg",et({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},r))},vt={info:function(e){return i.createElement(pt,et({},e),i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return i.createElement(pt,et({},e),i.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return i.createElement(pt,et({},e),i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return i.createElement(pt,et({},e),i.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return i.createElement("div",{className:"Toastify__spinner"})}};function mt(e){var t=(0,i.useReducer)((function(e){return e+1}),0),n=f(t,2)[1],r=f((0,i.useState)([]),2),a=r[0],o=r[1],s=(0,i.useRef)(null),u=(0,i.useRef)(new Map).current,c=function(e){return-1!==a.indexOf(e)},l=(0,i.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:c,getToast:function(e){return u.get(e)}}).current;function h(e){var t=e.containerId;!l.props.limit||t&&l.containerId!==t||(l.count-=l.queue.length,l.queue=[])}function p(e){o((function(t){return null==e?[]:t.filter((function(t){return t!==e}))}))}function v(){var e=l.queue.shift();g(e.toastContent,e.toastProps,e.staleId)}function m(e,t){var r=t.delay,a=t.staleId,o=tt(t,at);if(lt(e)&&!function(e){return!s.current||l.props.enableMultiContainer&&e.containerId!==l.props.containerId||u.has(e.toastId)&&null==e.updateId}(o)){var c=o.toastId,h=o.updateId,d=o.data,m=l.props,y=function(){return p(c)},k=null==h;k&&l.count++;var b,w,_=et(et(et({},m),{},{style:m.toastStyle,key:l.toastKey++},Object.fromEntries(Object.entries(o).filter((function(e){var t=f(e,2);t[0];return null!=t[1]})))),{},{toastId:c,updateId:h,data:d,closeToast:y,isIn:!1,className:ct(o.className||m.toastClassName),bodyClassName:ct(o.bodyClassName||m.bodyClassName),progressClassName:ct(o.progressClassName||m.progressClassName),autoClose:!o.isLoading&&(b=o.autoClose,w=m.autoClose,!1===b||ot(b)&&b>0?b:w),deleteToast:function(){var e=ht(u.get(c),"removed");u.delete(c),dt.emit(4,e);var t=l.queue.length;if(l.count=null==c?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),t>0){var r=null==c?l.props.limit:1;if(1===t||1===r)l.displayedToast++,v();else{var i=r>t?t:r;l.displayedToast=i;for(var a=0;a<i;a++)v()}}else n()}});_.iconOut=function(e){var t=e.theme,n=e.type,r=e.isLoading,a=e.icon,o=null,s={theme:t,type:n};return!1===a||(ut(a)?o=a(s):(0,i.isValidElement)(a)?o=(0,i.cloneElement)(a,s):st(a)||ot(a)?o=a:r?o=vt.spinner():function(e){return e in vt}(n)&&(o=vt[n](s))),o}(_),ut(o.onOpen)&&(_.onOpen=o.onOpen),ut(o.onClose)&&(_.onClose=o.onClose),_.closeButton=m.closeButton,!1===o.closeButton||lt(o.closeButton)?_.closeButton=o.closeButton:!0===o.closeButton&&(_.closeButton=!lt(m.closeButton)||m.closeButton);var x=e;(0,i.isValidElement)(e)&&!st(e.type)?x=(0,i.cloneElement)(e,{closeToast:y,toastProps:_,data:d}):ut(e)&&(x=e({closeToast:y,toastProps:_,data:d})),m.limit&&m.limit>0&&l.count>m.limit&&k?l.queue.push({toastContent:x,toastProps:_,staleId:a}):ot(r)?setTimeout((function(){g(x,_,a)}),r):g(x,_,a)}}function g(e,t,n){var r=t.toastId;n&&u.delete(n);var i={content:e,props:t};u.set(r,i),o((function(e){return[].concat(d(e),[r]).filter((function(e){return e!==n}))})),dt.emit(4,ht(i,null==i.props.updateId?"added":"updated"))}return(0,i.useEffect)((function(){return l.containerId=e.containerId,dt.cancelEmit(3).on(0,m).on(1,(function(e){return s.current&&p(e)})).on(5,h).emit(2,l),function(){u.clear(),dt.emit(3,l)}}),[]),(0,i.useEffect)((function(){l.props=e,l.isToastActive=c,l.displayedToast=a.length})),{getToastToRender:function(t){var n=new Map,r=Array.from(u.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:s,isToastActive:c}}function gt(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function yt(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function kt(e){var t=f((0,i.useState)(!1),2),n=t[0],r=t[1],a=f((0,i.useState)(!1),2),o=a[0],s=a[1],u=(0,i.useRef)(null),c=(0,i.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,i.useRef)(e),h=e.autoClose,d=e.pauseOnHover,p=e.closeToast,v=e.onClick,m=e.closeOnClick;function g(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),c.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",_),document.addEventListener("touchmove",w),document.addEventListener("touchend",_);var n=u.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=n.getBoundingClientRect(),n.style.transition="",c.x=gt(t.nativeEvent),c.y=yt(t.nativeEvent),"x"===e.draggableDirection?(c.start=c.x,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=c.y,c.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function y(t){if(c.boundingRect){var n=c.boundingRect,r=n.top,i=n.bottom,a=n.left,o=n.right;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&c.x>=a&&c.x<=o&&c.y>=r&&c.y<=i?b():k()}}function k(){r(!0)}function b(){r(!1)}function w(t){var r=u.current;c.canDrag&&r&&(c.didMove=!0,n&&b(),c.x=gt(t),c.y=yt(t),c.delta="x"===e.draggableDirection?c.x-c.start:c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),r.style.transform="translate".concat(e.draggableDirection,"(").concat(c.delta,"px)"),r.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function _(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",_);var t=u.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,i.useEffect)((function(){l.current=e})),(0,i.useEffect)((function(){return u.current&&u.current.addEventListener("d",k,{once:!0}),ut(e.onOpen)&&e.onOpen((0,i.isValidElement)(e.children)&&e.children.props),function(){var e=l.current;ut(e.onClose)&&e.onClose((0,i.isValidElement)(e.children)&&e.children.props)}}),[]),(0,i.useEffect)((function(){return e.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",k),window.addEventListener("blur",b)),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",k),window.removeEventListener("blur",b))}}),[e.pauseOnFocusLoss]);var x={onMouseDown:g,onTouchStart:g,onMouseUp:y,onTouchEnd:y};return h&&d&&(x.onMouseEnter=b,x.onMouseLeave=k),m&&(x.onClick=function(e){v&&v(e),c.canCloseOnClick&&p()}),{playToast:k,pauseToast:b,isRunning:n,preventExitTransition:o,toastRef:u,eventHandlers:x}}function bt(e){var t=e.closeToast,n=e.theme,r=e.ariaLabel,a=void 0===r?"close":r;return i.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:function(e){e.stopPropagation(),t(e)},"aria-label":a},i.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},i.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function wt(e){var t=e.delay,n=e.isRunning,r=e.closeToast,a=e.type,o=void 0===a?"default":a,s=e.hide,u=e.className,c=e.style,l=e.controlledProgress,f=e.progress,h=e.rtl,d=e.isIn,p=e.theme,v=s||l&&0===f,m=et(et({},c),{},{animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused",opacity:v?0:1});l&&(m.transform="scaleX(".concat(f,")"));var g=rt("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(p),"Toastify__progress-bar--".concat(o),{"Toastify__progress-bar--rtl":h}),y=ut(u)?u({rtl:h,type:o,defaultClassName:g}):rt(g,u);return i.createElement("div",Je({role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:y,style:m},l&&f>=1?"onTransitionEnd":"onAnimationEnd",l&&f<1?null:function(){d&&r()}))}var _t=function(e){var t=kt(e),n=t.isRunning,r=t.preventExitTransition,a=t.toastRef,o=t.eventHandlers,s=e.closeButton,u=e.children,c=e.autoClose,l=e.onClick,f=e.type,h=e.hideProgressBar,d=e.closeToast,p=e.transition,v=e.position,m=e.className,g=e.style,y=e.bodyClassName,k=e.bodyStyle,b=e.progressClassName,w=e.progressStyle,_=e.updateId,x=e.role,E=e.progress,I=e.rtl,S=e.toastId,T=e.deleteToast,C=e.isIn,N=e.isLoading,A=e.iconOut,P=e.closeOnClick,D=e.theme,O=rt("Toastify__toast","Toastify__toast-theme--".concat(D),"Toastify__toast--".concat(f),{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":P}),R=ut(m)?m({rtl:I,position:v,type:f,defaultClassName:O}):rt(O,m),L=!!E||!c,j={closeToast:d,type:f,theme:D},M=null;return!1===s||(M=ut(s)?s(j):(0,i.isValidElement)(s)?(0,i.cloneElement)(s,j):bt(j)),i.createElement(p,{isIn:C,done:T,position:v,preventExitTransition:r,nodeRef:a},i.createElement("div",et(et({id:S,onClick:l,className:R},o),{},{style:g,ref:a}),i.createElement("div",et(et({},C&&{role:x}),{},{className:ut(y)?y({type:f}):rt("Toastify__toast-body",y),style:k}),null!=A&&i.createElement("div",{className:rt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},A),i.createElement("div",null,u)),M,i.createElement(wt,et(et({},_&&!L?{key:"pb-".concat(_)}:{}),{},{rtl:I,theme:D,delay:c,isRunning:n,isIn:C,closeToast:d,hide:h,type:f,style:w,className:b,controlledProgress:L,progress:E||0}))))},xt=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},Et=ft(xt("bounce",!0)),It=(ft(xt("slide",!0)),ft(xt("zoom")),ft(xt("flip")),(0,i.forwardRef)((function(e,t){var n=mt(e),r=n.getToastToRender,a=n.containerRef,o=n.isToastActive,s=e.className,u=e.style,c=e.rtl,l=e.containerId;function f(e){var t=rt("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":c});return ut(s)?s({position:e,rtl:c,defaultClassName:t}):rt(t,ct(s))}return(0,i.useEffect)((function(){t&&(t.current=a.current)}),[]),i.createElement("div",{ref:a,className:"Toastify",id:l},r((function(e,t){var n=t.length?et({},u):et(et({},u),{},{pointerEvents:"none"});return i.createElement("div",{className:f(e),style:n,key:"container-".concat(e)},t.map((function(e,n){var r=e.content,a=e.props;return i.createElement(_t,et(et({},a),{},{isIn:o(a.toastId),style:et(et({},a.style),{},{"--nth":n+1,"--len":t.length}),key:"toast-".concat(a.key)}),r)})))})))})));It.displayName="ToastContainer",It.defaultProps={position:"top-right",transition:Et,autoClose:5e3,closeButton:bt,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var St,Tt=new Map,Ct=[],Nt=1;function At(){return""+Nt++}function Pt(e){return e&&(st(e.toastId)||ot(e.toastId))?e.toastId:At()}function Dt(e,t){return Tt.size>0?dt.emit(0,e,t):Ct.push({content:e,options:t}),t.toastId}function Ot(e,t){return et(et({},t),{},{type:t&&t.type||e,toastId:Pt(t)})}function Rt(e){return function(t,n){return Dt(t,Ot(e,n))}}function Lt(e,t){return Dt(e,Ot("default",t))}function jt(){return jt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},jt.apply(this,arguments)}Lt.loading=function(e,t){return Dt(e,Ot("default",et({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},Lt.promise=function(e,t,n){var r,i=t.pending,a=t.error,o=t.success;i&&(r=st(i)?Lt.loading(i,n):Lt.loading(i.render,et(et({},n),i)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=function(e,t,i){if(null!=t){var a=et(et(et({type:e},s),n),{},{data:i}),o=st(t)?{render:t}:t;return r?Lt.update(r,et(et({},a),o)):Lt(o.render,et(et({},a),o)),i}Lt.dismiss(r)},c=ut(e)?e():e;return c.then((function(e){return u("success",o,e)})).catch((function(e){return u("error",a,e)})),c},Lt.success=Rt("success"),Lt.info=Rt("info"),Lt.error=Rt("error"),Lt.warning=Rt("warning"),Lt.warn=Lt.warning,Lt.dark=function(e,t){return Dt(e,Ot("default",et({theme:"dark"},t)))},Lt.dismiss=function(e){Tt.size>0?dt.emit(1,e):Ct=Ct.filter((function(t){return null!=e&&t.options.toastId!==e}))},Lt.clearWaitingQueue=function(e){return void 0===e&&(e={}),dt.emit(5,e)},Lt.isActive=function(e){var t=!1;return Tt.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},Lt.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=Tt.get(n||St);return r&&r.getToast(e)}(e,t);if(n){var r=n.props,i=n.content,a=et(et(et({delay:100},r),t),{},{toastId:t.toastId||e,updateId:At()});a.toastId!==e&&(a.staleId=e);var o=a.render||i;delete a.render,Dt(o,a)}}),0)},Lt.done=function(e){Lt.update(e,{progress:1})},Lt.onChange=function(e){return dt.on(4,e),function(){dt.off(4,e)}},Lt.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Lt.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},dt.on(2,(function(e){St=e.containerId||e,Tt.set(St,e),Ct.forEach((function(e){dt.emit(0,e.content,e.options)})),Ct=[]})).on(3,(function(e){Tt.delete(e.containerId||e),0===Tt.size&&dt.off(0).off(1).off(5)}));var Mt="top",Ft="bottom",Ut="right",Vt="left",zt="auto",Bt=[Mt,Ft,Ut,Vt],qt="start",Ht="end",Kt="clippingParents",Wt="viewport",Gt="popper",Qt="reference",Yt=Bt.reduce((function(e,t){return e.concat([t+"-"+qt,t+"-"+Ht])}),[]),Xt=[].concat(Bt,[zt]).reduce((function(e,t){return e.concat([t,t+"-"+qt,t+"-"+Ht])}),[]),$t="beforeRead",Jt="read",Zt="afterRead",en="beforeMain",tn="main",nn="afterMain",rn="beforeWrite",an="write",on="afterWrite",sn=[$t,Jt,Zt,en,tn,nn,rn,an,on];function un(e){return e?(e.nodeName||"").toLowerCase():null}function cn(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ln(e){return e instanceof cn(e).Element||e instanceof Element}function fn(e){return e instanceof cn(e).HTMLElement||e instanceof HTMLElement}function hn(e){return"undefined"!==typeof ShadowRoot&&(e instanceof cn(e).ShadowRoot||e instanceof ShadowRoot)}var dn={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];fn(i)&&un(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});fn(r)&&un(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function pn(e){return e.split("-")[0]}var vn=Math.max,mn=Math.min,gn=Math.round;function yn(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function kn(){return!/^((?!chrome|android).)*safari/i.test(yn())}function bn(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&fn(e)&&(i=e.offsetWidth>0&&gn(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&gn(r.height)/e.offsetHeight||1);var o=(ln(e)?cn(e):window).visualViewport,s=!kn()&&n,u=(r.left+(s&&o?o.offsetLeft:0))/i,c=(r.top+(s&&o?o.offsetTop:0))/a,l=r.width/i,f=r.height/a;return{width:l,height:f,top:c,right:u+l,bottom:c+f,left:u,x:u,y:c}}function wn(e){var t=bn(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function _n(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&hn(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function xn(e){return cn(e).getComputedStyle(e)}function En(e){return["table","td","th"].indexOf(un(e))>=0}function In(e){return((ln(e)?e.ownerDocument:e.document)||window.document).documentElement}function Sn(e){return"html"===un(e)?e:e.assignedSlot||e.parentNode||(hn(e)?e.host:null)||In(e)}function Tn(e){return fn(e)&&"fixed"!==xn(e).position?e.offsetParent:null}function Cn(e){for(var t=cn(e),n=Tn(e);n&&En(n)&&"static"===xn(n).position;)n=Tn(n);return n&&("html"===un(n)||"body"===un(n)&&"static"===xn(n).position)?t:n||function(e){var t=/firefox/i.test(yn());if(/Trident/i.test(yn())&&fn(e)&&"fixed"===xn(e).position)return null;var n=Sn(e);for(hn(n)&&(n=n.host);fn(n)&&["html","body"].indexOf(un(n))<0;){var r=xn(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Nn(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function An(e,t,n){return vn(e,mn(t,n))}function Pn(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Dn(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var On={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=pn(n.placement),u=Nn(s),c=[Vt,Ut].indexOf(s)>=0?"height":"width";if(a&&o){var l=function(e,t){return Pn("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Dn(e,Bt))}(i.padding,n),f=wn(a),h="y"===u?Mt:Vt,d="y"===u?Ft:Ut,p=n.rects.reference[c]+n.rects.reference[u]-o[u]-n.rects.popper[c],v=o[u]-n.rects.reference[u],m=Cn(a),g=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,y=p/2-v/2,k=l[h],b=g-f[c]-l[d],w=g/2-f[c]/2+y,_=An(k,w,b),x=u;n.modifiersData[r]=((t={})[x]=_,t.centerOffset=_-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&_n(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Rn(e){return e.split("-")[1]}var Ln={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jn(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,h=o.x,d=void 0===h?0:h,p=o.y,v=void 0===p?0:p,m="function"===typeof l?l({x:d,y:v}):{x:d,y:v};d=m.x,v=m.y;var g=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),k=Vt,b=Mt,w=window;if(c){var _=Cn(n),x="clientHeight",E="clientWidth";if(_===cn(n)&&"static"!==xn(_=In(n)).position&&"absolute"===s&&(x="scrollHeight",E="scrollWidth"),i===Mt||(i===Vt||i===Ut)&&a===Ht)b=Ft,v-=(f&&_===w&&w.visualViewport?w.visualViewport.height:_[x])-r.height,v*=u?1:-1;if(i===Vt||(i===Mt||i===Ft)&&a===Ht)k=Ut,d-=(f&&_===w&&w.visualViewport?w.visualViewport.width:_[E])-r.width,d*=u?1:-1}var I,S=Object.assign({position:s},c&&Ln),T=!0===l?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:gn(n*i)/i||0,y:gn(r*i)/i||0}}({x:d,y:v},cn(n)):{x:d,y:v};return d=T.x,v=T.y,u?Object.assign({},S,((I={})[b]=y?"0":"",I[k]=g?"0":"",I.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",I)):Object.assign({},S,((t={})[b]=y?v+"px":"",t[k]=g?d+"px":"",t.transform="",t))}var Mn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,u=void 0===s||s,c={placement:pn(t.placement),variation:Rn(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,jn(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,jn(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Fn={passive:!0};var Un={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,u=cn(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,Fn)})),s&&u.addEventListener("resize",n.update,Fn),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Fn)})),s&&u.removeEventListener("resize",n.update,Fn)}},data:{}},Vn={left:"right",right:"left",bottom:"top",top:"bottom"};function zn(e){return e.replace(/left|right|bottom|top/g,(function(e){return Vn[e]}))}var Bn={start:"end",end:"start"};function qn(e){return e.replace(/start|end/g,(function(e){return Bn[e]}))}function Hn(e){var t=cn(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Kn(e){return bn(In(e)).left+Hn(e).scrollLeft}function Wn(e){var t=xn(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Gn(e){return["html","body","#document"].indexOf(un(e))>=0?e.ownerDocument.body:fn(e)&&Wn(e)?e:Gn(Sn(e))}function Qn(e,t){var n;void 0===t&&(t=[]);var r=Gn(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=cn(r),o=i?[a].concat(a.visualViewport||[],Wn(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(Qn(Sn(o)))}function Yn(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Xn(e,t,n){return t===Wt?Yn(function(e,t){var n=cn(e),r=In(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,u=0;if(i){a=i.width,o=i.height;var c=kn();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:a,height:o,x:s+Kn(e),y:u}}(e,n)):ln(t)?function(e,t){var n=bn(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Yn(function(e){var t,n=In(e),r=Hn(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=vn(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=vn(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Kn(e),u=-r.scrollTop;return"rtl"===xn(i||n).direction&&(s+=vn(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}(In(e)))}function $n(e,t,n,r){var i="clippingParents"===t?function(e){var t=Qn(Sn(e)),n=["absolute","fixed"].indexOf(xn(e).position)>=0&&fn(e)?Cn(e):e;return ln(n)?t.filter((function(e){return ln(e)&&_n(e,n)&&"body"!==un(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),o=a[0],s=a.reduce((function(t,n){var i=Xn(e,n,r);return t.top=vn(i.top,t.top),t.right=mn(i.right,t.right),t.bottom=mn(i.bottom,t.bottom),t.left=vn(i.left,t.left),t}),Xn(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Jn(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?pn(i):null,o=i?Rn(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(a){case Mt:t={x:s,y:n.y-r.height};break;case Ft:t={x:s,y:n.y+n.height};break;case Ut:t={x:n.x+n.width,y:u};break;case Vt:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=a?Nn(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case qt:t[c]=t[c]-(n[l]/2-r[l]/2);break;case Ht:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function Zn(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,o=void 0===a?e.strategy:a,s=n.boundary,u=void 0===s?Kt:s,c=n.rootBoundary,l=void 0===c?Wt:c,f=n.elementContext,h=void 0===f?Gt:f,d=n.altBoundary,p=void 0!==d&&d,v=n.padding,m=void 0===v?0:v,g=Pn("number"!==typeof m?m:Dn(m,Bt)),y=h===Gt?Qt:Gt,k=e.rects.popper,b=e.elements[p?y:h],w=$n(ln(b)?b:b.contextElement||In(e.elements.popper),u,l,o),_=bn(e.elements.reference),x=Jn({reference:_,element:k,strategy:"absolute",placement:i}),E=Yn(Object.assign({},k,x)),I=h===Gt?E:_,S={top:w.top-I.top+g.top,bottom:I.bottom-w.bottom+g.bottom,left:w.left-I.left+g.left,right:I.right-w.right+g.right},T=e.modifiersData.offset;if(h===Gt&&T){var C=T[i];Object.keys(S).forEach((function(e){var t=[Ut,Ft].indexOf(e)>=0?1:-1,n=[Mt,Ft].indexOf(e)>=0?"y":"x";S[e]+=C[n]*t}))}return S}var er={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,g=pn(m),y=u||(g===m||!p?[zn(m)]:function(e){if(pn(e)===zt)return[];var t=zn(e);return[qn(e),t,qn(t)]}(m)),k=[m].concat(y).reduce((function(e,n){return e.concat(pn(n)===zt?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?Xt:u,l=Rn(r),f=l?s?Yt:Yt.filter((function(e){return Rn(e)===l})):Bt,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=Zn(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[pn(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,w=t.rects.popper,_=new Map,x=!0,E=k[0],I=0;I<k.length;I++){var S=k[I],T=pn(S),C=Rn(S)===qt,N=[Mt,Ft].indexOf(T)>=0,A=N?"width":"height",P=Zn(t,{placement:S,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),D=N?C?Ut:Vt:C?Ft:Mt;b[A]>w[A]&&(D=zn(D));var O=zn(D),R=[];if(a&&R.push(P[T]<=0),s&&R.push(P[D]<=0,P[O]<=0),R.every((function(e){return e}))){E=S,x=!1;break}_.set(S,R)}if(x)for(var L=function(e){var t=k.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},j=p?3:1;j>0;j--){if("break"===L(j))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function tr(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function nr(e){return[Mt,Ut,Ft,Vt].some((function(t){return e[t]>=0}))}var rr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=Zn(t,{elementContext:"reference"}),s=Zn(t,{altBoundary:!0}),u=tr(o,r),c=tr(s,i,a),l=nr(u),f=nr(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}};var ir={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=Xt.reduce((function(e,n){return e[n]=function(e,t,n){var r=pn(e),i=[Vt,Mt].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Vt,Ut].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var ar={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Jn({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var or={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,m=Zn(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),g=pn(t.placement),y=Rn(t.placement),k=!y,b=Nn(g),w="x"===b?"y":"x",_=t.modifiersData.popperOffsets,x=t.rects.reference,E=t.rects.popper,I="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,S="number"===typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(_){if(a){var N,A="y"===b?Mt:Vt,P="y"===b?Ft:Ut,D="y"===b?"height":"width",O=_[b],R=O+m[A],L=O-m[P],j=d?-E[D]/2:0,M=y===qt?x[D]:E[D],F=y===qt?-E[D]:-x[D],U=t.elements.arrow,V=d&&U?wn(U):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=z[A],q=z[P],H=An(0,x[D],V[D]),K=k?x[D]/2-j-H-B-S.mainAxis:M-H-B-S.mainAxis,W=k?-x[D]/2+j+H+q+S.mainAxis:F+H+q+S.mainAxis,G=t.elements.arrow&&Cn(t.elements.arrow),Q=G?"y"===b?G.clientTop||0:G.clientLeft||0:0,Y=null!=(N=null==T?void 0:T[b])?N:0,X=O+W-Y,$=An(d?mn(R,O+K-Y-Q):R,O,d?vn(L,X):L);_[b]=$,C[b]=$-O}if(s){var J,Z="x"===b?Mt:Vt,ee="x"===b?Ft:Ut,te=_[w],ne="y"===w?"height":"width",re=te+m[Z],ie=te-m[ee],ae=-1!==[Mt,Vt].indexOf(g),oe=null!=(J=null==T?void 0:T[w])?J:0,se=ae?re:te-x[ne]-E[ne]-oe+S.altAxis,ue=ae?te+x[ne]+E[ne]-oe-S.altAxis:ie,ce=d&&ae?function(e,t,n){var r=An(e,t,n);return r>n?n:r}(se,te,ue):An(d?se:re,te,d?ue:ie);_[w]=ce,C[w]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};function sr(e,t,n){void 0===n&&(n=!1);var r=fn(t),i=fn(t)&&function(e){var t=e.getBoundingClientRect(),n=gn(t.width)/e.offsetWidth||1,r=gn(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=In(t),o=bn(e,i,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==un(t)||Wn(a))&&(s=function(e){return e!==cn(e)&&fn(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Hn(e);var t}(t)),fn(t)?((u=bn(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=Kn(a))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function ur(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function cr(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var lr={placement:"bottom",modifiers:[],strategy:"absolute"};function fr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function hr(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?lr:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},lr,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,s),i.scrollParents={reference:ln(e)?Qn(e):e.contextElement?Qn(e.contextElement):[],popper:Qn(t)};var l=function(e){var t=ur(e);return sn.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:u,options:r}),c=function(){};o.push(s||c)}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(fr(t,n)){i.rects={reference:sr(t,Cn(n),"fixed"===i.options.strategy),popper:wn(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:u})||i)}else i.reset=!1,r=-1}}},update:cr((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!fr(e,t))return u;function c(){o.forEach((function(e){return e()})),o=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var dr,pr=hr(),vr=hr({defaultModifiers:[Un,ar,Mn,dn,ir,er,or,On,rr]}),mr=hr({defaultModifiers:[Un,ar,Mn,dn]}),gr=new Map,yr=function(e,t,n){gr.has(e)||gr.set(e,new Map);var r=gr.get(e);r.has(t)||0===r.size?r.set(t,n):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(r.keys())[0],"."))},kr=function(e,t){return gr.has(e)&&gr.get(e).get(t)||null},br=function(e,t){if(gr.has(e)){var n=gr.get(e);n.delete(t),0===n.size&&gr.delete(e)}},wr="transitionend",_r=function(e){return e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(function(e,t){return"#".concat(CSS.escape(t))}))),e},xr=function(e){e.dispatchEvent(new Event(wr))},Er=function(e){return!(!e||"object"!==typeof e)&&("undefined"!==typeof e.jquery&&(e=e[0]),"undefined"!==typeof e.nodeType)},Ir=function(e){return Er(e)?e.jquery?e[0]:e:"string"===typeof e&&e.length>0?document.querySelector(_r(e)):null},Sr=function(e){if(!Er(e)||0===e.getClientRects().length)return!1;var t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){var r=e.closest("summary");if(r&&r.parentNode!==n)return!1;if(null===r)return!1}return t},Tr=function(e){return!e||e.nodeType!==Node.ELEMENT_NODE||(!!e.classList.contains("disabled")||("undefined"!==typeof e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")))},Cr=function e(t){if(!document.documentElement.attachShadow)return null;if("function"===typeof t.getRootNode){var n=t.getRootNode();return n instanceof ShadowRoot?n:null}return t instanceof ShadowRoot?t:t.parentNode?e(t.parentNode):null},Nr=function(){},Ar=function(e){e.offsetHeight},Pr=function(){return window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null},Dr=[],Or=function(){return"rtl"===document.documentElement.dir},Rr=function(e){var t;t=function(){var t=Pr();if(t){var n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=function(){return t.fn[n]=r,e.jQueryInterface}}},"loading"===document.readyState?(Dr.length||document.addEventListener("DOMContentLoaded",(function(){for(var e=0,t=Dr;e<t.length;e++)(0,t[e])()})),Dr.push(t)):t()},Lr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return"function"===typeof e?e.apply(void 0,d(t)):n},jr=function(e,t){if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){var n=function(e){if(!e)return 0;var t=window.getComputedStyle(e),n=t.transitionDuration,r=t.transitionDelay,i=Number.parseFloat(n),a=Number.parseFloat(r);return i||a?(n=n.split(",")[0],r=r.split(",")[0],1e3*(Number.parseFloat(n)+Number.parseFloat(r))):0}(t)+5,r=!1;t.addEventListener(wr,(function n(i){i.target===t&&(r=!0,t.removeEventListener(wr,n),Lr(e))})),setTimeout((function(){r||xr(t)}),n)}else Lr(e)},Mr=function(e,t,n,r){var i=e.length,a=e.indexOf(t);return-1===a?!n&&r?e[i-1]:e[0]:(a+=n?1:-1,r&&(a=(a+i)%i),e[Math.max(0,Math.min(a,i-1))])},Fr=/[^.]*(?=\..*)\.|.*/,Ur=/\..*/,Vr=/::\d+$/,zr={},Br=1,qr={mouseenter:"mouseover",mouseleave:"mouseout"},Hr=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Kr(e,t){return t&&"".concat(t,"::").concat(Br++)||e.uidEvent||Br++}function Wr(e){var t=Kr(e);return e.uidEvent=t,zr[t]=zr[t]||{},zr[t]}function Gr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object.values(e).find((function(e){return e.callable===t&&e.delegationSelector===n}))}function Qr(e,t,n){var r="string"===typeof t,i=r?n:t||n,a=Jr(e);return Hr.has(a)||(a=e),[r,i,a]}function Yr(e,t,n,r,i){if("string"===typeof t&&e){var a=f(Qr(t,n,r),3),o=a[0],s=a[1],u=a[2];if(t in qr){s=function(e){return function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)}}(s)}var c=Wr(e),l=c[u]||(c[u]={}),h=Gr(l,s,o?n:null);if(h)h.oneOff=h.oneOff&&i;else{var d=Kr(s,t.replace(Fr,"")),p=o?function(e,t,n){return function r(i){for(var a=e.querySelectorAll(t),o=i.target;o&&o!==this;o=o.parentNode){var s,u=N(a);try{for(u.s();!(s=u.n()).done;)if(s.value===o)return ei(i,{delegateTarget:o}),r.oneOff&&Zr.off(e,i.type,t,n),n.apply(o,[i])}catch(c){u.e(c)}finally{u.f()}}}}(e,n,s):function(e,t){return function n(r){return ei(r,{delegateTarget:e}),n.oneOff&&Zr.off(e,r.type,t),t.apply(e,[r])}}(e,s);p.delegationSelector=o?n:null,p.callable=s,p.oneOff=i,p.uidEvent=d,l[d]=p,e.addEventListener(u,p,o)}}}function Xr(e,t,n,r,i){var a=Gr(t[n],r,i);a&&(e.removeEventListener(n,a,Boolean(i)),delete t[n][a.uidEvent])}function $r(e,t,n,r){for(var i=t[n]||{},a=0,o=Object.entries(i);a<o.length;a++){var s=f(o[a],2),u=s[0],c=s[1];u.includes(r)&&Xr(e,t,n,c.callable,c.delegationSelector)}}function Jr(e){return e=e.replace(Ur,""),qr[e]||e}var Zr={on:function(e,t,n,r){Yr(e,t,n,r,!1)},one:function(e,t,n,r){Yr(e,t,n,r,!0)},off:function(e,t,n,r){if("string"===typeof t&&e){var i=f(Qr(t,n,r),3),a=i[0],o=i[1],s=i[2],u=s!==t,c=Wr(e),l=c[s]||{},h=t.startsWith(".");if("undefined"===typeof o){if(h)for(var d=0,p=Object.keys(c);d<p.length;d++){$r(e,c,p[d],t.slice(1))}for(var v=0,m=Object.entries(l);v<m.length;v++){var g=f(m[v],2),y=g[0],k=g[1],b=y.replace(Vr,"");u&&!t.includes(b)||Xr(e,c,s,k.callable,k.delegationSelector)}}else{if(!Object.keys(l).length)return;Xr(e,c,s,o,a?n:null)}}},trigger:function(e,t,n){if("string"!==typeof t||!e)return null;var r=Pr(),i=null,a=!0,o=!0,s=!1;t!==Jr(t)&&r&&(i=r.Event(t,n),r(e).trigger(i),a=!i.isPropagationStopped(),o=!i.isImmediatePropagationStopped(),s=i.isDefaultPrevented());var u=ei(new Event(t,{bubbles:a,cancelable:!0}),n);return s&&u.preventDefault(),o&&e.dispatchEvent(u),u.defaultPrevented&&i&&i.preventDefault(),u}};function ei(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){var t=f(i[r],2),n=t[0],a=t[1];try{e[n]=a}catch(o){Object.defineProperty(e,n,{configurable:!0,get:function(){return a}})}},r=0,i=Object.entries(t);r<i.length;r++)n();return e}function ti(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!==typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function ni(e){return e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))}var ri=function(e,t,n){e.setAttribute("data-bs-".concat(ni(t)),n)},ii=function(e,t){e.removeAttribute("data-bs-".concat(ni(t)))},ai=function(e){if(!e)return{};var t,n={},r=Object.keys(e.dataset).filter((function(e){return e.startsWith("bs")&&!e.startsWith("bsConfig")})),i=N(r);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=a.replace(/^bs/,"");n[o=o.charAt(0).toLowerCase()+o.slice(1,o.length)]=ti(e.dataset[a])}}catch(s){i.e(s)}finally{i.f()}return n},oi=function(e,t){return ti(e.getAttribute("data-bs-".concat(ni(t))))},si=function(){function e(){p(this,e)}return y(e,[{key:"_getConfig",value:function(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}},{key:"_configAfterMerge",value:function(e){return e}},{key:"_mergeConfigObj",value:function(e,t){var n=Er(t)?oi(t,"config"):{};return et(et(et(et({},this.constructor.Default),"object"===typeof n?n:{}),Er(t)?ai(t):{}),"object"===typeof e?e:{})}},{key:"_typeCheckConfig",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.DefaultType,r=0,i=Object.entries(n);r<i.length;r++){var a=f(i[r],2),o=a[0],s=a[1],u=e[o],c=Er(u)?"element":null===(t=u)||void 0===t?"".concat(t):Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(s).test(c))throw new TypeError("".concat(this.constructor.NAME.toUpperCase(),': Option "').concat(o,'" provided type "').concat(c,'" but expected type "').concat(s,'".'))}}}],[{key:"Default",get:function(){return{}}},{key:"DefaultType",get:function(){return{}}},{key:"NAME",get:function(){throw new Error('You have to implement the static method "NAME", for each component!')}}]),e}(),ui=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),i=t.call(this),(e=Ir(e))?(i._element=e,i._config=i._getConfig(r),yr(i._element,i.constructor.DATA_KEY,x(i)),i):E(i)}return y(n,[{key:"dispose",value:function(){br(this._element,this.constructor.DATA_KEY),Zr.off(this._element,this.constructor.EVENT_KEY);var e,t=N(Object.getOwnPropertyNames(this));try{for(t.s();!(e=t.n()).done;){this[e.value]=null}}catch(n){t.e(n)}finally{t.f()}}},{key:"_queueCallback",value:function(e,t){jr(e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}},{key:"_getConfig",value:function(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}}],[{key:"getInstance",value:function(e){return kr(Ir(e),this.DATA_KEY)}},{key:"getOrCreateInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(e)||new this(e,"object"===typeof t?t:null)}},{key:"VERSION",get:function(){return"5.3.2"}},{key:"DATA_KEY",get:function(){return"bs.".concat(this.NAME)}},{key:"EVENT_KEY",get:function(){return".".concat(this.DATA_KEY)}},{key:"eventName",value:function(e){return"".concat(e).concat(this.EVENT_KEY)}}]),n}(si),ci=function(e){var t=e.getAttribute("data-bs-target");if(!t||"#"===t){var n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#".concat(n.split("#")[1])),t=n&&"#"!==n?_r(n.trim()):null}return t},li={find:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return(t=[]).concat.apply(t,d(Element.prototype.querySelectorAll.call(n,e)))},findOne:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(t,e)},children:function(e,t){var n;return(n=[]).concat.apply(n,d(e.children)).filter((function(e){return e.matches(t)}))},parents:function(e,t){for(var n=[],r=e.parentNode.closest(t);r;)n.push(r),r=r.parentNode.closest(t);return n},prev:function(e,t){for(var n=e.previousElementSibling;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next:function(e,t){for(var n=e.nextElementSibling;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren:function(e){var t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((function(e){return"".concat(e,':not([tabindex^="-"])')})).join(",");return this.find(t,e).filter((function(e){return!Tr(e)&&Sr(e)}))},getSelectorFromElement:function(e){var t=ci(e);return t&&li.findOne(t)?t:null},getElementFromSelector:function(e){var t=ci(e);return t?li.findOne(t):null},getMultipleElementsFromSelector:function(e){var t=ci(e);return t?li.find(t):[]}},fi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide",n="click.dismiss".concat(e.EVENT_KEY),r=e.NAME;Zr.on(document,n,'[data-bs-dismiss="'.concat(r,'"]'),(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Tr(this)){var i=li.getElementFromSelector(this)||this.closest(".".concat(r));e.getOrCreateInstance(i)[t]()}}))},hi=".".concat("bs.alert"),di="close".concat(hi),pi="closed".concat(hi),vi=function(e){b(n,e);var t=I(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"close",value:function(){var e=this;if(!Zr.trigger(this._element,di).defaultPrevented){this._element.classList.remove("show");var t=this._element.classList.contains("fade");this._queueCallback((function(){return e._destroyElement()}),this._element,t)}}},{key:"_destroyElement",value:function(){this._element.remove(),Zr.trigger(this._element,pi),this.dispose()}}],[{key:"NAME",get:function(){return"alert"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(ui);fi(vi,"close"),Rr(vi);var mi=".".concat("bs.button"),gi='[data-bs-toggle="button"]',yi="click".concat(mi).concat(".data-api"),ki=function(e){b(n,e);var t=I(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"toggle",value:function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}}],[{key:"NAME",get:function(){return"button"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}]),n}(ui);Zr.on(document,yi,gi,(function(e){e.preventDefault();var t=e.target.closest(gi);ki.getOrCreateInstance(t).toggle()})),Rr(ki);var bi=".bs.swipe",wi="touchstart".concat(bi),_i="touchmove".concat(bi),xi="touchend".concat(bi),Ei="pointerdown".concat(bi),Ii="pointerup".concat(bi),Si={endCallback:null,leftCallback:null,rightCallback:null},Ti={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},Ci=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this))._element=e,e&&n.isSupported()?(i._config=i._getConfig(r),i._deltaX=0,i._supportPointerEvents=Boolean(window.PointerEvent),i._initEvents(),i):E(i)}return y(n,[{key:"dispose",value:function(){Zr.off(this._element,bi)}},{key:"_start",value:function(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}},{key:"_end",value:function(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Lr(this._config.endCallback)}},{key:"_move",value:function(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}},{key:"_handleSwipe",value:function(){var e=Math.abs(this._deltaX);if(!(e<=40)){var t=e/this._deltaX;this._deltaX=0,t&&Lr(t>0?this._config.rightCallback:this._config.leftCallback)}}},{key:"_initEvents",value:function(){var e=this;this._supportPointerEvents?(Zr.on(this._element,Ei,(function(t){return e._start(t)})),Zr.on(this._element,Ii,(function(t){return e._end(t)})),this._element.classList.add("pointer-event")):(Zr.on(this._element,wi,(function(t){return e._start(t)})),Zr.on(this._element,_i,(function(t){return e._move(t)})),Zr.on(this._element,xi,(function(t){return e._end(t)})))}},{key:"_eventIsPointerPenTouch",value:function(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}}],[{key:"Default",get:function(){return Si}},{key:"DefaultType",get:function(){return Ti}},{key:"NAME",get:function(){return"swipe"}},{key:"isSupported",value:function(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}]),n}(si),Ni=".".concat("bs.carousel"),Ai=".data-api",Pi="next",Di="prev",Oi="left",Ri="right",Li="slide".concat(Ni),ji="slid".concat(Ni),Mi="keydown".concat(Ni),Fi="mouseenter".concat(Ni),Ui="mouseleave".concat(Ni),Vi="dragstart".concat(Ni),zi="load".concat(Ni).concat(Ai),Bi="click".concat(Ni).concat(Ai),qi="carousel",Hi="active",Ki=".active",Wi=".carousel-item",Gi=Ki+Wi,Qi=(Je(dr={},"ArrowLeft",Ri),Je(dr,"ArrowRight",Oi),dr),Yi={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Xi={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},$i=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r))._interval=null,i._activeElement=null,i._isSliding=!1,i.touchTimeout=null,i._swipeHelper=null,i._indicatorsElement=li.findOne(".carousel-indicators",i._element),i._addEventListeners(),i._config.ride===qi&&i.cycle(),i}return y(n,[{key:"next",value:function(){this._slide(Pi)}},{key:"nextWhenVisible",value:function(){!document.hidden&&Sr(this._element)&&this.next()}},{key:"prev",value:function(){this._slide(Di)}},{key:"pause",value:function(){this._isSliding&&xr(this._element),this._clearInterval()}},{key:"cycle",value:function(){var e=this;this._clearInterval(),this._updateInterval(),this._interval=setInterval((function(){return e.nextWhenVisible()}),this._config.interval)}},{key:"_maybeEnableCycle",value:function(){var e=this;this._config.ride&&(this._isSliding?Zr.one(this._element,ji,(function(){return e.cycle()})):this.cycle())}},{key:"to",value:function(e){var t=this,n=this._getItems();if(!(e>n.length-1||e<0))if(this._isSliding)Zr.one(this._element,ji,(function(){return t.to(e)}));else{var r=this._getItemIndex(this._getActive());if(r!==e){var i=e>r?Pi:Di;this._slide(i,n[e])}}}},{key:"dispose",value:function(){this._swipeHelper&&this._swipeHelper.dispose(),jt(w(n.prototype),"dispose",this).call(this)}},{key:"_configAfterMerge",value:function(e){return e.defaultInterval=e.interval,e}},{key:"_addEventListeners",value:function(){var e=this;this._config.keyboard&&Zr.on(this._element,Mi,(function(t){return e._keydown(t)})),"hover"===this._config.pause&&(Zr.on(this._element,Fi,(function(){return e.pause()})),Zr.on(this._element,Ui,(function(){return e._maybeEnableCycle()}))),this._config.touch&&Ci.isSupported()&&this._addTouchEventListeners()}},{key:"_addTouchEventListeners",value:function(){var e,t=this,n=N(li.find(".carousel-item img",this._element));try{for(n.s();!(e=n.n()).done;){var r=e.value;Zr.on(r,Vi,(function(e){return e.preventDefault()}))}}catch(a){n.e(a)}finally{n.f()}var i={leftCallback:function(){return t._slide(t._directionToOrder(Oi))},rightCallback:function(){return t._slide(t._directionToOrder(Ri))},endCallback:function(){"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(){return t._maybeEnableCycle()}),500+t._config.interval))}};this._swipeHelper=new Ci(this._element,i)}},{key:"_keydown",value:function(e){if(!/input|textarea/i.test(e.target.tagName)){var t=Qi[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}}},{key:"_getItemIndex",value:function(e){return this._getItems().indexOf(e)}},{key:"_setActiveIndicatorElement",value:function(e){if(this._indicatorsElement){var t=li.findOne(Ki,this._indicatorsElement);t.classList.remove(Hi),t.removeAttribute("aria-current");var n=li.findOne('[data-bs-slide-to="'.concat(e,'"]'),this._indicatorsElement);n&&(n.classList.add(Hi),n.setAttribute("aria-current","true"))}}},{key:"_updateInterval",value:function(){var e=this._activeElement||this._getActive();if(e){var t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}}},{key:"_slide",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this._isSliding){var r=this._getActive(),i=e===Pi,a=n||Mr(this._getItems(),r,i,this._config.wrap);if(a!==r){var o=this._getItemIndex(a),s=function(n){return Zr.trigger(t._element,n,{relatedTarget:a,direction:t._orderToDirection(e),from:t._getItemIndex(r),to:o})};if(!s(Li).defaultPrevented&&r&&a){var u=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=a;var c=i?"carousel-item-start":"carousel-item-end",l=i?"carousel-item-next":"carousel-item-prev";a.classList.add(l),Ar(a),r.classList.add(c),a.classList.add(c);this._queueCallback((function(){a.classList.remove(c,l),a.classList.add(Hi),r.classList.remove(Hi,l,c),t._isSliding=!1,s(ji)}),r,this._isAnimated()),u&&this.cycle()}}}}},{key:"_isAnimated",value:function(){return this._element.classList.contains("slide")}},{key:"_getActive",value:function(){return li.findOne(Gi,this._element)}},{key:"_getItems",value:function(){return li.find(Wi,this._element)}},{key:"_clearInterval",value:function(){this._interval&&(clearInterval(this._interval),this._interval=null)}},{key:"_directionToOrder",value:function(e){return Or()?e===Oi?Di:Pi:e===Oi?Pi:Di}},{key:"_orderToDirection",value:function(e){return Or()?e===Di?Oi:Ri:e===Di?Ri:Oi}}],[{key:"Default",get:function(){return Yi}},{key:"DefaultType",get:function(){return Xi}},{key:"NAME",get:function(){return"carousel"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("number"!==typeof e){if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}else t.to(e)}))}}]),n}(ui);Zr.on(document,Bi,"[data-bs-slide], [data-bs-slide-to]",(function(e){var t=li.getElementFromSelector(this);if(t&&t.classList.contains(qi)){e.preventDefault();var n=$i.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");if(r)return n.to(r),void n._maybeEnableCycle();if("next"===oi(this,"slide"))return n.next(),void n._maybeEnableCycle();n.prev(),n._maybeEnableCycle()}})),Zr.on(window,zi,(function(){var e,t=N(li.find('[data-bs-ride="carousel"]'));try{for(t.s();!(e=t.n()).done;){var n=e.value;$i.getOrCreateInstance(n)}}catch(r){t.e(r)}finally{t.f()}})),Rr($i);var Ji=".".concat("bs.collapse"),Zi="show".concat(Ji),ea="shown".concat(Ji),ta="hide".concat(Ji),na="hidden".concat(Ji),ra="click".concat(Ji).concat(".data-api"),ia="show",aa="collapse",oa="collapsing",sa=":scope .".concat(aa," .").concat(aa),ua='[data-bs-toggle="collapse"]',ca={parent:null,toggle:!0},la={parent:"(null|element)",toggle:"boolean"},fa=function(e){b(n,e);var t=I(n);function n(e,r){var i;p(this,n),(i=t.call(this,e,r))._isTransitioning=!1,i._triggerArray=[];var a,o=N(li.find(ua));try{for(o.s();!(a=o.n()).done;){var s=a.value,u=li.getSelectorFromElement(s),c=li.find(u).filter((function(e){return e===i._element}));null!==u&&c.length&&i._triggerArray.push(s)}}catch(l){o.e(l)}finally{o.f()}return i._initializeChildren(),i._config.parent||i._addAriaAndCollapsedClass(i._triggerArray,i._isShown()),i._config.toggle&&i.toggle(),i}return y(n,[{key:"toggle",value:function(){this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var e=this;if(!this._isTransitioning&&!this._isShown()){var t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((function(t){return t!==e._element})).map((function(e){return n.getOrCreateInstance(e,{toggle:!1})}))),!t.length||!t[0]._isTransitioning)if(!Zr.trigger(this._element,Zi).defaultPrevented){var r,i=N(t);try{for(i.s();!(r=i.n()).done;){r.value.hide()}}catch(u){i.e(u)}finally{i.f()}var a=this._getDimension();this._element.classList.remove(aa),this._element.classList.add(oa),this._element.style[a]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;var o=a[0].toUpperCase()+a.slice(1),s="scroll".concat(o);this._queueCallback((function(){e._isTransitioning=!1,e._element.classList.remove(oa),e._element.classList.add(aa,ia),e._element.style[a]="",Zr.trigger(e._element,ea)}),this._element,!0),this._element.style[a]="".concat(this._element[s],"px")}}}},{key:"hide",value:function(){var e=this;if(!this._isTransitioning&&this._isShown()&&!Zr.trigger(this._element,ta).defaultPrevented){var t=this._getDimension();this._element.style[t]="".concat(this._element.getBoundingClientRect()[t],"px"),Ar(this._element),this._element.classList.add(oa),this._element.classList.remove(aa,ia);var n,r=N(this._triggerArray);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=li.getElementFromSelector(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}}catch(o){r.e(o)}finally{r.f()}this._isTransitioning=!0;this._element.style[t]="",this._queueCallback((function(){e._isTransitioning=!1,e._element.classList.remove(oa),e._element.classList.add(aa),Zr.trigger(e._element,na)}),this._element,!0)}}},{key:"_isShown",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element).classList.contains(ia)}},{key:"_configAfterMerge",value:function(e){return e.toggle=Boolean(e.toggle),e.parent=Ir(e.parent),e}},{key:"_getDimension",value:function(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}},{key:"_initializeChildren",value:function(){if(this._config.parent){var e,t=N(this._getFirstLevelChildren(ua));try{for(t.s();!(e=t.n()).done;){var n=e.value,r=li.getElementFromSelector(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))}}catch(i){t.e(i)}finally{t.f()}}}},{key:"_getFirstLevelChildren",value:function(e){var t=li.find(sa,this._config.parent);return li.find(e,this._config.parent).filter((function(e){return!t.includes(e)}))}},{key:"_addAriaAndCollapsedClass",value:function(e,t){if(e.length){var n,r=N(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}}catch(a){r.e(a)}finally{r.f()}}}}],[{key:"Default",get:function(){return ca}},{key:"DefaultType",get:function(){return la}},{key:"NAME",get:function(){return"collapse"}},{key:"jQueryInterface",value:function(e){var t={};return"string"===typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){var r=n.getOrCreateInstance(this,t);if("string"===typeof e){if("undefined"===typeof r[e])throw new TypeError('No method named "'.concat(e,'"'));r[e]()}}))}}]),n}(ui);Zr.on(document,ra,ua,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();var t,n=N(li.getMultipleElementsFromSelector(this));try{for(n.s();!(t=n.n()).done;){var r=t.value;fa.getOrCreateInstance(r,{toggle:!1}).toggle()}}catch(i){n.e(i)}finally{n.f()}})),Rr(fa);var ha="dropdown",da=".".concat("bs.dropdown"),pa=".data-api",va="ArrowUp",ma="ArrowDown",ga="hide".concat(da),ya="hidden".concat(da),ka="show".concat(da),ba="shown".concat(da),wa="click".concat(da).concat(pa),_a="keydown".concat(da).concat(pa),xa="keyup".concat(da).concat(pa),Ea="show",Ia='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Sa="".concat(Ia,".").concat(Ea),Ta=".dropdown-menu",Ca=Or()?"top-end":"top-start",Na=Or()?"top-start":"top-end",Aa=Or()?"bottom-end":"bottom-start",Pa=Or()?"bottom-start":"bottom-end",Da=Or()?"left-start":"right-start",Oa=Or()?"right-start":"left-start",Ra={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},La={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},ja=function(t){b(r,t);var n=I(r);function r(e,t){var i;return p(this,r),(i=n.call(this,e,t))._popper=null,i._parent=i._element.parentNode,i._menu=li.next(i._element,Ta)[0]||li.prev(i._element,Ta)[0]||li.findOne(Ta,i._parent),i._inNavbar=i._detectNavbar(),i}return y(r,[{key:"toggle",value:function(){return this._isShown()?this.hide():this.show()}},{key:"show",value:function(){if(!Tr(this._element)&&!this._isShown()){var e={relatedTarget:this._element};if(!Zr.trigger(this._element,ka,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav")){var t,n,r=N((t=[]).concat.apply(t,d(document.body.children)));try{for(r.s();!(n=r.n()).done;){var i=n.value;Zr.on(i,"mouseover",Nr)}}catch(a){r.e(a)}finally{r.f()}}this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ea),this._element.classList.add(Ea),Zr.trigger(this._element,ba,e)}}}},{key:"hide",value:function(){if(!Tr(this._element)&&this._isShown()){var e={relatedTarget:this._element};this._completeHide(e)}}},{key:"dispose",value:function(){this._popper&&this._popper.destroy(),jt(w(r.prototype),"dispose",this).call(this)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}},{key:"_completeHide",value:function(e){if(!Zr.trigger(this._element,ga,e).defaultPrevented){if("ontouchstart"in document.documentElement){var t,n,r=N((t=[]).concat.apply(t,d(document.body.children)));try{for(r.s();!(n=r.n()).done;){var i=n.value;Zr.off(i,"mouseover",Nr)}}catch(a){r.e(a)}finally{r.f()}}this._popper&&this._popper.destroy(),this._menu.classList.remove(Ea),this._element.classList.remove(Ea),this._element.setAttribute("aria-expanded","false"),ii(this._menu,"popper"),Zr.trigger(this._element,ya,e)}}},{key:"_getConfig",value:function(e){if("object"===typeof(e=jt(w(r.prototype),"_getConfig",this).call(this,e)).reference&&!Er(e.reference)&&"function"!==typeof e.reference.getBoundingClientRect)throw new TypeError("".concat(ha.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));return e}},{key:"_createPopper",value:function(){if("undefined"===typeof e)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var t=this._element;"parent"===this._config.reference?t=this._parent:Er(this._config.reference)?t=Ir(this._config.reference):"object"===typeof this._config.reference&&(t=this._config.reference);var n=this._getPopperConfig();this._popper=vr(t,this._menu,n)}},{key:"_isShown",value:function(){return this._menu.classList.contains(Ea)}},{key:"_getPlacement",value:function(){var e=this._parent;if(e.classList.contains("dropend"))return Da;if(e.classList.contains("dropstart"))return Oa;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";var t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?Na:Ca:t?Pa:Aa}},{key:"_detectNavbar",value:function(){return null!==this._element.closest(".navbar")}},{key:"_getOffset",value:function(){var e=this,t=this._config.offset;return"string"===typeof t?t.split(",").map((function(e){return Number.parseInt(e,10)})):"function"===typeof t?function(n){return t(n,e._element)}:t}},{key:"_getPopperConfig",value:function(){var e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(ri(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),et(et({},e),Lr(this._config.popperConfig,[e]))}},{key:"_selectMenuItem",value:function(e){var t=e.key,n=e.target,r=li.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((function(e){return Sr(e)}));r.length&&Mr(r,n,t===ma,!r.includes(n)).focus()}}],[{key:"Default",get:function(){return Ra}},{key:"DefaultType",get:function(){return La}},{key:"NAME",get:function(){return ha}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=r.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}},{key:"clearMenus",value:function(e){if(2!==e.button&&("keyup"!==e.type||"Tab"===e.key)){var t,n=N(li.find(Sa));try{for(n.s();!(t=n.n()).done;){var i=t.value,a=r.getInstance(i);if(a&&!1!==a._config.autoClose){var o=e.composedPath(),s=o.includes(a._menu);if(!(o.includes(a._element)||"inside"===a._config.autoClose&&!s||"outside"===a._config.autoClose&&s)&&(!a._menu.contains(e.target)||!("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))){var u={relatedTarget:a._element};"click"===e.type&&(u.clickEvent=e),a._completeHide(u)}}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"dataApiKeydownHandler",value:function(e){var t=/input|textarea/i.test(e.target.tagName),n="Escape"===e.key,i=[va,ma].includes(e.key);if((i||n)&&(!t||n)){e.preventDefault();var a=this.matches(Ia)?this:li.prev(this,Ia)[0]||li.next(this,Ia)[0]||li.findOne(Ia,e.delegateTarget.parentNode),o=r.getOrCreateInstance(a);if(i)return e.stopPropagation(),o.show(),void o._selectMenuItem(e);o._isShown()&&(e.stopPropagation(),o.hide(),a.focus())}}}]),r}(ui);Zr.on(document,_a,Ia,ja.dataApiKeydownHandler),Zr.on(document,_a,Ta,ja.dataApiKeydownHandler),Zr.on(document,wa,ja.clearMenus),Zr.on(document,xa,ja.clearMenus),Zr.on(document,wa,Ia,(function(e){e.preventDefault(),ja.getOrCreateInstance(this).toggle()})),Rr(ja);var Ma="backdrop",Fa="show",Ua="mousedown.bs.".concat(Ma),Va={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},za={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},Ba=function(e){b(n,e);var t=I(n);function n(e){var r;return p(this,n),(r=t.call(this))._config=r._getConfig(e),r._isAppended=!1,r._element=null,r}return y(n,[{key:"show",value:function(e){if(this._config.isVisible){this._append();var t=this._getElement();this._config.isAnimated&&Ar(t),t.classList.add(Fa),this._emulateAnimation((function(){Lr(e)}))}else Lr(e)}},{key:"hide",value:function(e){var t=this;this._config.isVisible?(this._getElement().classList.remove(Fa),this._emulateAnimation((function(){t.dispose(),Lr(e)}))):Lr(e)}},{key:"dispose",value:function(){this._isAppended&&(Zr.off(this._element,Ua),this._element.remove(),this._isAppended=!1)}},{key:"_getElement",value:function(){if(!this._element){var e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}},{key:"_configAfterMerge",value:function(e){return e.rootElement=Ir(e.rootElement),e}},{key:"_append",value:function(){var e=this;if(!this._isAppended){var t=this._getElement();this._config.rootElement.append(t),Zr.on(t,Ua,(function(){Lr(e._config.clickCallback)})),this._isAppended=!0}}},{key:"_emulateAnimation",value:function(e){jr(e,this._getElement(),this._config.isAnimated)}}],[{key:"Default",get:function(){return Va}},{key:"DefaultType",get:function(){return za}},{key:"NAME",get:function(){return Ma}}]),n}(si),qa=".".concat("bs.focustrap"),Ha="focusin".concat(qa),Ka="keydown.tab".concat(qa),Wa="backward",Ga={autofocus:!0,trapElement:null},Qa={autofocus:"boolean",trapElement:"element"},Ya=function(e){b(n,e);var t=I(n);function n(e){var r;return p(this,n),(r=t.call(this))._config=r._getConfig(e),r._isActive=!1,r._lastTabNavDirection=null,r}return y(n,[{key:"activate",value:function(){var e=this;this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Zr.off(document,qa),Zr.on(document,Ha,(function(t){return e._handleFocusin(t)})),Zr.on(document,Ka,(function(t){return e._handleKeydown(t)})),this._isActive=!0)}},{key:"deactivate",value:function(){this._isActive&&(this._isActive=!1,Zr.off(document,qa))}},{key:"_handleFocusin",value:function(e){var t=this._config.trapElement;if(e.target!==document&&e.target!==t&&!t.contains(e.target)){var n=li.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===Wa?n[n.length-1].focus():n[0].focus()}}},{key:"_handleKeydown",value:function(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Wa:"forward")}}],[{key:"Default",get:function(){return Ga}},{key:"DefaultType",get:function(){return Qa}},{key:"NAME",get:function(){return"focustrap"}}]),n}(si),Xa=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",$a=".sticky-top",Ja="padding-right",Za="margin-right",eo=function(){function e(){p(this,e),this._element=document.body}return y(e,[{key:"getWidth",value:function(){var e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}},{key:"hide",value:function(){var e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ja,(function(t){return t+e})),this._setElementAttributes(Xa,Ja,(function(t){return t+e})),this._setElementAttributes($a,Za,(function(t){return t-e}))}},{key:"reset",value:function(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ja),this._resetElementAttributes(Xa,Ja),this._resetElementAttributes($a,Za)}},{key:"isOverflowing",value:function(){return this.getWidth()>0}},{key:"_disableOverFlow",value:function(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}},{key:"_setElementAttributes",value:function(e,t,n){var r=this,i=this.getWidth();this._applyManipulationCallback(e,(function(e){if(!(e!==r._element&&window.innerWidth>e.clientWidth+i)){r._saveInitialAttribute(e,t);var a=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,"".concat(n(Number.parseFloat(a)),"px"))}}))}},{key:"_saveInitialAttribute",value:function(e,t){var n=e.style.getPropertyValue(t);n&&ri(e,t,n)}},{key:"_resetElementAttributes",value:function(e,t){this._applyManipulationCallback(e,(function(e){var n=oi(e,t);null!==n?(ii(e,t),e.style.setProperty(t,n)):e.style.removeProperty(t)}))}},{key:"_applyManipulationCallback",value:function(e,t){if(Er(e))t(e);else{var n,r=N(li.find(e,this._element));try{for(r.s();!(n=r.n()).done;){t(n.value)}}catch(i){r.e(i)}finally{r.f()}}}}]),e}(),to=".".concat("bs.modal"),no="hide".concat(to),ro="hidePrevented".concat(to),io="hidden".concat(to),ao="show".concat(to),oo="shown".concat(to),so="resize".concat(to),uo="click.dismiss".concat(to),co="mousedown.dismiss".concat(to),lo="keydown.dismiss".concat(to),fo="click".concat(to).concat(".data-api"),ho="modal-open",po="show",vo="modal-static",mo={backdrop:!0,focus:!0,keyboard:!0},go={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},yo=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r))._dialog=li.findOne(".modal-dialog",i._element),i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._isShown=!1,i._isTransitioning=!1,i._scrollBar=new eo,i._addEventListeners(),i}return y(n,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(e){var t=this;this._isShown||this._isTransitioning||(Zr.trigger(this._element,ao,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ho),this._adjustDialog(),this._backdrop.show((function(){return t._showElement(e)}))))}},{key:"hide",value:function(){var e=this;this._isShown&&!this._isTransitioning&&(Zr.trigger(this._element,no).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(po),this._queueCallback((function(){return e._hideModal()}),this._element,this._isAnimated())))}},{key:"dispose",value:function(){Zr.off(window,to),Zr.off(this._dialog,to),this._backdrop.dispose(),this._focustrap.deactivate(),jt(w(n.prototype),"dispose",this).call(this)}},{key:"handleUpdate",value:function(){this._adjustDialog()}},{key:"_initializeBackDrop",value:function(){return new Ba({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}},{key:"_initializeFocusTrap",value:function(){return new Ya({trapElement:this._element})}},{key:"_showElement",value:function(e){var t=this;document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;var n=li.findOne(".modal-body",this._dialog);n&&(n.scrollTop=0),Ar(this._element),this._element.classList.add(po);this._queueCallback((function(){t._config.focus&&t._focustrap.activate(),t._isTransitioning=!1,Zr.trigger(t._element,oo,{relatedTarget:e})}),this._dialog,this._isAnimated())}},{key:"_addEventListeners",value:function(){var e=this;Zr.on(this._element,lo,(function(t){"Escape"===t.key&&(e._config.keyboard?e.hide():e._triggerBackdropTransition())})),Zr.on(window,so,(function(){e._isShown&&!e._isTransitioning&&e._adjustDialog()})),Zr.on(this._element,co,(function(t){Zr.one(e._element,uo,(function(n){e._element===t.target&&e._element===n.target&&("static"!==e._config.backdrop?e._config.backdrop&&e.hide():e._triggerBackdropTransition())}))}))}},{key:"_hideModal",value:function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((function(){document.body.classList.remove(ho),e._resetAdjustments(),e._scrollBar.reset(),Zr.trigger(e._element,io)}))}},{key:"_isAnimated",value:function(){return this._element.classList.contains("fade")}},{key:"_triggerBackdropTransition",value:function(){var e=this;if(!Zr.trigger(this._element,ro).defaultPrevented){var t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;"hidden"===n||this._element.classList.contains(vo)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(vo),this._queueCallback((function(){e._element.classList.remove(vo),e._queueCallback((function(){e._element.style.overflowY=n}),e._dialog)}),this._dialog),this._element.focus())}}},{key:"_adjustDialog",value:function(){var e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){var r=Or()?"paddingLeft":"paddingRight";this._element.style[r]="".concat(t,"px")}if(!n&&e){var i=Or()?"paddingRight":"paddingLeft";this._element.style[i]="".concat(t,"px")}}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}}],[{key:"Default",get:function(){return mo}},{key:"DefaultType",get:function(){return go}},{key:"NAME",get:function(){return"modal"}},{key:"jQueryInterface",value:function(e,t){return this.each((function(){var r=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof r[e])throw new TypeError('No method named "'.concat(e,'"'));r[e](t)}}))}}]),n}(ui);Zr.on(document,fo,'[data-bs-toggle="modal"]',(function(e){var t=this,n=li.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),Zr.one(n,ao,(function(e){e.defaultPrevented||Zr.one(n,io,(function(){Sr(t)&&t.focus()}))}));var r=li.findOne(".modal.show");r&&yo.getInstance(r).hide(),yo.getOrCreateInstance(n).toggle(this)})),fi(yo),Rr(yo);var ko=".".concat("bs.offcanvas"),bo=".data-api",wo="load".concat(ko).concat(bo),_o="show",xo="showing",Eo="hiding",Io=".offcanvas.show",So="show".concat(ko),To="shown".concat(ko),Co="hide".concat(ko),No="hidePrevented".concat(ko),Ao="hidden".concat(ko),Po="resize".concat(ko),Do="click".concat(ko).concat(bo),Oo="keydown.dismiss".concat(ko),Ro={backdrop:!0,keyboard:!0,scroll:!1},Lo={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},jo=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r))._isShown=!1,i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._addEventListeners(),i}return y(n,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(e){var t=this;if(!this._isShown&&!Zr.trigger(this._element,So,{relatedTarget:e}).defaultPrevented){this._isShown=!0,this._backdrop.show(),this._config.scroll||(new eo).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(xo);this._queueCallback((function(){t._config.scroll&&!t._config.backdrop||t._focustrap.activate(),t._element.classList.add(_o),t._element.classList.remove(xo),Zr.trigger(t._element,To,{relatedTarget:e})}),this._element,!0)}}},{key:"hide",value:function(){var e=this;if(this._isShown&&!Zr.trigger(this._element,Co).defaultPrevented){this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Eo),this._backdrop.hide();this._queueCallback((function(){e._element.classList.remove(_o,Eo),e._element.removeAttribute("aria-modal"),e._element.removeAttribute("role"),e._config.scroll||(new eo).reset(),Zr.trigger(e._element,Ao)}),this._element,!0)}}},{key:"dispose",value:function(){this._backdrop.dispose(),this._focustrap.deactivate(),jt(w(n.prototype),"dispose",this).call(this)}},{key:"_initializeBackDrop",value:function(){var e=this,t=Boolean(this._config.backdrop);return new Ba({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?function(){"static"!==e._config.backdrop?e.hide():Zr.trigger(e._element,No)}:null})}},{key:"_initializeFocusTrap",value:function(){return new Ya({trapElement:this._element})}},{key:"_addEventListeners",value:function(){var e=this;Zr.on(this._element,Oo,(function(t){"Escape"===t.key&&(e._config.keyboard?e.hide():Zr.trigger(e._element,No))}))}}],[{key:"Default",get:function(){return Ro}},{key:"DefaultType",get:function(){return Lo}},{key:"NAME",get:function(){return"offcanvas"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(ui);Zr.on(document,Do,'[data-bs-toggle="offcanvas"]',(function(e){var t=this,n=li.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),!Tr(this)){Zr.one(n,Ao,(function(){Sr(t)&&t.focus()}));var r=li.findOne(Io);r&&r!==n&&jo.getInstance(r).hide(),jo.getOrCreateInstance(n).toggle(this)}})),Zr.on(window,wo,(function(){var e,t=N(li.find(Io));try{for(t.s();!(e=t.n()).done;){var n=e.value;jo.getOrCreateInstance(n).show()}}catch(r){t.e(r)}finally{t.f()}})),Zr.on(window,Po,(function(){var e,t=N(li.find("[aria-modal][class*=show][class*=offcanvas-]"));try{for(t.s();!(e=t.n()).done;){var n=e.value;"fixed"!==getComputedStyle(n).position&&jo.getOrCreateInstance(n).hide()}}catch(r){t.e(r)}finally{t.f()}})),fi(jo),Rr(jo);var Mo={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Fo=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Uo=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Vo=function(e,t){var n=e.nodeName.toLowerCase();return t.includes(n)?!Fo.has(n)||Boolean(Uo.test(e.nodeValue)):t.filter((function(e){return e instanceof RegExp})).some((function(e){return e.test(n)}))};var zo={allowList:Mo,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Bo={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},qo={entry:"(string|element|function|null)",selector:"(string|element)"},Ho=function(e){b(n,e);var t=I(n);function n(e){var r;return p(this,n),(r=t.call(this))._config=r._getConfig(e),r}return y(n,[{key:"getContent",value:function(){var e=this;return Object.values(this._config.content).map((function(t){return e._resolvePossibleFunction(t)})).filter(Boolean)}},{key:"hasContent",value:function(){return this.getContent().length>0}},{key:"changeContent",value:function(e){return this._checkContent(e),this._config.content=et(et({},this._config.content),e),this}},{key:"toHtml",value:function(){var e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(var t=0,n=Object.entries(this._config.content);t<n.length;t++){var r=f(n[t],2),i=r[0],a=r[1];this._setContent(e,a,i)}var o,s=e.children[0],u=this._resolvePossibleFunction(this._config.extraClass);u&&(o=s.classList).add.apply(o,d(u.split(" ")));return s}},{key:"_typeCheckConfig",value:function(e){jt(w(n.prototype),"_typeCheckConfig",this).call(this,e),this._checkContent(e.content)}},{key:"_checkContent",value:function(e){for(var t=0,r=Object.entries(e);t<r.length;t++){var i=f(r[t],2),a=i[0],o=i[1];jt(w(n.prototype),"_typeCheckConfig",this).call(this,{selector:a,entry:o},qo)}}},{key:"_setContent",value:function(e,t,n){var r=li.findOne(n,e);r&&((t=this._resolvePossibleFunction(t))?Er(t)?this._putElementInTemplate(Ir(t),r):this._config.html?r.innerHTML=this._maybeSanitize(t):r.textContent=t:r.remove())}},{key:"_maybeSanitize",value:function(e){return this._config.sanitize?function(e,t,n){var r;if(!e.length)return e;if(n&&"function"===typeof n)return n(e);var i,a=(new window.DOMParser).parseFromString(e,"text/html"),o=N((r=[]).concat.apply(r,d(a.body.querySelectorAll("*"))));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=u.nodeName.toLowerCase();if(Object.keys(t).includes(c)){var l,f=(s=[]).concat.apply(s,d(u.attributes)),h=[].concat(t["*"]||[],t[c]||[]),p=N(f);try{for(p.s();!(l=p.n()).done;){var v=l.value;Vo(v,h)||u.removeAttribute(v.nodeName)}}catch(m){p.e(m)}finally{p.f()}}else u.remove()}}catch(m){o.e(m)}finally{o.f()}return a.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}},{key:"_resolvePossibleFunction",value:function(e){return Lr(e,[this])}},{key:"_putElementInTemplate",value:function(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}],[{key:"Default",get:function(){return zo}},{key:"DefaultType",get:function(){return Bo}},{key:"NAME",get:function(){return"TemplateFactory"}}]),n}(si),Ko=new Set(["sanitize","allowList","sanitizeFn"]),Wo="fade",Go="show",Qo=".".concat("modal"),Yo="hide.bs.modal",Xo="hover",$o="focus",Jo={AUTO:"auto",TOP:"top",RIGHT:Or()?"left":"right",BOTTOM:"bottom",LEFT:Or()?"right":"left"},Zo={allowList:Mo,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},es={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},ts=function(t){b(r,t);var n=I(r);function r(t,i){var a;if(p(this,r),"undefined"===typeof e)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");return(a=n.call(this,t,i))._isEnabled=!0,a._timeout=0,a._isHovered=null,a._activeTrigger={},a._popper=null,a._templateFactory=null,a._newContent=null,a.tip=null,a._setListeners(),a._config.selector||a._fixTitle(),a}return y(r,[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}},{key:"dispose",value:function(){clearTimeout(this._timeout),Zr.off(this._element.closest(Qo),Yo,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),jt(w(r.prototype),"dispose",this).call(this)}},{key:"show",value:function(){var e=this;if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(this._isWithContent()&&this._isEnabled){var t=Zr.trigger(this._element,this.constructor.eventName("show")),n=(Cr(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(!t.defaultPrevented&&n){this._disposePopper();var r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));var i=this._config.container;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(r),Zr.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(r),r.classList.add(Go),"ontouchstart"in document.documentElement){var a,o,s=N((a=[]).concat.apply(a,d(document.body.children)));try{for(s.s();!(o=s.n()).done;){var u=o.value;Zr.on(u,"mouseover",Nr)}}catch(c){s.e(c)}finally{s.f()}}this._queueCallback((function(){Zr.trigger(e._element,e.constructor.eventName("shown")),!1===e._isHovered&&e._leave(),e._isHovered=!1}),this.tip,this._isAnimated())}}}},{key:"hide",value:function(){var e=this;if(this._isShown()&&!Zr.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Go),"ontouchstart"in document.documentElement){var t,n,r=N((t=[]).concat.apply(t,d(document.body.children)));try{for(r.s();!(n=r.n()).done;){var i=n.value;Zr.off(i,"mouseover",Nr)}}catch(a){r.e(a)}finally{r.f()}}this._activeTrigger.click=!1,this._activeTrigger[$o]=!1,this._activeTrigger[Xo]=!1,this._isHovered=null;this._queueCallback((function(){e._isWithActiveTrigger()||(e._isHovered||e._disposePopper(),e._element.removeAttribute("aria-describedby"),Zr.trigger(e._element,e.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}}},{key:"update",value:function(){this._popper&&this._popper.update()}},{key:"_isWithContent",value:function(){return Boolean(this._getTitle())}},{key:"_getTipElement",value:function(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}},{key:"_createTipElement",value:function(e){var t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Wo,Go),t.classList.add("bs-".concat(this.constructor.NAME,"-auto"));var n=function(e){do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e}(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(Wo),t}},{key:"setContent",value:function(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}},{key:"_getTemplateFactory",value:function(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Ho(et(et({},this._config),{},{content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}},{key:"_getContentForTemplate",value:function(){return Je({},".tooltip-inner",this._getTitle())}},{key:"_getTitle",value:function(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}},{key:"_initializeOnDelegatedTarget",value:function(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}},{key:"_isAnimated",value:function(){return this._config.animation||this.tip&&this.tip.classList.contains(Wo)}},{key:"_isShown",value:function(){return this.tip&&this.tip.classList.contains(Go)}},{key:"_createPopper",value:function(e){var t=Lr(this._config.placement,[this,e,this._element]),n=Jo[t.toUpperCase()];return vr(this._element,e,this._getPopperConfig(n))}},{key:"_getOffset",value:function(){var e=this,t=this._config.offset;return"string"===typeof t?t.split(",").map((function(e){return Number.parseInt(e,10)})):"function"===typeof t?function(n){return t(n,e._element)}:t}},{key:"_resolvePossibleFunction",value:function(e){return Lr(e,[this._element])}},{key:"_getPopperConfig",value:function(e){var t=this,n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:function(e){t._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return et(et({},n),Lr(this._config.popperConfig,[n]))}},{key:"_setListeners",value:function(){var e,t=this,n=N(this._config.trigger.split(" "));try{for(n.s();!(e=n.n()).done;){var r=e.value;if("click"===r)Zr.on(this._element,this.constructor.eventName("click"),this._config.selector,(function(e){t._initializeOnDelegatedTarget(e).toggle()}));else if("manual"!==r){var i=r===Xo?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),a=r===Xo?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Zr.on(this._element,i,this._config.selector,(function(e){var n=t._initializeOnDelegatedTarget(e);n._activeTrigger["focusin"===e.type?$o:Xo]=!0,n._enter()})),Zr.on(this._element,a,this._config.selector,(function(e){var n=t._initializeOnDelegatedTarget(e);n._activeTrigger["focusout"===e.type?$o:Xo]=n._element.contains(e.relatedTarget),n._leave()}))}}}catch(o){n.e(o)}finally{n.f()}this._hideModalHandler=function(){t._element&&t.hide()},Zr.on(this._element.closest(Qo),Yo,this._hideModalHandler)}},{key:"_fixTitle",value:function(){var e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}},{key:"_enter",value:function(){var e=this;this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((function(){e._isHovered&&e.show()}),this._config.delay.show))}},{key:"_leave",value:function(){var e=this;this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((function(){e._isHovered||e.hide()}),this._config.delay.hide))}},{key:"_setTimeout",value:function(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}},{key:"_isWithActiveTrigger",value:function(){return Object.values(this._activeTrigger).includes(!0)}},{key:"_getConfig",value:function(e){for(var t=ai(this._element),n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Ko.has(i)&&delete t[i]}return e=et(et({},t),"object"===typeof e&&e?e:{}),e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}},{key:"_configAfterMerge",value:function(e){return e.container=!1===e.container?document.body:Ir(e.container),"number"===typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"===typeof e.title&&(e.title=e.title.toString()),"number"===typeof e.content&&(e.content=e.content.toString()),e}},{key:"_getDelegateConfig",value:function(){for(var e={},t=0,n=Object.entries(this._config);t<n.length;t++){var r=f(n[t],2),i=r[0],a=r[1];this.constructor.Default[i]!==a&&(e[i]=a)}return e.selector=!1,e.trigger="manual",e}},{key:"_disposePopper",value:function(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}}],[{key:"Default",get:function(){return Zo}},{key:"DefaultType",get:function(){return es}},{key:"NAME",get:function(){return"tooltip"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=r.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),r}(ui);Rr(ts);var ns=et(et({},ts.Default),{},{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),rs=et(et({},ts.DefaultType),{},{content:"(null|string|element|function)"}),is=function(e){b(n,e);var t=I(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"_isWithContent",value:function(){return this._getTitle()||this._getContent()}},{key:"_getContentForTemplate",value:function(){var e;return Je(e={},".popover-header",this._getTitle()),Je(e,".popover-body",this._getContent()),e}},{key:"_getContent",value:function(){return this._resolvePossibleFunction(this._config.content)}}],[{key:"Default",get:function(){return ns}},{key:"DefaultType",get:function(){return rs}},{key:"NAME",get:function(){return"popover"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(ts);Rr(is);var as=".".concat("bs.scrollspy"),os="activate".concat(as),ss="click".concat(as),us="load".concat(as).concat(".data-api"),cs="active",ls="[href]",fs=".nav-link",hs="".concat(fs,", ").concat(".nav-item"," > ").concat(fs,", ").concat(".list-group-item"),ds={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ps={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},vs=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r))._targetLinks=new Map,i._observableSections=new Map,i._rootElement="visible"===getComputedStyle(i._element).overflowY?null:i._element,i._activeTarget=null,i._observer=null,i._previousScrollData={visibleEntryTop:0,parentScrollTop:0},i.refresh(),i}return y(n,[{key:"refresh",value:function(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();var e,t=N(this._observableSections.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;this._observer.observe(n)}}catch(r){t.e(r)}finally{t.f()}}},{key:"dispose",value:function(){this._observer.disconnect(),jt(w(n.prototype),"dispose",this).call(this)}},{key:"_configAfterMerge",value:function(e){return e.target=Ir(e.target)||document.body,e.rootMargin=e.offset?"".concat(e.offset,"px 0px -30%"):e.rootMargin,"string"===typeof e.threshold&&(e.threshold=e.threshold.split(",").map((function(e){return Number.parseFloat(e)}))),e}},{key:"_maybeEnableSmoothScroll",value:function(){var e=this;this._config.smoothScroll&&(Zr.off(this._config.target,ss),Zr.on(this._config.target,ss,ls,(function(t){var n=e._observableSections.get(t.target.hash);if(n){t.preventDefault();var r=e._rootElement||window,i=n.offsetTop-e._element.offsetTop;if(r.scrollTo)return void r.scrollTo({top:i,behavior:"smooth"});r.scrollTop=i}})))}},{key:"_getNewObserver",value:function(){var e=this,t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((function(t){return e._observerCallback(t)}),t)}},{key:"_observerCallback",value:function(e){var t=this,n=function(e){return t._targetLinks.get("#".concat(e.target.id))},r=function(e){t._previousScrollData.visibleEntryTop=e.target.offsetTop,t._process(n(e))},i=(this._rootElement||document.documentElement).scrollTop,a=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;var o,s=N(e);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(u.isIntersecting){var c=u.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&c){if(r(u),!i)return}else a||c||r(u)}else this._activeTarget=null,this._clearActiveClass(n(u))}}catch(l){s.e(l)}finally{s.f()}}},{key:"_initializeTargetsAndObservables",value:function(){this._targetLinks=new Map,this._observableSections=new Map;var e,t=N(li.find(ls,this._config.target));try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.hash&&!Tr(n)){var r=li.findOne(decodeURI(n.hash),this._element);Sr(r)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,r))}}}catch(i){t.e(i)}finally{t.f()}}},{key:"_process",value:function(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(cs),this._activateParents(e),Zr.trigger(this._element,os,{relatedTarget:e}))}},{key:"_activateParents",value:function(e){if(e.classList.contains("dropdown-item"))li.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(cs);else{var t,n=N(li.parents(e,".nav, .list-group"));try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=N(li.prev(i,hs));try{for(a.s();!(r=a.n()).done;){r.value.classList.add(cs)}}catch(o){a.e(o)}finally{a.f()}}}catch(o){n.e(o)}finally{n.f()}}}},{key:"_clearActiveClass",value:function(e){e.classList.remove(cs);var t,n=N(li.find("".concat(ls,".").concat(cs),e));try{for(n.s();!(t=n.n()).done;){t.value.classList.remove(cs)}}catch(r){n.e(r)}finally{n.f()}}}],[{key:"Default",get:function(){return ds}},{key:"DefaultType",get:function(){return ps}},{key:"NAME",get:function(){return"scrollspy"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(ui);Zr.on(window,us,(function(){var e,t=N(li.find('[data-bs-spy="scroll"]'));try{for(t.s();!(e=t.n()).done;){var n=e.value;vs.getOrCreateInstance(n)}}catch(r){t.e(r)}finally{t.f()}})),Rr(vs);var ms=".".concat("bs.tab"),gs="hide".concat(ms),ys="hidden".concat(ms),ks="show".concat(ms),bs="shown".concat(ms),ws="click".concat(ms),_s="keydown".concat(ms),xs="load".concat(ms),Es="ArrowLeft",Is="ArrowRight",Ss="ArrowUp",Ts="ArrowDown",Cs="Home",Ns="End",As="active",Ps="fade",Ds="show",Os=".dropdown-toggle",Rs=":not(".concat(Os,")"),Ls=".nav-link".concat(Rs,", .list-group-item").concat(Rs,', [role="tab"]').concat(Rs),js='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ms="".concat(Ls,", ").concat(js),Fs=".".concat(As,'[data-bs-toggle="tab"], .').concat(As,'[data-bs-toggle="pill"], .').concat(As,'[data-bs-toggle="list"]'),Us=function(e){b(n,e);var t=I(n);function n(e){var r;return p(this,n),(r=t.call(this,e))._parent=r._element.closest('.list-group, .nav, [role="tablist"]'),r._parent?(r._setInitialAttributes(r._parent,r._getChildren()),Zr.on(r._element,_s,(function(e){return r._keydown(e)})),r):E(r)}return y(n,[{key:"show",value:function(){var e=this._element;if(!this._elemIsActive(e)){var t=this._getActiveElem(),n=t?Zr.trigger(t,gs,{relatedTarget:e}):null;Zr.trigger(e,ks,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}}},{key:"_activate",value:function(e,t){var n=this;if(e){e.classList.add(As),this._activate(li.getElementFromSelector(e));this._queueCallback((function(){"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),n._toggleDropDown(e,!0),Zr.trigger(e,bs,{relatedTarget:t})):e.classList.add(Ds)}),e,e.classList.contains(Ps))}}},{key:"_deactivate",value:function(e,t){var n=this;if(e){e.classList.remove(As),e.blur(),this._deactivate(li.getElementFromSelector(e));this._queueCallback((function(){"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),n._toggleDropDown(e,!1),Zr.trigger(e,ys,{relatedTarget:t})):e.classList.remove(Ds)}),e,e.classList.contains(Ps))}}},{key:"_keydown",value:function(e){if([Es,Is,Ss,Ts,Cs,Ns].includes(e.key)){e.stopPropagation(),e.preventDefault();var t,r=this._getChildren().filter((function(e){return!Tr(e)}));if([Cs,Ns].includes(e.key))t=r[e.key===Cs?0:r.length-1];else{var i=[Is,Ts].includes(e.key);t=Mr(r,e.target,i,!0)}t&&(t.focus({preventScroll:!0}),n.getOrCreateInstance(t).show())}}},{key:"_getChildren",value:function(){return li.find(Ms,this._parent)}},{key:"_getActiveElem",value:function(){var e=this;return this._getChildren().find((function(t){return e._elemIsActive(t)}))||null}},{key:"_setInitialAttributes",value:function(e,t){this._setAttributeIfNotExists(e,"role","tablist");var n,r=N(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._setInitialAttributesOnChild(i)}}catch(a){r.e(a)}finally{r.f()}}},{key:"_setInitialAttributesOnChild",value:function(e){e=this._getInnerElement(e);var t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}},{key:"_setInitialAttributesOnTargetPanel",value:function(e){var t=li.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby","".concat(e.id)))}},{key:"_toggleDropDown",value:function(e,t){var n=this._getOuterElement(e);if(n.classList.contains("dropdown")){var r=function(e,r){var i=li.findOne(e,n);i&&i.classList.toggle(r,t)};r(Os,As),r(".dropdown-menu",Ds),n.setAttribute("aria-expanded",t)}}},{key:"_setAttributeIfNotExists",value:function(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}},{key:"_elemIsActive",value:function(e){return e.classList.contains(As)}},{key:"_getInnerElement",value:function(e){return e.matches(Ms)?e:li.findOne(Ms,e)}},{key:"_getOuterElement",value:function(e){return e.closest(".nav-item, .list-group-item")||e}}],[{key:"NAME",get:function(){return"tab"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(ui);Zr.on(document,ws,js,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),Tr(this)||Us.getOrCreateInstance(this).show()})),Zr.on(window,xs,(function(){var e,t=N(li.find(Fs));try{for(t.s();!(e=t.n()).done;){var n=e.value;Us.getOrCreateInstance(n)}}catch(r){t.e(r)}finally{t.f()}})),Rr(Us);var Vs=".".concat("bs.toast"),zs="mouseover".concat(Vs),Bs="mouseout".concat(Vs),qs="focusin".concat(Vs),Hs="focusout".concat(Vs),Ks="hide".concat(Vs),Ws="hidden".concat(Vs),Gs="show".concat(Vs),Qs="shown".concat(Vs),Ys="hide",Xs="show",$s="showing",Js={animation:"boolean",autohide:"boolean",delay:"number"},Zs={animation:!0,autohide:!0,delay:5e3},eu=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r))._timeout=null,i._hasMouseInteraction=!1,i._hasKeyboardInteraction=!1,i._setListeners(),i}return y(n,[{key:"show",value:function(){var e=this;if(!Zr.trigger(this._element,Gs).defaultPrevented){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");this._element.classList.remove(Ys),Ar(this._element),this._element.classList.add(Xs,$s),this._queueCallback((function(){e._element.classList.remove($s),Zr.trigger(e._element,Qs),e._maybeScheduleHide()}),this._element,this._config.animation)}}},{key:"hide",value:function(){var e=this;if(this.isShown()&&!Zr.trigger(this._element,Ks).defaultPrevented){this._element.classList.add($s),this._queueCallback((function(){e._element.classList.add(Ys),e._element.classList.remove($s,Xs),Zr.trigger(e._element,Ws)}),this._element,this._config.animation)}}},{key:"dispose",value:function(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Xs),jt(w(n.prototype),"dispose",this).call(this)}},{key:"isShown",value:function(){return this._element.classList.contains(Xs)}},{key:"_maybeScheduleHide",value:function(){var e=this;this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((function(){e.hide()}),this._config.delay)))}},{key:"_onInteraction",value:function(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)this._clearTimeout();else{var n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}}},{key:"_setListeners",value:function(){var e=this;Zr.on(this._element,zs,(function(t){return e._onInteraction(t,!0)})),Zr.on(this._element,Bs,(function(t){return e._onInteraction(t,!1)})),Zr.on(this._element,qs,(function(t){return e._onInteraction(t,!0)})),Zr.on(this._element,Hs,(function(t){return e._onInteraction(t,!1)}))}},{key:"_clearTimeout",value:function(){clearTimeout(this._timeout),this._timeout=null}}],[{key:"Default",get:function(){return Zs}},{key:"DefaultType",get:function(){return Js}},{key:"NAME",get:function(){return"toast"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(ui);fi(eu),Rr(eu);var tu=n(694),nu=n.n(tu),ru=n(184),iu=["as","disabled"];function au(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,s=e.onClick,u=e.tabIndex,c=void 0===u?0:u,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},f]}var ou=i.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,iu),a=f(au(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,ru.jsx)(s,Object.assign({},i,o,{ref:t}))}));ou.displayName="Button";var su=["xxl","xl","lg","md","sm","xs"],uu=i.createContext({prefixes:{},breakpoints:su,minBreakpoint:"xs"});uu.Consumer,uu.Provider;function cu(e,t){var n=(0,i.useContext)(uu).prefixes;return e||n[t]||t}var lu=["as","bsPrefix","variant","size","active","disabled","className"],fu=i.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=void 0===i?"primary":i,o=e.size,s=e.active,u=void 0!==s&&s,c=e.disabled,l=void 0!==c&&c,h=e.className,d=tt(e,lu),p=cu(r,"btn"),v=f(au(et({tagName:n,disabled:l},d)),2),m=v[0],g=v[1].tagName;return(0,ru.jsx)(g,et(et(et({},m),d),{},{ref:t,disabled:l,className:nu()(h,p,u&&"active",a&&"".concat(p,"-").concat(a),o&&"".concat(p,"-").concat(o),d.href&&l&&"disabled")}))}));fu.displayName="Button";var hu=fu,du=n.p+"static/media/yttttttttttttttt.c32b64c528c86930e18d.jpg";var pu=function(e){var t=xe(),n=function(){localStorage.removeItem("authToken"),localStorage.removeItem("UserId"),localStorage.removeItem("UserName"),localStorage.removeItem("DoctorId"),localStorage.removeItem("PatientId"),localStorage.removeItem("PackageId"),t("/"),Lt.error("Loged out Successfully")},r=localStorage.getItem("authToken"),a=localStorage.getItem("UserName"),o=e.activeItem,s=e.setActiveItem,u=function(e){s(e)},c=f((0,i.useState)(!1),2),l=c[0],h=c[1];return(0,ru.jsxs)("div",{children:[(0,ru.jsx)("div",{className:"overlay ".concat(l?"visible":"")}),(0,ru.jsx)("nav",{className:"navbar navbar-expand-md navbar-light bg-light main-menu",style:{boxShadow:"black"},children:(0,ru.jsxs)("div",{className:"container",children:[(0,ru.jsx)(hu,{type:"button",id:"sidebarCollapse",variant:"link",className:"btn btn-link d-block d-md-none",onClick:function(){h(!l)},children:(0,ru.jsx)("i",{className:"bx ".concat(l?"bx-x":"bx-menu"," icon-single")})}),(0,ru.jsx)(Ye,{className:"navbar-brand",to:"/",children:(0,ru.jsxs)("h4",{className:"font-weight-bold",children:[(0,ru.jsx)("img",{style:{width:"25px"},src:du,alt:"Logo"})," Rebalance"]})}),(0,ru.jsx)("nav",{className:"navbar navbar-expand-md navbar-light bg-light sub-menu",children:(0,ru.jsx)("div",{className:"container",children:(0,ru.jsx)("div",{className:"collapse navbar-collapse",id:"navbar",children:(0,ru.jsxs)("ul",{className:"navbar-nav mx-auto",children:[r?(0,ru.jsx)("li",{className:"nav-item ".concat("DashboardDetails"===o?"active":""),children:(0,ru.jsx)(Ye,{className:"nav-link",to:"/DashboardDetails",onClick:function(){return u("DashboardDetails")},children:"Dashboard"})}):(0,ru.jsx)("li",{className:"nav-item ".concat("Home"===o?"active":""),children:(0,ru.jsx)(Ye,{className:"nav-link",to:"/",onClick:function(){return u("Home")},children:"Home"})}),r&&(0,ru.jsxs)(ru.Fragment,{children:[(0,ru.jsx)("li",{className:"nav-item ".concat("Enrollment"===o?"active":""),children:(0,ru.jsx)(Ye,{to:"/Enrollment",className:"nav-link",onClick:function(){return u("Enrollment")},children:"Enrollment"})}),(0,ru.jsx)("li",{className:"nav-item ".concat("Packages"===o?"active":""),children:(0,ru.jsx)(Ye,{to:"/Packages",className:"nav-link",onClick:function(){return u("Packages")},children:"Packages"})}),(0,ru.jsxs)("div",{className:"dropdown",children:[(0,ru.jsx)("a",{className:"btn dropdown-toggle my-2",role:"button",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false",children:"List"}),(0,ru.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[(0,ru.jsx)("li",{className:"nav-item ".concat("AllPatients"===o?"active":""),children:(0,ru.jsx)(Ye,{to:"/AllPatients",className:"nav-link",onClick:function(){return u("AllPatients")},children:"Patient List"})}),(0,ru.jsx)("li",{className:"nav-item ".concat("AllDoctors"===o?"active":""),children:(0,ru.jsx)(Ye,{to:"/AllDoctors",className:"nav-link",onClick:function(){return u("AllDoctors")},children:"Doctor List"})})]})]})]})]})})})}),(0,ru.jsx)("div",{className:"collapse navbar-collapse justify-content-end",children:(0,ru.jsxs)("ul",{className:"navbar-nav ",children:[(0,ru.jsx)("li",{className:"nav-item",children:(0,ru.jsx)("h5",{className:"my-2",children:a})}),(0,ru.jsx)("li",{className:"nav-item ml-md-3",children:r?(0,ru.jsxs)("button",{className:"btn btn-danger mx-3",onClick:n,children:[(0,ru.jsx)("i",{className:"bx bxs-user-circle mr-1 "})," Log Out"]}):(0,ru.jsxs)(Ye,{className:"btn btn-primary",to:"/login",children:[(0,ru.jsx)("i",{className:"bx bxs-user-circle mr-1"})," Log In"]})})]})})]})}),(0,ru.jsx)("div",{className:"search-bar d-block d-md-none",children:(0,ru.jsx)("div",{className:"container",children:(0,ru.jsx)("div",{className:"row",children:(0,ru.jsx)("div",{className:"col-12"})})})}),(0,ru.jsxs)("nav",{id:"sidebar",className:l?"active":"",children:[(0,ru.jsx)("div",{className:"sidebar-header",children:(0,ru.jsx)("div",{className:"container",children:(0,ru.jsx)("div",{className:"row align-items-left",children:(0,ru.jsx)("div",{className:"col-4 text-left",children:(0,ru.jsx)("button",{type:"button",id:"sidebarCollapseX",className:"btn btn-link",onClick:function(){h(!1)},children:(0,ru.jsx)("i",{className:"bx bx-x icon-single"})})})})})}),(0,ru.jsxs)("ul",{className:"list-unstyled components links mb-3",children:[(0,ru.jsx)("li",{className:"".concat("Home"===o?"active":""),children:(0,ru.jsx)(Ye,{to:"/",onClick:function(){return u("Home")},children:"Home"})}),r&&(0,ru.jsxs)(ru.Fragment,{children:[(0,ru.jsx)("li",{className:"nav-item ".concat("Enrollment"===o?"active":""),children:(0,ru.jsx)(Ye,{to:"/Enrollment",className:"nav-link",onClick:function(){return u("Enrollment")},children:"Enrollment"})}),(0,ru.jsx)("li",{className:"nav-item ".concat("Packages"===o?"active":""),children:(0,ru.jsx)(Ye,{to:"/Packages",className:"nav-link",onClick:function(){return u("Packages")},children:"Packages"})}),(0,ru.jsx)("li",{className:"nav-item ".concat("AllPatients"===o?"active":""),children:(0,ru.jsx)(Ye,{to:"/AllPatients",className:"nav-link",onClick:function(){return u("AllPatients")},children:"Patient List"})}),(0,ru.jsx)("li",{className:"nav-item ".concat("AllDoctors"===o?"active":""),children:(0,ru.jsx)(Ye,{to:"/AllDoctors",className:"nav-link",onClick:function(){return u("AllDoctors")},children:"Doctor List"})}),(0,ru.jsx)("li",{className:"nav-item ".concat("DashboardDetails"===o?"active":""),children:(0,ru.jsx)(Ye,{className:"nav-link",to:"/DashboardDetails",onClick:function(){return u("DashboardDetails")},children:"Dashboard"})})]}),(0,ru.jsx)("li",{className:" ".concat("Login"===o?"active":""),children:r?(0,ru.jsx)(Ye,{to:"/",onClick:function(){return n()},children:"Log out"}):(0,ru.jsx)(Ye,{to:"/login",onClick:function(){return u("log in")},children:"Log In"})})]}),(0,ru.jsxs)("ul",{className:"social-icons",children:[(0,ru.jsx)("li",{children:(0,ru.jsx)("a",{href:"/f",target:"_blank",title:"d",children:(0,ru.jsx)("i",{className:"bx bxl-facebook-square"})})}),(0,ru.jsx)("li",{children:(0,ru.jsx)("a",{href:"/j",target:"_blank",title:"d",children:(0,ru.jsx)("i",{className:"bx bxl-twitter"})})}),(0,ru.jsx)("li",{children:(0,ru.jsx)("a",{href:"/d",target:"_blank",title:"d",children:(0,ru.jsx)("i",{className:"bx bxl-linkedin"})})}),(0,ru.jsx)("li",{children:(0,ru.jsx)("a",{href:"/f",target:"_blank",title:"d",children:(0,ru.jsx)("i",{className:"bx bxl-instagram"})})})]})]})]})},vu=n.p+"static/media/phot.37baf1e029933a457334.jpg";var mu=function(){return(0,ru.jsx)("div",{children:(0,ru.jsx)("footer",{className:"footer",children:(0,ru.jsx)("div",{className:"container",children:(0,ru.jsxs)("div",{className:"row",children:[(0,ru.jsxs)("div",{className:"footer-col col-12 col-md-4",children:[(0,ru.jsx)("h4",{children:"Timing"}),(0,ru.jsx)("ul",{children:(0,ru.jsx)("li",{children:(0,ru.jsxs)("a",{href:"https://rebalance-chinmay0703.vercel.app/",children:["Monday to Saturday",(0,ru.jsx)("br",{}),"Morning - 9:30 to 12:30",(0,ru.jsx)("br",{}),"Evening - 5:30 to 8:30"]})})})]}),(0,ru.jsxs)("div",{className:"footer-col col-12 col-md-4",children:[(0,ru.jsx)("h4",{children:"Address"}),(0,ru.jsx)("ul",{children:(0,ru.jsx)("li",{children:(0,ru.jsx)("a",{href:"https://rebalance-chinmay0703.vercel.app/",children:"Physical Therapy Clinic in Bangalore, 610, 2nd floor, AECS Layout - C Block, AECS Layout, Brookefield, Bengaluru, Karnataka 560037"})})})]}),(0,ru.jsxs)("div",{className:"footer-col col-12 col-md-4",children:[(0,ru.jsx)("h4",{children:"Follow Us"}),(0,ru.jsxs)("div",{className:"social-links",children:[(0,ru.jsx)("a",{href:"https://www.facebook.com/vaishnavi.vyawahare/",children:(0,ru.jsx)("i",{className:"bx bxl-facebook"})}),(0,ru.jsx)("a",{href:"https://www.linkedin.com/in/vaishnavi-vyawahare-5a67761ba/?originalSubdomain=in",children:(0,ru.jsx)("i",{className:"bx bxl-linkedin"})}),(0,ru.jsx)("a",{children:(0,ru.jsx)("i",{className:"bx bxl-instagram"})})]})]})]})})})})},gu=/-(.)/g;var yu=["className","bsPrefix","as"],ku=function(e){return e[0].toUpperCase()+(t=e,t.replace(gu,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function bu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,r=void 0===n?ku(e):n,a=t.Component,o=t.defaultProps,s=i.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,s=t.as,u=void 0===s?a||"div":s,c=tt(t,yu),l=et(et({},o),c),f=cu(i,e);return(0,ru.jsx)(u,et({ref:n,className:nu()(r,f)},l))}));return s.displayName=r,s}var wu=function(e){return i.forwardRef((function(t,n){return(0,ru.jsx)("div",et(et({},t),{},{ref:n,className:nu()(t.className,e)}))}))},_u=["bsPrefix","className","variant","as"],xu=i.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,s=tt(e,_u),u=cu(n,"card-img");return(0,ru.jsx)(o,et({ref:t,className:nu()(i?"".concat(u,"-").concat(i):u,r)},s))}));xu.displayName="CardImg";var Eu=xu,Iu=i.createContext(null);Iu.displayName="CardHeaderContext";var Su=Iu,Tu=["bsPrefix","className","as"],Cu=i.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.as,o=void 0===a?"div":a,s=tt(e,Tu),u=cu(n,"card-header"),c=(0,i.useMemo)((function(){return{cardHeaderBsPrefix:u}}),[u]);return(0,ru.jsx)(Su.Provider,{value:c,children:(0,ru.jsx)(o,et(et({ref:t},s),{},{className:nu()(r,u)}))})}));Cu.displayName="CardHeader";var Nu=Cu,Au=["bsPrefix","className","bg","text","border","body","children","as"],Pu=wu("h5"),Du=wu("h6"),Ou=bu("card-body"),Ru=bu("card-title",{Component:Pu}),Lu=bu("card-subtitle",{Component:Du}),ju=bu("card-link",{Component:"a"}),Mu=bu("card-text",{Component:"p"}),Fu=bu("card-footer"),Uu=bu("card-img-overlay"),Vu=i.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,s=e.body,u=void 0!==s&&s,c=e.children,l=e.as,f=void 0===l?"div":l,h=tt(e,Au),d=cu(n,"card");return(0,ru.jsx)(f,et(et({ref:t},h),{},{className:nu()(r,d,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:u?(0,ru.jsx)(Ou,{children:c}):c}))}));Vu.displayName="Card";var zu=Object.assign(Vu,{Img:Eu,Title:Ru,Subtitle:Lu,Body:Ou,Link:ju,Text:Mu,Header:Nu,Footer:Fu,ImgOverlay:Uu});var Bu=function(){return(0,ru.jsxs)("div",{className:"App",children:[(0,ru.jsx)(pu,{activeItem:"Home",setActiveItem:function(e){console.log("Setting active item to ".concat(e))}}),(0,ru.jsxs)("div",{className:"my-3 ",children:[(0,ru.jsx)("img",{src:vu}),(0,ru.jsx)("div",{className:"row",children:(0,ru.jsx)("div",{className:"col-6",children:(0,ru.jsx)(zu,{})})})]}),(0,ru.jsx)(mu,{})]})},qu=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Hu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qu(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Ku;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ku=function(e){b(n,e);var t=I(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return y(n)}(T(Error)),Wu=function(e){return function(e){var t=qu(e);return Hu.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Gu=function(e){try{return Hu.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Qu(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Qu(e[n],t[n]));return e}var Yu=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Xu=function(){try{return Yu()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Gu(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},$u=function(){var e;return null===(e=Xu())||void 0===e?void 0:e.config},Ju=function(){function e(){var t=this;p(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return y(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Zu(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ec(){var e,t=null===(e=Xu())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function tc(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function nc(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function rc(){var e=Zu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ic(){try{return"object"===typeof indexedDB}catch(e){return!1}}var ac=function(e){b(n,e);var t=I(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),oc.prototype.create),a}return y(n)}(T(Error)),oc=function(){function e(t,n,r){p(this,e),this.service=t,this.serviceName=n,this.errors=r}return y(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(sc,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new ac(n,a,t)}}]),e}();var sc=/\{\$([^}]+)}/g;function uc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function cc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function lc(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(fc(s)&&fc(u)){if(!lc(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function fc(e){return null!==e&&"object"===typeof e}function hc(e){for(var t=[],n=function(){var e=f(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function dc(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=f(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function pc(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function vc(e,t){var n=new mc(e,t);return n.subscribe.bind(n)}var mc=function(){function e(t,n){var r=this;p(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return y(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=N(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=gc),void 0===r.error&&(r.error=gc),void 0===r.complete&&(r.complete=gc);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function gc(){}function yc(e){return e&&e._delegate?e._delegate:e}function kc(){kc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),s=new P(r||[]);return i(o,"_invoke",{value:T(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",m="completed",g={};function y(){}function k(){}function b(){}var w={};c(w,o,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(D([])));x&&x!==n&&r.call(x,o)&&(w=x);var E=b.prototype=y.prototype=Object.create(w);function I(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var u=f(e[i],e,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==v(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=h;return function(a,o){if(i===p)throw new Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=C(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?m:d,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=f(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(v(t)+" is not iterable")}return k.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:k,configurable:!0}),k.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},I(S.prototype),c(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new S(l(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(E),c(E,u,"Generator"),c(E,o,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function bc(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function wc(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){bc(a,r,i,o,s,"next",e)}function s(e){bc(a,r,i,o,s,"throw",e)}o(void 0)}))}}var _c=function(){function e(t,n,r){p(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return y(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),xc="[DEFAULT]",Ec=function(e){function t(e,n){p(this,t),this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return y(t,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ju;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xc})}catch(u){}var t,n=N(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xc;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){return(e=e||wc(kc().mark((function e(){var t;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(d(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),d(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xc;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xc;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=N(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=f(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===xc?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xc;return this.component?this.component.multipleInstances?e:xc:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),t}();var Ic,Sc,Tc=function(){function e(t){p(this,e),this.name=t,this.providers=new Map}return y(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ec(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Cc=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Sc||(Sc={}));var Nc={debug:Sc.DEBUG,verbose:Sc.VERBOSE,info:Sc.INFO,warn:Sc.WARN,error:Sc.ERROR,silent:Sc.SILENT},Ac=Sc.INFO,Pc=(Je(Ic={},Sc.DEBUG,"log"),Je(Ic,Sc.VERBOSE,"log"),Je(Ic,Sc.INFO,"info"),Je(Ic,Sc.WARN,"warn"),Je(Ic,Sc.ERROR,"error"),Ic),Dc=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Pc[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Oc=function(){function e(t){p(this,e),this.name=t,this._logLevel=Ac,this._logHandler=Dc,this._userLogHandler=null,Cc.push(this)}return y(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Sc))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Nc[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Sc.DEBUG].concat(t)),this._logHandler.apply(this,[this,Sc.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Sc.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Sc.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Sc.INFO].concat(t)),this._logHandler.apply(this,[this,Sc.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Sc.WARN].concat(t)),this._logHandler.apply(this,[this,Sc.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Sc.ERROR].concat(t)),this._logHandler.apply(this,[this,Sc.ERROR].concat(t))}}]),e}();var Rc,Lc,jc=function(e,t){return t.some((function(t){return e instanceof t}))};var Mc=new WeakMap,Fc=new WeakMap,Uc=new WeakMap,Vc=new WeakMap,zc=new WeakMap;var Bc={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Fc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Uc.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kc(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function qc(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Lc||(Lc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Wc(this),n),Kc(Mc.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kc(e.apply(Wc(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Wc(this),t].concat(r));return Uc.set(a,t.sort?t.sort():[t]),Kc(a)}}function Hc(e){return"function"===typeof e?qc(e):(e instanceof IDBTransaction&&function(e){if(!Fc.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Fc.set(e,t)}}(e),jc(e,Rc||(Rc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Bc):e)}function Kc(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Kc(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Mc.set(t,e)})).catch((function(){})),zc.set(t,e),t}(e);if(Vc.has(e))return Vc.get(e);var t=Hc(e);return t!==e&&(Vc.set(e,t),zc.set(t,e)),t}var Wc=function(e){return zc.get(e)};var Gc,Qc,Yc,Xc,$c,Jc=["get","getKey","getAll","getAllKeys","count"],Zc=["put","add","delete","clear"],el=new Map;function tl(e,t){var n;if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(el.get(t))return el.get(t);var r=t.replace(/FromIndex$/,""),i=t!==r,a=Zc.includes(r);if(r in(i?IDBIndex:IDBObjectStore).prototype&&(a||Jc.includes(r))){var o=function(e){return(n=n||wc(kc().mark((function e(t){var n,o,s,u,c,l,f=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,a?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return i&&(s=s.index(c.shift())),e.next=6,Promise.all([(n=s)[r].apply(n,c),a&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)};return el.set(t,o),o}}}Bc=function(e){return et(et({},e),{},{get:function(t,n,r){return tl(t,n)||e.get(t,n,r)},has:function(t,n){return!!tl(t,n)||e.has(t,n)}})}(Bc);var nl=function(){function e(t){p(this,e),this.container=t}return y(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var rl="@firebase/app",il="0.9.19",al=new Oc("@firebase/app"),ol="[DEFAULT]",sl=(Je(Gc={},rl,"fire-core"),Je(Gc,"@firebase/app-compat","fire-core-compat"),Je(Gc,"@firebase/analytics","fire-analytics"),Je(Gc,"@firebase/analytics-compat","fire-analytics-compat"),Je(Gc,"@firebase/app-check","fire-app-check"),Je(Gc,"@firebase/app-check-compat","fire-app-check-compat"),Je(Gc,"@firebase/auth","fire-auth"),Je(Gc,"@firebase/auth-compat","fire-auth-compat"),Je(Gc,"@firebase/database","fire-rtdb"),Je(Gc,"@firebase/database-compat","fire-rtdb-compat"),Je(Gc,"@firebase/functions","fire-fn"),Je(Gc,"@firebase/functions-compat","fire-fn-compat"),Je(Gc,"@firebase/installations","fire-iid"),Je(Gc,"@firebase/installations-compat","fire-iid-compat"),Je(Gc,"@firebase/messaging","fire-fcm"),Je(Gc,"@firebase/messaging-compat","fire-fcm-compat"),Je(Gc,"@firebase/performance","fire-perf"),Je(Gc,"@firebase/performance-compat","fire-perf-compat"),Je(Gc,"@firebase/remote-config","fire-rc"),Je(Gc,"@firebase/remote-config-compat","fire-rc-compat"),Je(Gc,"@firebase/storage","fire-gcs"),Je(Gc,"@firebase/storage-compat","fire-gcs-compat"),Je(Gc,"@firebase/firestore","fire-fst"),Je(Gc,"@firebase/firestore-compat","fire-fst-compat"),Je(Gc,"fire-js","fire-js"),Je(Gc,"firebase","fire-js-all"),Gc),ul=new Map,cl=new Map;function ll(e,t){try{e.container.addComponent(t)}catch(n){al.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function fl(e,t){e.container.addOrOverwriteComponent(t)}function hl(e){var t=e.name;if(cl.has(t))return al.debug("There were multiple attempts to register component ".concat(t,".")),!1;cl.set(t,e);var n,r=N(ul.values());try{for(r.s();!(n=r.n()).done;){ll(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function dl(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function pl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ol;dl(e,t).clearInstance(n)}function vl(){cl.clear()}var ml=(Je(Qc={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),Je(Qc,"bad-app-name","Illegal App name: '{$appName}"),Je(Qc,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Je(Qc,"app-deleted","Firebase App named '{$appName}' already deleted"),Je(Qc,"no-options","Need to provide options, when not being deployed to hosting via source."),Je(Qc,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Je(Qc,"invalid-log-argument","First argument to `onLog` must be null or a function."),Je(Qc,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Je(Qc,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Je(Qc,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Je(Qc,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Qc),gl=new oc("app","Firebase",ml),yl=function(){function e(t,n,r){var i=this;p(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _c("app",(function(){return i}),"PUBLIC"))}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw gl.create("app-deleted",{appName:this._name})}}]),e}(),kl="10.4.0";function bl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:ol,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw gl.create("bad-app-name",{appName:String(i)});if(n||(n=$u()),!n)throw gl.create("no-options");var a=ul.get(i);if(a){if(lc(n,a.options)&&lc(r,a.config))return a;throw gl.create("duplicate-app",{appName:i})}var o,s=new Tc(i),u=N(cl.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new yl(n,r,s);return ul.set(i,l),l}function wl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ol,t=ul.get(e);if(!t&&e===ol&&$u())return bl();if(!t)throw gl.create("no-app",{appName:e});return t}function _l(){return Array.from(ul.values())}function xl(e){return(Yc=Yc||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ul.has(n)){e.next=6;break}return ul.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function El(e,t,n){var r,i=null!==(r=sl[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void al.warn(s.join(" "))}hl(new _c("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Il(e,t){if(null!==e&&"function"!==typeof e)throw gl.create("invalid-log-argument");!function(e,t){var n,r=N(Cc);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Nc[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Sc[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Sl(e){var t;t=e,Cc.forEach((function(e){e.setLogLevel(t)}))}var Tl="firebase-heartbeat-database",Cl=1,Nl="firebase-heartbeat-store",Al=null;function Pl(){return Al||(Al=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Kc(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Kc(s.result),e.oldVersion,e.newVersion,Kc(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Tl,Cl,{upgrade:function(e,t){if(0===t)e.createObjectStore(Nl)}}).catch((function(e){throw gl.create("idb-open",{originalErrorMessage:e.message})}))),Al}function Dl(e){return(Xc=Xc||wc(kc().mark((function e(t){var n,r,i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pl();case 3:return n=e.sent,e.next=6,n.transaction(Nl).objectStore(Nl).get(Rl(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof ac?al.warn(e.t0.message):(i=gl.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),al.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Ol(e,t){return($c=$c||wc(kc().mark((function e(t,n){var r,i,a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pl();case 3:return r=e.sent,i=r.transaction(Nl,"readwrite"),a=i.objectStore(Nl),e.next=8,a.put(n,Rl(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof ac?al.warn(e.t0.message):(o=gl.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),al.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Rl(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ll=function(e,t){function n(e){var t=this;p(this,n),this.container=e,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Vl(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return t._heartbeatsCache=e,e}))}return y(n,[{key:"triggerHeartbeat",value:function(){return(e=e||wc(kc().mark((function e(){var t,n,r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=jl(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getHeartbeatsHeader",value:function(){return(t=t||wc(kc().mark((function e(){var t,n,r,i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=jl(),n=Ml(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Wu(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),n}();function jl(){return(new Date).toISOString().substring(0,10)}function Ml(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=N(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),zl(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),zl(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Fl,Ul,Vl=function(e,t,n,r){function i(e){p(this,i),this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return y(i,[{key:"runIndexedDBEnvironmentCheck",value:function(){return(e=e||wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ic()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"read",value:function(){return(t=t||wc(kc().mark((function e(){var t;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Dl(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"overwrite",value:function(e){return(n=n||wc(kc().mark((function e(t){var n,r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ol(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"add",value:function(e){return(r=r||wc(kc().mark((function e(t){var n,r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ol(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(d(r.heartbeats),d(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),i}();function zl(e){return Wu(JSON.stringify({version:2,heartbeats:e})).length}Fl="",hl(new _c("platform-logger",(function(e){return new nl(e)}),"PRIVATE")),hl(new _c("heartbeat",(function(e){return new Ll(e)}),"PRIVATE")),El(rl,il,Fl),El(rl,il,"esm2017"),El("fire-js","");var Bl=function(){function e(t,n){var r=this;p(this,e),this._delegate=t,this.firebase=n,ll(t,new _c("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),xl(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ol;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ol;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ll(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){fl(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ql=(Je(Ul={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Je(Ul,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ul),Hl=new oc("app-compat","Firebase",ql);var Kl=function e(){var n=function(e){var n={},r={__esModule:!0,initializeApp:function(t){var i=bl(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(uc(n,i.name))return n[i.name];var a=new e(i,r);return n[i.name]=a,a},app:i,registerVersion:El,setLogLevel:Sl,onLog:Il,apps:null,SDK_VERSION:kl,INTERNAL:{registerComponent:function(t){var n=t.name,a=n.replace("-compat","");if(hl(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Hl.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==t.serviceProps&&Qu(o,t.serviceProps),r[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:t}};function i(e){if(!uc(n,e=e||ol))throw Hl.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=e,r}(Bl);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Qu(n,e)},createSubscribe:vc,ErrorFactory:oc,deepExtend:Qu}),n}(),Wl=new Oc("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Wl.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Gl=self.firebase.SDK_VERSION;Gl&&Gl.indexOf("LITE")>=0&&Wl.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ql=Kl;!function(e){El("@firebase/app-compat","0.2.19",e)}();Ql.registerVersion("firebase","10.4.0","app-compat");var Yl,Xl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},$l={},Jl=Jl||{},Zl=Xl||self;function ef(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function tf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var nf="closure_uid_"+(1e9*Math.random()>>>0),rf=0;function af(e,t,n){return e.call.apply(e.bind,arguments)}function of(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function sf(e,t,n){return(sf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?af:of).apply(null,arguments)}function uf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function cf(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function lf(){this.s=this.s,this.o=this.o}lf.prototype.s=!1,lf.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,nf)&&e[nf]||(e[nf]=++rf))},lf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ff=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function hf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function df(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(ef(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function pf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}pf.prototype.h=function(){this.defaultPrevented=!0};var vf=function(){if(!Zl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Zl.addEventListener("test",(function(){}),t),Zl.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function mf(e){return/^[\s\xa0]*$/.test(e)}function gf(){var e=Zl.navigator;return e&&(e=e.userAgent)?e:""}function yf(e){return-1!=gf().indexOf(e)}function kf(e){return kf[" "](e),e}kf[" "]=function(){};var bf,wf,_f=yf("Opera"),xf=yf("Trident")||yf("MSIE"),Ef=yf("Edge"),If=Ef||xf,Sf=yf("Gecko")&&!(-1!=gf().toLowerCase().indexOf("webkit")&&!yf("Edge"))&&!(yf("Trident")||yf("MSIE"))&&!yf("Edge"),Tf=-1!=gf().toLowerCase().indexOf("webkit")&&!yf("Edge");function Cf(){var e=Zl.document;return e?e.documentMode:void 0}e:{var Nf="",Af=function(){var e=gf();return Sf?/rv:([^\);]+)(\)|;)/.exec(e):Ef?/Edge\/([\d\.]+)/.exec(e):xf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Tf?/WebKit\/(\S+)/.exec(e):_f?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Af&&(Nf=Af?Af[1]:""),xf){var Pf=Cf();if(null!=Pf&&Pf>parseFloat(Nf)){bf=String(Pf);break e}}bf=Nf}if(Zl.document&&xf){var Df=Cf();wf=Df||(parseInt(bf,10)||void 0)}else wf=void 0;var Of=wf;function Rf(e,t){if(pf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Sf){e:{try{kf(t.nodeName);var i=!0;break e}catch(lt){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Lf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Rf.$.h.call(this)}}cf(Rf,pf);var Lf={2:"touch",3:"pen",4:"mouse"};Rf.prototype.h=function(){Rf.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var jf="closure_listenable_"+(1e6*Math.random()|0),Mf=0;function Ff(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Mf,this.fa=this.ia=!1}function Uf(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Vf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function zf(e){var t={};for(var n in e)t[n]=e[n];return t}var Bf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Bf.length;a++)n=Bf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Hf(e){this.src=e,this.g={},this.h=0}function Kf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ff(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Uf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Wf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Hf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Wf(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Ff(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Gf="closure_lm_"+(1e6*Math.random()|0),Qf={};function Yf(e,t,n,r,i){if(r&&r.once)return $f(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Yf(e,t[a],n,r,i);return null}return n=ih(n),e&&e[jf]?e.O(t,n,tf(r)?!!r.capture:!!r,i):Xf(e,t,n,!1,r,i)}function Xf(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=tf(i)?!!i.capture:!!i,s=nh(e);if(s||(e[Gf]=s=new Hf(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=th;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)vf||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(eh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $f(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)$f(e,t[a],n,r,i);return null}return n=ih(n),e&&e[jf]?e.P(t,n,tf(r)?!!r.capture:!!r,i):Xf(e,t,n,!0,r,i)}function Jf(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Jf(e,t[a],n,r,i);else r=tf(r)?!!r.capture:!!r,n=ih(n),e&&e[jf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Wf(a=e.g[t],n,r,i))&&(Uf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=nh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Wf(t,n,r,i)),(n=-1<e?t[e]:null)&&Zf(n))}function Zf(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[jf])Kf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(eh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=nh(t))?(Kf(n,e),0==n.h&&(n.src=null,t[Gf]=null)):Uf(e)}}}function eh(e){return e in Qf?Qf[e]:Qf[e]="on"+e}function th(e,t){if(e.fa)e=!0;else{t=new Rf(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Zf(e),e=n.call(r,t)}return e}function nh(e){return(e=e[Gf])instanceof Hf?e:null}var rh="__closure_events_fn_"+(1e9*Math.random()>>>0);function ih(e){return"function"===typeof e?e:(e[rh]||(e[rh]=function(t){return e.handleEvent(t)}),e[rh])}function ah(){lf.call(this),this.i=new Hf(this),this.S=this,this.J=null}function oh(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new pf(t,e);else if(t instanceof pf)t.target=t.target||e;else{var i=t;qf(t=new pf(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=sh(o,r,!0,t)&&i}if(i=sh(o=t.g=e,r,!0,t)&&i,i=sh(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=sh(o=t.g=n[a],r,!1,t)&&i}function sh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Kf(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}cf(ah,lf),ah.prototype[jf]=!0,ah.prototype.removeEventListener=function(e,t,n,r){Jf(this,e,t,n,r)},ah.prototype.N=function(){if(ah.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Uf(n[r]);delete t.g[e],t.h--}}this.J=null},ah.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ah.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var uh=Zl.JSON.stringify,ch=function(){function e(t,n){p(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return y(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function lh(){var e=yh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var fh=function(){function e(){p(this,e),this.h=this.g=null}return y(e,[{key:"add",value:function(e,t){var n=hh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),hh=new ch((function(){return new dh}),(function(e){return e.reset()})),dh=function(){function e(){p(this,e),this.next=this.g=this.h=null}return y(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ph(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function vh(e){Zl.setTimeout((function(){throw e}),0)}var mh,gh=!1,yh=new fh,kh=function(){var e=Zl.Promise.resolve(void 0);mh=function(){e.then(bh)}},bh=function(){for(var e;e=lh();){try{e.h.call(e.g)}catch(n){vh(n)}var t=hh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}gh=!1};function wh(e,t){ah.call(this),this.h=e||1,this.g=t||Zl,this.j=sf(this.qb,this),this.l=Date.now()}function _h(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function xh(e,t,n){if("function"===typeof e)n&&(e=sf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=sf(e.handleEvent,e)}return 2147483647<Number(t)?-1:Zl.setTimeout(e,t||0)}function Eh(e){e.g=xh((function(){e.g=null,e.i&&(e.i=!1,Eh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}cf(wh,ah),(Yl=wh.prototype).ga=!1,Yl.T=null,Yl.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),oh(this,"tick"),this.ga&&(_h(this),this.start()))}},Yl.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Yl.N=function(){wh.$.N.call(this),_h(this),delete this.g};var Ih=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return y(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Eh(this)}},{key:"N",value:function(){jt(w(n.prototype),"N",this).call(this),this.g&&(Zl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(lf);function Sh(e){lf.call(this),this.h=e,this.g={}}cf(Sh,lf);var Th=[];function Ch(e,t,n,r){Array.isArray(n)||(n&&(Th[0]=n.toString()),n=Th);for(var i=0;i<n.length;i++){var a=Yf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Nh(e){Vf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Zf(e)}),e),e.g={}}function Ah(){this.g=!0}function Ph(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return uh(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Sh.prototype.N=function(){Sh.$.N.call(this),Nh(this)},Sh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ah.prototype.Ea=function(){this.g=!1},Ah.prototype.info=function(){};var Dh={},Oh=null;function Rh(){return Oh=Oh||new ah}function Lh(e){pf.call(this,Dh.Ta,e)}function jh(e){var t=Rh();oh(t,new Lh(t))}function Mh(e,t){pf.call(this,Dh.STAT_EVENT,e),this.stat=t}function Fh(e){var t=Rh();oh(t,new Mh(t,e))}function Uh(e,t){pf.call(this,Dh.Ua,e),this.size=t}function Vh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Zl.setTimeout((function(){e()}),t)}Dh.Ta="serverreachability",cf(Lh,pf),Dh.STAT_EVENT="statevent",cf(Mh,pf),Dh.Ua="timingevent",cf(Uh,pf);var zh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Bh={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qh(){}function Hh(e){return e.h||(e.h=e.i())}function Kh(){}qh.prototype.h=null;var Wh,Gh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qh(){pf.call(this,"d")}function Yh(){pf.call(this,"c")}function Xh(){}function $h(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Sh(this),this.P=Zh,e=If?125:void 0,this.V=new wh(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Jh}function Jh(){this.i=null,this.g="",this.h=!1}cf(Qh,pf),cf(Yh,pf),cf(Xh,qh),Xh.prototype.g=function(){return new XMLHttpRequest},Xh.prototype.i=function(){return{}},Wh=new Xh;var Zh=45e3,ed={},td={};function nd(e,t,n){e.L=1,e.v=wd(md(t)),e.s=n,e.S=!0,rd(e,null)}function rd(e,t){e.G=Date.now(),sd(e),e.A=md(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Rd(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Jh,e.g=Lp(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Ih(sf(e.Pa,e,e.g),e.O)),Ch(e.U,e.g,"readystatechange",e.nb),t=e.I?zf(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),jh(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function id(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function ad(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=od(e,n))==td){4==t&&(e.o=4,Fh(14),i=!1),Ph(e.j,e.m,null,"[Incomplete Response]");break}if(r==ed){e.o=4,Fh(15),Ph(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ph(e.j,e.m,r,null),hd(e,r)}id(e)&&r!=td&&r!=ed&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Fh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Tp(t),t.M=!0,Fh(11))):(Ph(e.j,e.m,n,"[Invalid Chunked Response]"),fd(e),ld(e))}function od(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?td:(n=Number(t.substring(n,r)),isNaN(n)?ed:(r+=1)+n>t.length?td:(t=t.slice(r,r+n),e.C=r+n,t))}function sd(e){e.Y=Date.now()+e.P,ud(e,e.P)}function ud(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Vh(sf(e.lb,e),t)}function cd(e){e.B&&(Zl.clearTimeout(e.B),e.B=null)}function ld(e){0==e.l.H||e.J||Ap(e.l,e)}function fd(e){cd(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,_h(e.V),Nh(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function hd(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||zd(n.i,e)))if(!e.K&&zd(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Np(n),kp(n)}Sp(n),Fh(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Vh(sf(n.ib,n),6e3));if(1>=Vd(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Dp(n,11)}else if((e.K||n.g==e)&&Np(n),!mf(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Bd(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,bd(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Rp(r,r.J?r.pa:null,r.Y),d.K){qd(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(cd(p),sd(p)),r.g=d}else Ip(r);0<n.j.length&&wp(n)}else"stop"!=a[0]&&"close"!=a[0]||Dp(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Dp(n,7):yp(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}jh()}catch(a){}}function dd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ef(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ef(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ef(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Yl=$h.prototype).setTimeout=function(e){this.P=e},Yl.nb=function(e){e=e.target;var t=this.M;t&&3==hp(e)?t.l():this.Pa(e)},Yl.Pa=function(e){try{if(e==this.g)e:{var t=hp(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||If||this.g&&(this.h.h||this.g.ja()||dp(this.g)))){this.J||4!=t||7==n||jh(),cd(this);var r=this.g.da();this.ca=r;t:if(id(this)){var i=dp(this.g);e="";var a=i.length,o=4==hp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){fd(this),ld(this);var s="";break t}this.h.i=new Zl.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mf(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Fh(12),fd(this),ld(this);break e}Ph(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hd(this,r)}this.S?(ad(this,t,s),If&&this.i&&3==t&&(Ch(this.U,this.V,"tick",this.mb),this.V.start())):(Ph(this.j,this.m,s,null),hd(this,s)),4==t&&fd(this),this.i&&!this.J&&(4==t?Ap(this.l,this):(this.i=!1,sd(this)))}else(function(e){var t={};e=(e.g&&2<=hp(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!mf(e[n])){var r=ph(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Fh(12)):(this.o=0,Fh(13)),fd(this),ld(this)}}}catch(t){}},Yl.mb=function(){if(this.g){var e=hp(this.g),t=this.g.ja();this.C<t.length&&(cd(this),ad(this,e,t),this.i&&4!=e&&sd(this))}},Yl.cancel=function(){this.J=!0,fd(this)},Yl.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(jh(),Fh(17)),fd(this),this.o=2,ld(this)):ud(this,this.Y-e)};var pd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vd(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof vd){this.h=e.h,gd(this,e.j),this.s=e.s,this.g=e.g,yd(this,e.m),this.l=e.l;var t=e.i,n=new Ad;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),kd(this,n),this.o=e.o}else e&&(t=String(e).match(pd))?(this.h=!1,gd(this,t[1]||"",!0),this.s=_d(t[2]||""),this.g=_d(t[3]||"",!0),yd(this,t[4]),this.l=_d(t[5]||"",!0),kd(this,t[6]||"",!0),this.o=_d(t[7]||"")):(this.h=!1,this.i=new Ad(null,this.h))}function md(e){return new vd(e)}function gd(e,t,n){e.j=n?_d(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function yd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function kd(e,t,n){t instanceof Ad?(e.i=t,function(e,t){t&&!e.j&&(Pd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Dd(this,t),Rd(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=xd(t,Cd)),e.i=new Ad(t,e.h))}function bd(e,t,n){e.i.set(t,n)}function wd(e){return bd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function _d(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ed),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ed(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}vd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xd(t,Id,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(xd(t,Id,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(xd(n,"/"==n.charAt(0)?Td:Sd,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",xd(n,Nd)),e.join("")};var Id=/[#\/\?@]/g,Sd=/[#\?:]/g,Td=/[#\?]/g,Cd=/[#\?@]/g,Nd=/#/g;function Ad(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pd(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Dd(e,t){Pd(e),t=Ld(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Od(e,t){return Pd(e),t=Ld(e,t),e.g.has(t)}function Rd(e,t,n){Dd(e,t),0<n.length&&(e.i=null,e.g.set(Ld(e,t),hf(n)),e.h+=n.length)}function Ld(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Yl=Ad.prototype).add=function(e,t){Pd(this),this.i=null,e=Ld(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Yl.forEach=function(e,t){Pd(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Yl.ta=function(){Pd(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Yl.Z=function(e){Pd(this);var t=[];if("string"===typeof e)Od(this,e)&&(t=t.concat(this.g.get(Ld(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Yl.set=function(e,t){return Pd(this),this.i=null,Od(this,e=Ld(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Yl.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Yl.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var jd=y((function e(t,n){p(this,e),this.g=t,this.map=n}));function Md(e){this.l=e||Fd,Zl.PerformanceNavigationTiming?e=0<(e=Zl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Zl.g&&Zl.g.Ka&&Zl.g.Ka()&&Zl.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Fd=10;function Ud(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Vd(e){return e.h?1:e.g?e.g.size:0}function zd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Bd(e,t){e.g?e.g.add(t):e.h=t}function qd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Hd(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=N(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return hf(e.i)}Md.prototype.cancel=function(){if(this.i=Hd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=N(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Kd,Wd=function(){function e(){p(this,e)}return y(e,[{key:"stringify",value:function(e){return Zl.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Zl.JSON.parse(e,void 0)}}]),e}();function Gd(){this.g=new Wd}function Qd(e,t,n){var r=n||"";try{dd(e,(function(e,n){var i=e;tf(e)&&(i=uh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Yd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(lt){}}function Xd(e){this.l=e.ec||null,this.j=e.ob||!1}function $d(e,t){ah.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Jd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cf(Xd,qh),Xd.prototype.g=function(){return new $d(this.l,this.j)},Xd.prototype.i=(Kd={},function(){return Kd}),cf($d,ah);var Jd=0;function Zd(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ep(e){e.readyState=4,e.l=null,e.j=null,e.A=null,tp(e)}function tp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Yl=$d.prototype).open=function(e,t){if(this.readyState!=Jd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,tp(this)},Yl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Zl).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Yl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ep(this)),this.readyState=Jd},Yl.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tp(this)),this.g&&(this.readyState=3,tp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Zl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zd(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Yl.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ep(this):tp(this),3==this.readyState&&Zd(this)}},Yl.Za=function(e){this.g&&(this.response=this.responseText=e,ep(this))},Yl.Ya=function(e){this.g&&(this.response=e,ep(this))},Yl.ka=function(){this.g&&ep(this)},Yl.setRequestHeader=function(e,t){this.v.append(e,t)},Yl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Yl.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty($d.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var np=Zl.JSON.parse;function rp(e){ah.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ip,this.L=this.M=!1}cf(rp,ah);var ip="",ap=/^https?$/i,op=["POST","PUT"];function sp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,up(e),lp(e)}function up(e){e.F||(e.F=!0,oh(e,"complete"),oh(e,"error"))}function cp(e){if(e.h&&"undefined"!=typeof Jl&&(!e.C[1]||4!=hp(e)||2!=e.da()))if(e.v&&4==hp(e))xh(e.La,0,e);else if(oh(e,"readystatechange"),4==hp(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(pd)[1]||null;!a&&Zl.self&&Zl.self.location&&(a=Zl.self.location.protocol.slice(0,-1)),i=!ap.test(a?a.toLowerCase():"")}t=i}if(t)oh(e,"complete"),oh(e,"success");else{e.m=6;try{var o=2<hp(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",up(e)}}finally{lp(e)}}}function lp(e,t){if(e.g){fp(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||oh(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function fp(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Zl.clearTimeout(e.A),e.A=null)}function hp(e){return e.g?e.g.readyState:0}function dp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ip:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(gt){return null}}function pp(e){var t="";return Vf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function vp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pp(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):bd(e,t,n))}function mp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function gp(e){this.Ga=0,this.j=[],this.l=new Ah,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mp("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mp("baseRetryDelayMs",5e3,e),this.hb=mp("retryDelaySeedMs",1e4,e),this.eb=mp("forwardChannelMaxRetries",2,e),this.xa=mp("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Md(e&&e.concurrentRequestLimit),this.Ja=new Gd,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function yp(e){if(bp(e),3==e.H){var t=e.W++,n=md(e.I);if(bd(n,"SID",e.K),bd(n,"RID",t),bd(n,"TYPE","terminate"),xp(e,n),(t=new $h(e,e.l,t)).L=2,t.v=wd(md(n)),n=!1,Zl.navigator&&Zl.navigator.sendBeacon)try{n=Zl.navigator.sendBeacon(t.v.toString(),"")}catch(st){}!n&&Zl.Image&&((new Image).src=t.v,n=!0),n||(t.g=Lp(t.l,null),t.g.ha(t.v)),t.G=Date.now(),sd(t)}Op(e)}function kp(e){e.g&&(Tp(e),e.g.cancel(),e.g=null)}function bp(e){kp(e),e.u&&(Zl.clearTimeout(e.u),e.u=null),Np(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Zl.clearTimeout(e.m),e.m=null)}function wp(e){if(!Ud(e.i)&&!e.m){e.m=!0;var t=e.Na;mh||kh(),gh||(mh(),gh=!0),yh.add(t,e),e.C=0}}function _p(e,t){var n;n=t?t.m:e.W++;var r=md(e.I);bd(r,"SID",e.K),bd(r,"RID",n),bd(r,"AID",e.V),xp(e,r),e.o&&e.s&&vp(r,e.o,e.s),n=new $h(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ep(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Bd(e.i,n),nd(n,r,t)}function xp(e,t){e.na&&Vf(e.na,(function(e,n){bd(t,n,e)})),e.h&&dd({},(function(e,n){bd(t,n,e)}))}function Ep(e,t,n){n=Math.min(e.j.length,n);var r=e.h?sf(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{Qd(l,o,"req"+c+"_")}catch(bt){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Ip(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;mh||kh(),gh||(mh(),gh=!0),yh.add(t,e),e.A=0}}function Sp(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Vh(sf(e.Ma,e),Pp(e,e.A)),e.A++,!0)}function Tp(e){null!=e.B&&(Zl.clearTimeout(e.B),e.B=null)}function Cp(e){e.g=new $h(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=md(e.wa);bd(t,"RID","rpc"),bd(t,"SID",e.K),bd(t,"AID",e.V),bd(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&bd(t,"TO",e.qa),bd(t,"TYPE","xmlhttp"),xp(e,t),e.o&&e.s&&vp(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=wd(md(t)),n.s=null,n.S=!0,rd(n,e)}function Np(e){null!=e.v&&(Zl.clearTimeout(e.v),e.v=null)}function Ap(e,t){var n=null;if(e.g==t){Np(e),Tp(e),e.g=null;var r=2}else{if(!zd(e.i,t))return;n=t.F,qd(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;oh(r=Rh(),new Uh(r,n)),wp(e)}else Ip(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Vd(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Vh(sf(e.Na,e,t),Pp(e,e.C)),e.C++,!0))}(e,t)||2==r&&Sp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Dp(e,5);break;case 4:Dp(e,10);break;case 3:Dp(e,6);break;default:Dp(e,2)}}function Pp(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Dp(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=sf(e.pb,e);n||(n=new vd("//www.google.com/images/cleardot.gif"),Zl.location&&"http"==Zl.location.protocol||gd(n,"https"),wd(n)),function(e,t){var n=new Ah;if(Zl.Image){var r=new Image;r.onload=uf(Yd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=uf(Yd,n,r,"TestLoadImage: error",!1,t),r.onabort=uf(Yd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=uf(Yd,n,r,"TestLoadImage: timeout",!1,t),Zl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Fh(2);e.H=0,e.h&&e.h.za(t),Op(e),bp(e)}function Op(e){if(e.H=0,e.ma=[],e.h){var t=Hd(e.i);0==t.length&&0==e.j.length||(df(e.ma,t),df(e.ma,e.j),e.i.i.length=0,hf(e.j),e.j.length=0),e.h.ya()}}function Rp(e,t,n){var r=n instanceof vd?md(n):new vd(n);if(""!=r.g)t&&(r.g=t+"."+r.g),yd(r,r.m);else{var i=Zl.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new vd(null);r&&gd(a,r),t&&(a.g=t),i&&yd(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&bd(r,n,t),bd(r,"VER",e.ra),xp(e,r),r}function Lp(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new rp(new Xd({ob:!0})):new rp(e.va)).Oa(e.J),t}function jp(){}function Mp(){if(xf&&!(10<=Number(Of)))throw Error("Environmental error: no available transport.")}function Fp(e,t){ah.call(this),this.g=new gp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!mf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!mf(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new zp(this)}function Up(e){Qh.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Vp(){Yh.call(this),this.status=1}function zp(e){this.g=e}function Bp(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function qp(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Hp(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Yl=rp.prototype).Oa=function(e){this.M=e},Yl.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Wh.g(),this.C=this.u?Hh(this.u):Hh(Wh),this.g.onreadystatechange=sf(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void sp(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=N(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Zl.FormData&&e instanceof Zl.FormData,!(0<=ff(op,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=N(n);try{for(c.s();!(u=c.n()).done;){var l=f(u.value,2),h=l[0],d=l[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fp(this),0<this.B&&((this.L=function(e){return xf&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sf(this.ua,this)):this.A=xh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){sp(this,s)}},Yl.ua=function(){"undefined"!=typeof Jl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oh(this,"timeout"),this.abort(8))},Yl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,oh(this,"complete"),oh(this,"abort"),lp(this))},Yl.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lp(this,!0)),rp.$.N.call(this)},Yl.La=function(){this.s||(this.G||this.v||this.l?cp(this):this.kb())},Yl.kb=function(){cp(this)},Yl.isActive=function(){return!!this.g},Yl.da=function(){try{return 2<hp(this)?this.g.status:-1}catch(Kd){return-1}},Yl.ja=function(){try{return this.g?this.g.responseText:""}catch(Kd){return""}},Yl.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),np(t)}},Yl.Ia=function(){return this.m},Yl.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Yl=gp.prototype).ra=8,Yl.H=1,Yl.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new $h(this,this.l,e),n=this.s;if(this.U&&(n?qf(n=zf(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ep(this,t,r),bd(i=md(this.I),"RID",e),bd(i,"CVER",22),this.F&&bd(i,"X-HTTP-Session-Id",this.F),xp(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(pp(n)))+"&"+r:this.o&&vp(i,this.o,n)),Bd(this.i,t),this.bb&&bd(i,"TYPE","init"),this.P?(bd(i,"$req",r),bd(i,"SID","null"),t.aa=!0,nd(t,i,null)):nd(t,i,r),this.H=2}}else 3==this.H&&(e?_p(this,e):0==this.j.length||Ud(this.i)||_p(this))},Yl.Ma=function(){if(this.u=null,Cp(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Vh(sf(this.jb,this),e)}},Yl.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Fh(10),kp(this),Cp(this))},Yl.ib=function(){null!=this.v&&(this.v=null,kp(this),Sp(this),Fh(19))},Yl.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Fh(2)):(this.l.info("Failed to ping google.com"),Fh(1))},Yl.isActive=function(){return!!this.h&&this.h.isActive(this)},(Yl=jp.prototype).Ba=function(){},Yl.Aa=function(){},Yl.za=function(){},Yl.ya=function(){},Yl.isActive=function(){return!0},Yl.Va=function(){},Mp.prototype.g=function(e,t){return new Fp(e,t)},cf(Fp,ah),Fp.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Fh(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Rp(e,null,e.Y),wp(e)},Fp.prototype.close=function(){yp(this.g)},Fp.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=uh(e),e=n);t.j.push(new jd(t.fb++,e)),3==t.H&&wp(t)},Fp.prototype.N=function(){this.g.h=null,delete this.j,yp(this.g),delete this.g,Fp.$.N.call(this)},cf(Up,Qh),cf(Vp,Yh),cf(zp,jp),zp.prototype.Ba=function(){oh(this.g,"a")},zp.prototype.Aa=function(e){oh(this.g,new Up(e))},zp.prototype.za=function(e){oh(this.g,new Vp)},zp.prototype.ya=function(){oh(this.g,"b")},cf(Bp,(function(){this.blockSize=-1})),Bp.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Bp.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)qp(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){qp(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){qp(this,r),i=0;break}}this.h=i,this.i+=t},Bp.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Kp={};function Wp(e){return-128<=e&&128>e?function(e,t){var n=Kp;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Hp([0|e],0>e?-1:0)})):new Hp([0|e],0>e?-1:0)}function Gp(e){if(isNaN(e)||!isFinite(e))return Yp;if(0>e)return ev(Gp(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Qp;return new Hp(t,0)}var Qp=4294967296,Yp=Wp(0),Xp=Wp(1),$p=Wp(16777216);function Jp(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Zp(e){return-1==e.h}function ev(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Hp(n,~e.h).add(Xp)}function tv(e,t){return e.add(ev(t))}function nv(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function rv(e,t){this.g=e,this.h=t}function iv(e,t){if(Jp(t))throw Error("division by zero");if(Jp(e))return new rv(Yp,Yp);if(Zp(e))return t=iv(ev(e),t),new rv(ev(t.g),ev(t.h));if(Zp(t))return t=iv(e,ev(t)),new rv(ev(t.g),t.h);if(30<e.g.length){if(Zp(e)||Zp(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Xp,r=t;0>=r.X(e);)n=av(n),r=av(r);var i=ov(n,1),a=ov(r,1);for(r=ov(r,2),n=ov(n,2);!Jp(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=ov(r,1),n=ov(n,1)}return t=tv(e,i.R(t)),new rv(i,t)}for(i=Yp;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Gp(n)).R(t);Zp(o)||0<o.X(e);)o=(a=Gp(n-=r)).R(t);Jp(a)&&(a=Xp),i=i.add(a),e=tv(e,o)}return new rv(i,e)}function av(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Hp(n,e.h)}function ov(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Hp(i,e.h)}(Yl=Hp.prototype).ea=function(){if(Zp(this))return-ev(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Qp+r)*t,t*=Qp}return e},Yl.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Jp(this))return"0";if(Zp(this))return"-"+ev(this).toString(e);for(var t=Gp(Math.pow(e,6)),n=this,r="";;){var i=iv(n,t).g,a=((0<(n=tv(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Jp(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Yl.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Yl.X=function(e){return Zp(e=tv(this,e))?-1:Jp(e)?0:1},Yl.abs=function(){return Zp(this)?ev(this):this},Yl.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Hp(n,-2147483648&n[n.length-1]?-1:0)},Yl.R=function(e){if(Jp(this)||Jp(e))return Yp;if(Zp(this))return Zp(e)?ev(this).R(ev(e)):ev(ev(this).R(e));if(Zp(e))return ev(this.R(ev(e)));if(0>this.X($p)&&0>e.X($p))return Gp(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,nv(n,2*r+2*i),n[2*r+2*i+1]+=a*u,nv(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,nv(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,nv(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Hp(n,0)},Yl.gb=function(e){return iv(this,e).h},Yl.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Hp(n,this.h&e.h)},Yl.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Hp(n,this.h|e.h)},Yl.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Hp(n,this.h^e.h)},Mp.prototype.createWebChannel=Mp.prototype.g,Fp.prototype.send=Fp.prototype.u,Fp.prototype.open=Fp.prototype.m,Fp.prototype.close=Fp.prototype.close,zh.NO_ERROR=0,zh.TIMEOUT=8,zh.HTTP_ERROR=6,Bh.COMPLETE="complete",Kh.EventType=Gh,Gh.OPEN="a",Gh.CLOSE="b",Gh.ERROR="c",Gh.MESSAGE="d",ah.prototype.listen=ah.prototype.O,rp.prototype.listenOnce=rp.prototype.P,rp.prototype.getLastError=rp.prototype.Sa,rp.prototype.getLastErrorCode=rp.prototype.Ia,rp.prototype.getStatus=rp.prototype.da,rp.prototype.getResponseJson=rp.prototype.Wa,rp.prototype.getResponseText=rp.prototype.ja,rp.prototype.send=rp.prototype.ha,rp.prototype.setWithCredentials=rp.prototype.Oa,Bp.prototype.digest=Bp.prototype.l,Bp.prototype.reset=Bp.prototype.reset,Bp.prototype.update=Bp.prototype.j,Hp.prototype.add=Hp.prototype.add,Hp.prototype.multiply=Hp.prototype.R,Hp.prototype.modulo=Hp.prototype.gb,Hp.prototype.compare=Hp.prototype.X,Hp.prototype.toNumber=Hp.prototype.ea,Hp.prototype.toString=Hp.prototype.toString,Hp.prototype.getBits=Hp.prototype.D,Hp.fromNumber=Gp,Hp.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ev(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Gp(Math.pow(n,8)),i=Yp,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Gp(Math.pow(n,o)),i=i.R(o).add(Gp(s))):i=(i=i.R(r)).add(Gp(s))}return i};var sv,uv,cv,lv,fv,hv,dv,pv,vv,mv,gv,yv,kv,bv,wv,_v,xv,Ev,Iv,Sv,Tv,Cv,Nv,Av,Pv,Dv,Ov,Rv,Lv,jv,Mv,Fv,Uv,Vv,zv,Bv,qv,Hv,Kv,Wv,Gv,Qv,Yv,Xv=$l.createWebChannelTransport=function(){return new Mp},$v=$l.getStatEventTarget=function(){return Rh()},Jv=$l.ErrorCode=zh,Zv=$l.EventType=Bh,em=$l.Event=Dh,tm=$l.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nm=($l.FetchXmlHttpFactory=Xd,$l.WebChannel=Kh),rm=$l.XhrIo=rp,im=$l.Md5=Bp,am=$l.Integer=Hp,om="@firebase/firestore",sm=function(){function e(t){p(this,e),this.uid=t}return y(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();sm.UNAUTHENTICATED=new sm(null),sm.GOOGLE_CREDENTIALS=new sm("google-credentials-uid"),sm.FIRST_PARTY=new sm("first-party-uid"),sm.MOCK_USER=new sm("mock-user");var um="10.4.0",cm=new Oc("@firebase/firestore");function lm(){return cm.logLevel}function fm(e){if(cm.logLevel<=Sc.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pm);cm.debug.apply(cm,["Firestore (".concat(um,"): ").concat(e)].concat(d(i)))}}function hm(e){if(cm.logLevel<=Sc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pm);cm.error.apply(cm,["Firestore (".concat(um,"): ").concat(e)].concat(d(i)))}}function dm(e){if(cm.logLevel<=Sc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pm);cm.warn.apply(cm,["Firestore (".concat(um,"): ").concat(e)].concat(d(i)))}}function pm(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function vm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(um,") INTERNAL ASSERTION FAILED: ")+e;throw hm(t),new Error(t)}function mm(e,t){e||vm()}function gm(e,t){return e}var ym={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},km=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return y(n)}(ac),bm=y((function e(){var t=this;p(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),wm=y((function e(t,n){p(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),_m=function(){function e(){p(this,e)}return y(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(sm.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),xm=function(){function e(t){p(this,e),this.token=t,this.changeListener=null}return y(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Em=function(){function e(t){p(this,e),this.t=t,this.currentUser=sm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new bm;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new bm,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){fm("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(fm("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new bm)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(fm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(mm("string"==typeof n.accessToken),new wm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return mm(null===e||"string"==typeof e),new sm(e)}}]),e}(),Im=function(){function e(t,n,r){p(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=sm.FIRST_PARTY,this.I=new Map}return y(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Sm=function(){function e(t,n,r){p(this,e),this.l=t,this.h=n,this.P=r}return y(e,[{key:"getToken",value:function(){return Promise.resolve(new Im(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(sm.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Tm=y((function e(t){p(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Cm=function(){function e(t){p(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&fm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,fm("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){fm("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):fm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(mm("string"==typeof t.token),e.R=t.token,new Tm(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Nm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Am=function(){function e(){p(this,e)}return y(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Nm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Pm(e,t){return e<t?-1:e>t?1:0}function Dm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Om(e){return e+"\0"}var Rm=function(){function e(t,n){if(p(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new km(ym.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new km(ym.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new km(ym.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new km(ym.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return y(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Pm(this.nanoseconds,e.nanoseconds):Pm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Lm=function(){function e(t){p(this,e),this.timestamp=t}return y(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Rm(0,0))}},{key:"max",value:function(){return new e(new Rm(253402300799,999999999))}}]),e}(),jm=function(){function e(t,n,r){p(this,e),void 0===n?n=0:n>t.length&&vm(),void 0===r?r=t.length-n:r>t.length-n&&vm(),this.segments=t,this.offset=n,this.len=r}return y(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Mm=function(e){b(n,e);var t=I(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new km(ym.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,d(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(jm),Fm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Um=function(e){b(n,e);var t=I(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Fm.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new km(ym.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new km(ym.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new km(ym.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new km(ym.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(jm),Vm=function(){function e(t){p(this,e),this.path=t}return y(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Mm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Mm.fromString(t))}},{key:"fromName",value:function(t){return new e(Mm.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Mm.emptyPath())}},{key:"comparator",value:function(e,t){return Mm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Mm(t.slice()))}}]),e}(),zm=y((function e(t,n,r,i){p(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Bm(e){return e.fields.find((function(e){return 2===e.kind}))}function qm(e){return e.fields.filter((function(e){return 2!==e.kind}))}zm.UNKNOWN_ID=-1;var Hm=y((function e(t,n){p(this,e),this.fieldPath=t,this.kind=n}));var Km=function(){function e(t,n){p(this,e),this.sequenceNumber=t,this.offset=n}return y(e,null,[{key:"empty",value:function(){return new e(0,Qm.min())}}]),e}();function Wm(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Lm.fromTimestamp(1e9===r?new Rm(n+1,0):new Rm(n,r));return new Qm(i,Vm.empty(),t)}function Gm(e){return new Qm(e.readTime,e.key,-1)}var Qm=function(){function e(t,n,r){p(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return y(e,null,[{key:"min",value:function(){return new e(Lm.min(),Vm.empty(),-1)}},{key:"max",value:function(){return new e(Lm.max(),Vm.empty(),-1)}}]),e}();function Ym(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Vm.comparator(e.documentKey,t.documentKey))?n:Pm(e.largestBatchId,t.largestBatchId)}var Xm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$m=function(){function e(){p(this,e),this.onCommittedListeners=[]}return y(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Jm(e){return(sv=sv||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ym.FAILED_PRECONDITION&&t.message===Xm){e.next=2;break}throw t;case 2:fm("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zm=function(){function e(t){var n=this;p(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return y(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&vm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=N(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),eg=function(){function e(t,n){var r=this;p(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new bm,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new rg(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=ug(e.target.error);r.m.reject(new rg(t,n))}}return y(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(fm("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ag(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new rg(n,t)}}}]),e}(),tg=function(e,t){function n(e,t,r){p(this,n),this.name=e,this.version=t,this.S=r,12.2===n.D(Zu())&&hm("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return y(n,[{key:"N",value:function(t){return(e=e||wc(kc().mark((function e(t){var n=this;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return fm("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new rg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new km(ym.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new km(ym.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new rg(t,n))},i.onupgradeneeded=function(e){fm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){fm("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(e,n,r,i){return(t=t||wc(kc().mark((function e(t,n,r,i){var a,o,s,u,c=this;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=kc().mark((function e(){var n,s,u,l;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=eg.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),Zm.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.g;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,fm("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if(!(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return fm("SimpleDb","Removing database:",e),og(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!ic())return!1;if(n.v())return!0;var e=Zu(),t=n.D(e),r=0<t&&t<10,i=n.F(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}},{key:"v",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),n}(),ng=function(){function e(t){p(this,e),this.q=t,this.K=!1,this.$=null}return y(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return og(this.q.delete())}}]),e}(),rg=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this,ym.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return y(n)}(km);function ig(e){return"IndexedDbTransactionError"===e.name}var ag=function(){function e(t){p(this,e),this.store=t}return y(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(fm("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(fm("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),og(n)}},{key:"add",value:function(e){return fm("SimpleDb","ADD",this.store.name,e,e),og(this.store.add(e))}},{key:"get",value:function(e){var t=this;return og(this.store.get(e)).next((function(n){return void 0===n&&(n=null),fm("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return fm("SimpleDb","DELETE",this.store.name,e),og(this.store.delete(e))}},{key:"count",value:function(){return fm("SimpleDb","COUNT",this.store.name),og(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Zm((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Zm((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){fm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new Zm((function(n,r){t.onerror=function(e){var t=ug(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new Zm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ng(i),o=t(i.primaryKey,i.value,a);if(o instanceof Zm){var s=o.catch((function(e){return a.done(),Zm.reject(e)}));n.push(s)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Zm.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function og(e){return new Zm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ug(e.target.error);n(t)}}))}var sg=!1;function ug(e){var t=tg.D(Zu());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new km("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return sg||(sg=!0,setTimeout((function(){throw r}),0)),r}}return e}var cg=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return y(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;fm("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=fm,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!ig(e.t4)){e.next=17;break}fm("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Jm(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),lg=function(e){function t(e,n){p(this,t),this.localStore=e,this.persistence=n}return y(t,[{key:"ne",value:function(){return(e=e||wc(kc().mark((function e(){var t,n=this,r=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Zm.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return fm("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return fm("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Gm(t);Ym(r,n)>0&&(n=r)})),new Qm(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),t}(),fg=function(){function e(t,n){var r=this;p(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return y(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function hg(e){return null==e}function dg(e){return 0===e&&1/e==-1/0}function pg(e){return"number"==typeof e&&Number.isInteger(e)&&!dg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function vg(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=gg(t)),t=mg(e.get(n),t);return gg(t)}function mg(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function gg(e){return e+"\x01\x01"}function yg(e){var t=e.length;if(mm(t>=2),2===t)return mm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Mm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&vm(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:vm()}a=o+2}return new Mm(r)}fg.ae=-1;var kg=["userId","batchId"];function bg(e,t){return[e,vg(t)]}function wg(e,t,n){return[e,vg(t),n]}var _g={},xg=["prefixPath","collectionGroup","readTime","documentId"],Eg=["prefixPath","collectionGroup","documentId"],Ig=["collectionGroup","readTime","prefixPath","documentId"],Sg=["canonicalId","targetId"],Tg=["targetId","path"],Cg=["path","targetId"],Ng=["collectionId","parent"],Ag=["indexId","uid"],Pg=["uid","sequenceNumber"],Dg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Og=["indexId","uid","orderedDocumentKey"],Rg=["userId","collectionPath","documentId"],Lg=["userId","collectionPath","largestBatchId"],jg=["userId","collectionGroup","largestBatchId"],Mg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Fg=[].concat(d(Mg),["documentOverlays"]),Ug=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vg=Ug,zg=[].concat(Vg,["indexConfiguration","indexState","indexEntries"]),Bg=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return y(n)}($m);function qg(e,t){var n=gm(e);return tg.O(n.ue,t)}function Hg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Kg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Gg=function(){function e(t,n){p(this,e),this.comparator=t,this.root=n||Yg.EMPTY}return y(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Yg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Qg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Qg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Qg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Qg(this.root,e,this.comparator,!0)}}]),e}(),Qg=function(){function e(t,n,r,i){p(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return y(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Yg=function(){function e(t,n,r,i,a){p(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return y(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw vm();if(this.right.isRed())throw vm();var e=this.left.check();if(e!==this.right.check())throw vm();return e+(this.isRed()?0:1)}}]),e}();Yg.EMPTY=null,Yg.RED=!0,Yg.BLACK=!1,Yg.EMPTY=new(function(){function e(){p(this,e),this.size=0}return y(e,[{key:"key",get:function(){throw vm()}},{key:"value",get:function(){throw vm()}},{key:"color",get:function(){throw vm()}},{key:"left",get:function(){throw vm()}},{key:"right",get:function(){throw vm()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Yg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Xg=function(){function e(t){p(this,e),this.comparator=t,this.data=new Gg(this.comparator)}return y(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new $g(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new $g(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),$g=function(){function e(t){p(this,e),this.iter=t}return y(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Jg(e){return e.hasNext()?e.getNext():void 0}var Zg=function(){function e(t){p(this,e),this.fields=t,t.sort(Um.comparator)}return y(e,[{key:"unionWith",value:function(t){var n,r=new Xg(Um.comparator),i=N(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=N(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=N(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Dm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),ey=function(e){b(n,e);var t=I(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return y(n)}(T(Error));var ty=function(e){function t(e){p(this,t),this.binaryString=e}return y(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Pm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ey("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ty.EMPTY_BYTE_STRING=new ty("");var ny=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ry(e){if(mm(!!e),"string"==typeof e){var t=0,n=ny.exec(e);if(mm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:iy(e.seconds),nanos:iy(e.nanos)}}function iy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ay(e){return"string"==typeof e?ty.fromBase64String(e):ty.fromUint8Array(e)}function oy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sy(e){var t=e.mapValue.fields.__previous_value__;return oy(t)?sy(t):t}function uy(e){var t=ry(e.mapValue.fields.__local_write_time__.timestampValue);return new Rm(t.seconds,t.nanos)}var cy=y((function e(t,n,r,i,a,o,s,u,c){p(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),ly=function(){function e(t,n){p(this,e),this.projectId=t,this.database=n||"(default)"}return y(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),fy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hy={nullValue:"NULL_VALUE"};function dy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oy(e)?4:Ty(e)?9007199254740991:10:vm()}function py(e,t){if(e===t)return!0;var n=dy(e);if(n!==dy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return uy(e).isEqual(uy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ry(e.timestampValue),r=ry(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ay(e.bytesValue).isEqual(ay(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return iy(e.geoPointValue.latitude)===iy(t.geoPointValue.latitude)&&iy(e.geoPointValue.longitude)===iy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return iy(e.integerValue)===iy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=iy(e.doubleValue),r=iy(t.doubleValue);return n===r?dg(n)===dg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Dm(e.arrayValue.values||[],t.arrayValue.values||[],py);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Hg(n)!==Hg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!py(n[i],r[i])))return!1;return!0}(e,t);default:return vm()}}function vy(e,t){return void 0!==(e.values||[]).find((function(e){return py(e,t)}))}function my(e,t){if(e===t)return 0;var n=dy(e),r=dy(t);if(n!==r)return Pm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=iy(e.integerValue||e.doubleValue),r=iy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return gy(e.timestampValue,t.timestampValue);case 4:return gy(uy(e),uy(t));case 5:return Pm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ay(e),r=ay(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Pm(n[i],r[i]);if(0!==a)return a}return Pm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Pm(iy(e.latitude),iy(t.latitude));return 0!==n?n:Pm(iy(e.longitude),iy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=my(n[i],r[i]);if(a)return a}return Pm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===fy.mapValue&&t===fy.mapValue)return 0;if(e===fy.mapValue)return 1;if(t===fy.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Pm(r[o],a[o]);if(0!==s)return s;var u=my(n[r[o]],i[a[o]]);if(0!==u)return u}return Pm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw vm()}}function gy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Pm(e,t);var n=ry(e),r=ry(t),i=Pm(n.seconds,r.seconds);return 0!==i?i:Pm(n.nanos,r.nanos)}function yy(e){return ky(e)}function ky(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ry(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ay(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Vm.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=N(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ky(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=N(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ky(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):vm()}function by(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function wy(e){return!!e&&"integerValue"in e}function _y(e){return!!e&&"arrayValue"in e}function xy(e){return!!e&&"nullValue"in e}function Ey(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Iy(e){return!!e&&"mapValue"in e}function Sy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Kg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Sy(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Sy(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Ty(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Cy(e){return"nullValue"in e?hy:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?by(ly.empty(),Vm.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:vm()}function Ny(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?by(ly.empty(),Vm.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?fy:vm()}function Ay(e,t){var n=my(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Py(e,t){var n=my(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Dy=function(){function e(t){p(this,e),this.value=t}return y(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Iy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sy(t)}},{key:"setAll",value:function(e){var t=this,n=Um.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Sy(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Iy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return py(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Iy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Kg(t,(function(t,n){return e[t]=n}));var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Sy(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Oy(e){var t=[];return Kg(e.fields,(function(e,n){var r=new Um([e]);if(Iy(n)){var i=Oy(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=N(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Zg(t)}var Ry=function(){function e(t,n,r,i,a,o,s){p(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return y(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Lm.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Dy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Dy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Lm.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Lm.min(),Lm.min(),Lm.min(),Dy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Lm.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Lm.min(),Lm.min(),Dy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Lm.min(),Lm.min(),Dy.empty(),2)}}]),e}(),Ly=y((function e(t,n){p(this,e),this.position=t,this.inclusive=n}));function jy(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Vm.comparator(Vm.fromName(o.referenceValue),n.key):my(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function My(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!py(e.position[n],t.position[n]))return!1;return!0}var Fy=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";p(this,e),this.field=t,this.dir=n}));function Uy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Vy=y((function e(){p(this,e)})),zy=function(e){b(n,e);var t=I(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(my(t,this.value)):null!==t&&dy(this.value)===dy(t)&&this.matchesComparison(my(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vm()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new $y(e,t,r):"array-contains"===t?new tk(e,r):"in"===t?new nk(e,r):"not-in"===t?new rk(e,r):"array-contains-any"===t?new ik(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Jy(e,n):new Zy(e,n)}}]),n}(Vy),By=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return y(n,[{key:"matches",value:function(e){return qy(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=N(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Vy);function qy(e){return"and"===e.op}function Hy(e){return"or"===e.op}function Ky(e){return Wy(e)&&qy(e)}function Wy(e){var t,n=N(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof By)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Gy(e){if(e instanceof zy)return e.field.canonicalString()+e.op.toString()+yy(e.value);if(Ky(e))return e.filters.map((function(e){return Gy(e)})).join(",");var t=e.filters.map((function(e){return Gy(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Qy(e,t){return e instanceof zy?function(e,t){return t instanceof zy&&e.op===t.op&&e.field.isEqual(t.field)&&py(e.value,t.value)}(e,t):e instanceof By?function(e,t){return t instanceof By&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Qy(n,t.filters[r])}),!0)}(e,t):void vm()}function Yy(e,t){var n=e.filters.concat(t);return By.create(n,e.op)}function Xy(e){return e instanceof zy?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(yy(e.value))}(e):e instanceof By?function(e){return e.op.toString()+" {"+e.getFilters().map(Xy).join(" ,")+"}"}(e):"Filter"}var $y=function(e){b(n,e);var t=I(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,i)).key=Vm.fromName(i.referenceValue),a}return y(n,[{key:"matches",value:function(e){var t=Vm.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(zy),Jy=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"in",r)).keys=ek("in",r),i}return y(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zy),Zy=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"not-in",r)).keys=ek("not-in",r),i}return y(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zy);function ek(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Vm.fromName(e.referenceValue)}))}var tk=function(e){b(n,e);var t=I(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return _y(t)&&vy(t.arrayValue,this.value)}}]),n}(zy),nk=function(e){b(n,e);var t=I(n);function n(e,r){return p(this,n),t.call(this,e,"in",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&vy(this.value.arrayValue,t)}}]),n}(zy),rk=function(e){b(n,e);var t=I(n);function n(e,r){return p(this,n),t.call(this,e,"not-in",r)}return y(n,[{key:"matches",value:function(e){if(vy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!vy(this.value.arrayValue,t)}}]),n}(zy),ik=function(e){b(n,e);var t=I(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains-any",r)}return y(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!_y(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return vy(t.value.arrayValue,e)}))}}]),n}(zy),ak=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;p(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.he=null}));function ok(e){return new ak(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function sk(e){var t=gm(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Gy(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),hg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return yy(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return yy(e)})).join(",")),t.he=n}return t.he}function uk(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Uy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Qy(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!My(e.startAt,t.startAt)&&My(e.endAt,t.endAt)}function ck(e){return Vm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function lk(e,t){return e.filters.filter((function(e){return e instanceof zy&&e.field.isEqual(t)}))}function fk(e,t,n){var r,i=hy,a=!0,o=N(lk(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=hy,c=!0;switch(s.op){case"<":case"<=":u=Cy(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=hy}Ay({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ay({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function hk(e,t,n){var r,i=fy,a=!0,o=N(lk(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=fy,c=!0;switch(s.op){case">=":case">":u=Ny(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=fy}Py({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Py({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var dk=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}));function pk(e,t,n,r,i,a,o,s){return new dk(e,t,n,r,i,a,o,s)}function vk(e){return new dk(e)}function mk(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function gk(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function yk(e){var t,n=N(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function kk(e){return null!==e.collectionGroup}function bk(e){var t=gm(e);if(null===t.Pe){t.Pe=[];var n=yk(t),r=gk(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new Fy(n)),t.Pe.push(new Fy(Um.keyField(),"asc"));else{var i,a=!1,o=N(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.Pe.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new Fy(Um.keyField(),u))}}}return t.Pe}function wk(e){var t=gm(e);return t.Ie||(t.Ie=_k(t,bk(e))),t.Ie}function _k(e,t){if("F"===e.limitType)return ok(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new Fy(e.field,t)}));var n=e.endAt?new Ly(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ly(e.startAt.position,e.startAt.inclusive):null;return ok(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function xk(e,t){t.getFirstInequalityField(),yk(e);var n=e.filters.concat([t]);return new dk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ek(e,t,n){return new dk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ik(e,t){return uk(wk(e),wk(t))&&e.limitType===t.limitType}function Sk(e){return"".concat(sk(wk(e)),"|lt:").concat(e.limitType)}function Tk(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Xy(e)})).join(", "),"]")),hg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return yy(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return yy(e)})).join(",")),"Target(".concat(t,")")}(wk(e)),"; limitType=").concat(e.limitType,")")}function Ck(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Vm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=N(bk(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=N(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=jy(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,bk(e),t))&&!(e.endAt&&!function(e,t,n){var r=jy(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,bk(e),t))}(e,t)}function Nk(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ak(e){return function(t,n){var r,i=!1,a=N(bk(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Pk(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Pk(e,t,n){var r=e.field.isKeyField()?Vm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?my(r,i):vm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return vm()}}var Dk=function(){function e(t,n){p(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return y(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Kg(this.inner,(function(t,n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Wg(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Ok=new Gg(Vm.comparator);function Rk(){return Ok}var Lk=new Gg(Vm.comparator);function jk(){for(var e=Lk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Mk(e){var t=Lk;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Fk(){return Vk()}function Uk(){return Vk()}function Vk(){return new Dk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var zk=new Gg(Vm.comparator),Bk=new Xg(Vm.comparator);function qk(){for(var e=Bk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Hk=new Xg(Pm);function Kk(){return Hk}function Wk(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dg(t)?"-0":t}}function Gk(e){return{integerValue:""+e}}function Qk(e,t){return pg(t)?Gk(t):Wk(e,t)}var Yk=y((function e(){p(this,e),this._=void 0}));function Xk(e,t,n){return e instanceof Zk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&oy(t)&&(t=sy(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof eb?tb(e,t):e instanceof nb?rb(e,t):function(e,t){var n=Jk(e,t),r=ab(n)+ab(e.Te);return wy(n)&&wy(e.Te)?Gk(r):Wk(e.serializer,r)}(e,t)}function $k(e,t,n){return e instanceof eb?tb(e,t):e instanceof nb?rb(e,t):n}function Jk(e,t){return e instanceof ib?function(e){return wy(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Zk=function(e){b(n,e);var t=I(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n)}(Yk),eb=function(e){b(n,e);var t=I(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return y(n)}(Yk);function tb(e,t){var n,r=ob(t),i=N(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return py(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var nb=function(e){b(n,e);var t=I(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return y(n)}(Yk);function rb(e,t){var n,r=ob(t),i=N(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!py(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ib=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return y(n)}(Yk);function ab(e){return iy(e.integerValue||e.doubleValue)}function ob(e){return _y(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var sb=y((function e(t,n){p(this,e),this.field=t,this.transform=n}));var ub=y((function e(t,n){p(this,e),this.version=t,this.transformResults=n})),cb=function(){function e(t,n){p(this,e),this.updateTime=t,this.exists=n}return y(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function lb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var fb=y((function e(){p(this,e)}));function hb(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Eb(e.key,cb.none()):new gb(e.key,e.data,cb.none());var n,r=e.data,i=Dy.empty(),a=new Xg(Um.comparator),o=N(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new yb(e.key,i,new Zg(a.toArray()),cb.none())}function db(e,t,n){e instanceof gb?function(e,t,n){var r=e.value.clone(),i=bb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof yb?function(e,t,n){if(lb(e.precondition,t)){var r=bb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(kb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function pb(e,t,n,r){return e instanceof gb?function(e,t,n,r){if(!lb(e.precondition,t))return n;var i=e.value.clone(),a=wb(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof yb?function(e,t,n,r){if(!lb(e.precondition,t))return n;var i=wb(e.fieldTransforms,r,t),a=t.data;return a.setAll(kb(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return lb(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function vb(e,t){var n,r=null,i=N(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Jk(a.transform,o||null);null!=s&&(null===r&&(r=Dy.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function mb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Dm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof eb&&t instanceof eb||e instanceof nb&&t instanceof nb?Dm(e.elements,t.elements,py):e instanceof ib&&t instanceof ib?py(e.Te,t.Te):e instanceof Zk&&t instanceof Zk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var gb=function(e){b(n,e);var t=I(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return p(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(fb),yb=function(e){b(n,e);var t=I(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return p(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return y(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(fb);function kb(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function bb(e,t,n){var r=new Map;mm(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,$k(o,s,n[i]))}return r}function wb(e,t,n){var r,i=new Map,a=N(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Xk(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var _b,xb,Eb=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(fb),Ib=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(fb),Sb=function(){function e(t,n,r,i){p(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return y(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&db(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=N(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=pb(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=N(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=pb(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Uk();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=hb(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Lm.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),qk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Dm(this.mutations,e.mutations,(function(e,t){return mb(e,t)}))&&Dm(this.baseMutations,e.baseMutations,(function(e,t){return mb(e,t)}))}}]),e}(),Tb=function(){function e(t,n,r,i){p(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return y(e,null,[{key:"from",value:function(t,n,r){mm(t.mutations.length===r.length);for(var i=zk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Cb=function(){function e(t,n){p(this,e),this.largestBatchId=t,this.mutation=n}return y(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Nb=y((function e(t,n){p(this,e),this.count=t,this.unchangedNames=n}));function Ab(e){switch(e){default:return vm();case ym.CANCELLED:case ym.UNKNOWN:case ym.DEADLINE_EXCEEDED:case ym.RESOURCE_EXHAUSTED:case ym.INTERNAL:case ym.UNAVAILABLE:case ym.UNAUTHENTICATED:return!1;case ym.INVALID_ARGUMENT:case ym.NOT_FOUND:case ym.ALREADY_EXISTS:case ym.PERMISSION_DENIED:case ym.FAILED_PRECONDITION:case ym.ABORTED:case ym.OUT_OF_RANGE:case ym.UNIMPLEMENTED:case ym.DATA_LOSS:return!0}}function Pb(e){if(void 0===e)return hm("GRPC error has no .code"),ym.UNKNOWN;switch(e){case _b.OK:return ym.OK;case _b.CANCELLED:return ym.CANCELLED;case _b.UNKNOWN:return ym.UNKNOWN;case _b.DEADLINE_EXCEEDED:return ym.DEADLINE_EXCEEDED;case _b.RESOURCE_EXHAUSTED:return ym.RESOURCE_EXHAUSTED;case _b.INTERNAL:return ym.INTERNAL;case _b.UNAVAILABLE:return ym.UNAVAILABLE;case _b.UNAUTHENTICATED:return ym.UNAUTHENTICATED;case _b.INVALID_ARGUMENT:return ym.INVALID_ARGUMENT;case _b.NOT_FOUND:return ym.NOT_FOUND;case _b.ALREADY_EXISTS:return ym.ALREADY_EXISTS;case _b.PERMISSION_DENIED:return ym.PERMISSION_DENIED;case _b.FAILED_PRECONDITION:return ym.FAILED_PRECONDITION;case _b.ABORTED:return ym.ABORTED;case _b.OUT_OF_RANGE:return ym.OUT_OF_RANGE;case _b.UNIMPLEMENTED:return ym.UNIMPLEMENTED;case _b.DATA_LOSS:return ym.DATA_LOSS;default:return vm()}}(xb=_b||(_b={}))[xb.OK=0]="OK",xb[xb.CANCELLED=1]="CANCELLED",xb[xb.UNKNOWN=2]="UNKNOWN",xb[xb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xb[xb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xb[xb.NOT_FOUND=5]="NOT_FOUND",xb[xb.ALREADY_EXISTS=6]="ALREADY_EXISTS",xb[xb.PERMISSION_DENIED=7]="PERMISSION_DENIED",xb[xb.UNAUTHENTICATED=16]="UNAUTHENTICATED",xb[xb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xb[xb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xb[xb.ABORTED=10]="ABORTED",xb[xb.OUT_OF_RANGE=11]="OUT_OF_RANGE",xb[xb.UNIMPLEMENTED=12]="UNIMPLEMENTED",xb[xb.INTERNAL=13]="INTERNAL",xb[xb.UNAVAILABLE=14]="UNAVAILABLE",xb[xb.DATA_LOSS=15]="DATA_LOSS";var Db=null;function Ob(){return new TextEncoder}var Rb=new am([4294967295,4294967295],0);function Lb(e){var t=Ob().encode(e),n=new im;return n.update(t),new Uint8Array(n.digest())}function jb(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new am([n,r],0),new am([i,a],0)]}var Mb=function(){function e(t,n,r){if(p(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fb("Invalid padding: ".concat(n));if(r<0)throw new Fb("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Fb("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Fb("Invalid padding when bitmap length is 0: ".concat(n));this.Ae=8*t.length-n,this.Re=am.fromNumber(this.Ae)}return y(e,[{key:"Ve",value:function(e,t,n){var r=e.add(t.multiply(am.fromNumber(n)));return 1===r.compare(Rb)&&(r=new am([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Re).toNumber()}},{key:"me",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ae)return!1;for(var t=f(jb(Lb(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);if(!this.me(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ae)for(var t=f(jb(Lb(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);this.fe(a)}}},{key:"fe",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Fb=function(e){b(n,e);var t=I(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return y(n)}(T(Error)),Ub=function(){function e(t,n,r,i,a){p(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return y(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Vb.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Lm.min(),i,new Gg(Pm),Rk(),qk())}}]),e}(),Vb=function(){function e(t,n,r,i,a){p(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return y(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,qk(),qk(),qk())}}]),e}(),zb=y((function e(t,n,r,i){p(this,e),this.ge=t,this.removedTargetIds=n,this.key=r,this.pe=i})),Bb=y((function e(t,n){p(this,e),this.targetId=t,this.ye=n})),qb=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ty.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Hb=function(){function e(){p(this,e),this.we=0,this.Se=Gb(),this.be=ty.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}return y(e,[{key:"current",get:function(){return this.De}},{key:"resumeToken",get:function(){return this.be}},{key:"ve",get:function(){return 0!==this.we}},{key:"Fe",get:function(){return this.Ce}},{key:"Me",value:function(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}},{key:"xe",value:function(){var e=qk(),t=qk(),n=qk();return this.Se.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:vm()}})),new Vb(this.be,this.De,e,t,n)}},{key:"Oe",value:function(){this.Ce=!1,this.Se=Gb()}},{key:"Ne",value:function(e,t){this.Ce=!0,this.Se=this.Se.insert(e,t)}},{key:"Be",value:function(e){this.Ce=!0,this.Se=this.Se.remove(e)}},{key:"Le",value:function(){this.we+=1}},{key:"ke",value:function(){this.we-=1}},{key:"qe",value:function(){this.Ce=!0,this.De=!0}}]),e}(),Kb=function(){function e(t){p(this,e),this.Qe=t,this.Ke=new Map,this.$e=Rk(),this.Ue=Wb(),this.We=new Gg(Pm)}return y(e,[{key:"Ge",value:function(e){var t,n=N(e.ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.pe&&e.pe.isFoundDocument()?this.ze(r,e.pe):this.je(r,e.key,e.pe)}}catch(s){n.e(s)}finally{n.f()}var i,a=N(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.je(o,e.key,e.pe)}}catch(s){a.e(s)}finally{a.f()}}},{key:"He",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Je(n);switch(e.state){case 0:t.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||t.removeTarget(n);break;case 3:t.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:t.Ye(n)&&(t.Ze(n),r.Me(e.resumeToken));break;default:vm()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((function(e,r){n.Ye(r)&&t(r)}))}},{key:"Xe",value:function(e){var t=e.targetId,n=e.ye.count,r=this.et(t);if(r){var i=r.target;if(ck(i))if(0===n){var a=new Vm(i.path);this.je(t,a,Ry.newNoDocument(a,Lm.min()))}else mm(1===n);else{var o=this.tt(t);if(o!==n){var s=this.nt(e),u=s?this.rt(s,e,o):1;if(0!==u){this.Ze(t);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(t,c)}null==Db||Db.it(function(e,t,n,r,i){var a,o,s,u,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(u=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.ye,this.Qe.st(),s,u))}}}}},{key:"nt",value:function(e){var t=e.ye.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,s=i.padding,u=void 0===s?0:s,c=t.hashCount,l=void 0===c?0:c;try{n=ay(o).toUint8Array()}catch(e){if(e instanceof ey)return dm("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new Mb(n,u,l)}catch(e){return dm(e instanceof Fb?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ae?null:r}},{key:"rt",value:function(e,t,n){return t.ye.count===n-this.ot(e,t.targetId)?0:2}},{key:"ot",value:function(e,t){var n=this,r=this.Qe.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Qe.st(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.je(t,r,null),i++)})),i}},{key:"_t",value:function(e){var t=this,n=new Map;this.Ke.forEach((function(r,i){var a=t.et(i);if(a){if(r.current&&ck(a.target)){var o=new Vm(a.target.path);null!==t.$e.get(o)||t.ut(i,o)||t.je(i,o,Ry.newNoDocument(o,e))}r.Fe&&(n.set(i,r.xe()),r.Oe())}}));var r=qk();this.Ue.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.et(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$e.forEach((function(t,n){return n.setReadTime(e)}));var i=new Ub(e,n,this.We,this.$e,r);return this.$e=Rk(),this.Ue=Wb(),this.We=new Gg(Pm),i}},{key:"ze",value:function(e,t){if(this.Ye(e)){var n=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,n),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}}},{key:"je",value:function(e,t,n){if(this.Ye(e)){var r=this.Je(e);this.ut(e,t)?r.Ne(t,1):r.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),n&&(this.$e=this.$e.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ke.delete(e)}},{key:"tt",value:function(e){var t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Le",value:function(e){this.Je(e).Le()}},{key:"Je",value:function(e){var t=this.Ke.get(e);return t||(t=new Hb,this.Ke.set(e,t)),t}},{key:"ct",value:function(e){var t=this.Ue.get(e);return t||(t=new Xg(Pm),this.Ue=this.Ue.insert(e,t)),t}},{key:"Ye",value:function(e){var t=null!==this.et(e);return t||fm("WatchChangeAggregator","Detected inactive target",e),t}},{key:"et",value:function(e){var t=this.Ke.get(e);return t&&t.ve?null:this.Qe.lt(e)}},{key:"Ze",value:function(e){var t=this;this.Ke.set(e,new Hb),this.Qe.getRemoteKeysForTarget(e).forEach((function(n){t.je(e,n,null)}))}},{key:"ut",value:function(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function Wb(){return new Gg(Vm.comparator)}function Gb(){return new Gg(Vm.comparator)}var Qb={asc:"ASCENDING",desc:"DESCENDING"},Yb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xb={and:"AND",or:"OR"},$b=y((function e(t,n){p(this,e),this.databaseId=t,this.useProto3Json=n}));function Jb(e,t){return e.useProto3Json||hg(t)?t:{value:t}}function Zb(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ew(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function tw(e,t){return Zb(e,t.toTimestamp())}function nw(e){return mm(!!e),Lm.fromTimestamp(function(e){var t=ry(e);return new Rm(t.seconds,t.nanos)}(e))}function rw(e,t){return function(e){return new Mm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function iw(e){var t=Mm.fromString(e);return mm(Tw(t)),t}function aw(e,t){return rw(e.databaseId,t.path)}function ow(e,t){var n=iw(t);if(n.get(1)!==e.databaseId.projectId)throw new km(ym.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new km(ym.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Vm(lw(n))}function sw(e,t){return rw(e.databaseId,t)}function uw(e){var t=iw(e);return 4===t.length?Mm.emptyPath():lw(t)}function cw(e){return new Mm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function lw(e){return mm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function fw(e,t,n){return{name:aw(e,t),fields:n.value.mapValue.fields}}function hw(e,t,n){var r=ow(e,t.name),i=nw(t.updateTime),a=t.createTime?nw(t.createTime):Lm.min(),o=new Dy({mapValue:{fields:t.fields}}),s=Ry.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function dw(e,t){return"found"in t?function(e,t){mm(!!t.found),t.found.name,t.found.updateTime;var n=ow(e,t.found.name),r=nw(t.found.updateTime),i=t.found.createTime?nw(t.found.createTime):Lm.min(),a=new Dy({mapValue:{fields:t.found.fields}});return Ry.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){mm(!!t.missing),mm(!!t.readTime);var n=ow(e,t.missing),r=nw(t.readTime);return Ry.newNoDocument(n,r)}(e,t):vm()}function pw(e,t){var n;if(t instanceof gb)n={update:fw(e,t.key,t.value)};else if(t instanceof Eb)n={delete:aw(e,t.key)};else if(t instanceof yb)n={update:fw(e,t.key,t.data),updateMask:Sw(t.fieldMask)};else{if(!(t instanceof Ib))return vm();n={verify:aw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Zk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof eb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ib)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw vm()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:tw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:vm()}(e,t.precondition)),n}function vw(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?cb.updateTime(nw(e.updateTime)):void 0!==e.exists?cb.exists(e.exists):cb.none()}(t.currentDocument):cb.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)mm("REQUEST_TIME"===t.setToServerValue),n=new Zk;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new eb(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new nb(i)}else"increment"in t?n=new ib(e,t.increment):vm();var a=Um.fromServerFormat(t.fieldPath);return new sb(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=ow(e,t.update.name),a=new Dy({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Zg(t.map((function(e){return Um.fromServerFormat(e)})))}(t.updateMask);return new yb(i,a,o,n,r)}return new gb(i,a,n,r)}if(t.delete){var s=ow(e,t.delete);return new Eb(s,n)}if(t.verify){var u=ow(e,t.verify);return new Ib(u,n)}return vm()}function mw(e,t){return{documents:[sw(e,t.path)]}}function gw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=sw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=sw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Iw(By.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:xw(e.field),direction:bw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=Jb(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function yw(e){var t=uw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){mm(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=kw(e);return t instanceof By&&Ky(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new Fy(Ew(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return hg(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Ly(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Ly(n,t)}(n.endAt)),pk(t,i,s,o,u,"F",c,l)}function kw(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ew(e.unaryFilter.field);return zy.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ew(e.unaryFilter.field);return zy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ew(e.unaryFilter.field);return zy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ew(e.unaryFilter.field);return zy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return vm()}}(e):void 0!==e.fieldFilter?function(e){return zy.create(Ew(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vm()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return By.create(e.compositeFilter.filters.map((function(e){return kw(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return vm()}}(e.compositeFilter.op))}(e):vm()}function bw(e){return Qb[e]}function ww(e){return Yb[e]}function _w(e){return Xb[e]}function xw(e){return{fieldPath:e.canonicalString()}}function Ew(e){return Um.fromServerFormat(e.fieldPath)}function Iw(e){return e instanceof zy?function(e){if("=="===e.op){if(Ey(e.value))return{unaryFilter:{field:xw(e.field),op:"IS_NAN"}};if(xy(e.value))return{unaryFilter:{field:xw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ey(e.value))return{unaryFilter:{field:xw(e.field),op:"IS_NOT_NAN"}};if(xy(e.value))return{unaryFilter:{field:xw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xw(e.field),op:ww(e.op),value:e.value}}}(e):e instanceof By?function(e){var t=e.getFilters().map((function(e){return Iw(e)}));return 1===t.length?t[0]:{compositeFilter:{op:_w(e.op),filters:t}}}(e):vm()}function Sw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Tw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Cw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lm.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Lm.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ty.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return y(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Nw=y((function e(t){p(this,e),this.ht=t}));function Aw(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Pw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:aw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Zb(e,t.version.toTimestamp()),createTime:Zb(e,t.createTime.toTimestamp())}}(e.ht,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Dw(t.version)};else{if(!t.isUnknownDocument())return vm();r.unknownDocument={path:n.path.toArray(),version:Dw(t.version)}}return r}function Pw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Dw(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ow(e){var t=new Rm(e.seconds,e.nanoseconds);return Lm.fromTimestamp(t)}function Rw(e,t){for(var n=(t.baseMutations||[]).map((function(t){return vw(e.ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return vw(e.ht,t)})),s=Rm.fromMillis(t.localWriteTimeMs);return new Sb(t.batchId,s,n,o)}function Lw(e){var t,n=Ow(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?Ow(e.lastLimboFreeSnapshotVersion):Lm.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return mm(1===e.documents.length),wk(vk(uw(e.documents[0])))}(e.query):function(e){return wk(yw(e))}(e.query),new Cw(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,ty.fromBase64String(e.resumeToken))}function jw(e,t){var n,r=Dw(t.snapshotVersion),i=Dw(t.lastLimboFreeSnapshotVersion);n=ck(t.target)?mw(e.ht,t.target):gw(e.ht,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:sk(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Mw(e){var t=yw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ek(t,t.limit,"L"):t}function Fw(e,t){return new Cb(t.largestBatchId,vw(e.ht,t.overlayMutation))}function Uw(e,t){var n=t.path.lastSegment();return[e,vg(t.path.popLast()),n]}function Vw(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Dw(r.readTime),documentKey:vg(r.documentKey.path),largestBatchId:r.largestBatchId}}var zw=function(){function e(){p(this,e)}return y(e,[{key:"getBundleMetadata",value:function(e,t){return Bw(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:Ow(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return Bw(e).put(function(e){return{bundleId:e.id,createTime:Dw(nw(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return qw(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:Mw(e.bundledQuery),readTime:Ow(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return qw(e).put(function(e){return{name:e.name,readTime:Dw(nw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Bw(e){return qg(e,"bundles")}function qw(e){return qg(e,"namedQueries")}var Hw=function(){function e(t,n){p(this,e),this.serializer=t,this.userId=n}return y(e,[{key:"getOverlay",value:function(e,t){var n=this;return Kw(e).get(Uw(this.userId,t)).next((function(e){return e?Fw(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Fk();return Zm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Cb(t,a);i.push(r.It(e,o))})),Zm.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(vg(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Kw(e).J("collectionPathOverlayIndex",i))})),Zm.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Fk(),a=vg(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Kw(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Fw(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Fk(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Kw(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=Fw(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"It",value:function(e,t){return Kw(e).put(function(e,t,n){var r=f(Uw(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:pw(e.ht,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"Pt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Kw(e){return qg(e,"documentOverlays")}var Ww=function(){function e(){p(this,e)}return y(e,[{key:"dt",value:function(e,t){this.Tt(e,t),t.Et()}},{key:"Tt",value:function(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(iy(e.integerValue));else if("doubleValue"in e){var n=iy(e.doubleValue);isNaN(n)?this.At(t,13):(this.At(t,15),dg(n)?t.Rt(0):t.Rt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt("".concat(r.seconds||"")),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(ay(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.At(t,45),t.Rt(i.latitude||0),t.Rt(i.longitude||0)}else"mapValue"in e?Ty(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):vm()}},{key:"ft",value:function(e,t){this.At(t,25),this.Dt(e,t)}},{key:"Dt",value:function(e,t){t.Vt(e)}},{key:"St",value:function(e,t){var n=e.fields||{};this.At(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ft(a,t),this.Tt(n[a],t)}}},{key:"bt",value:function(e,t){var n=e.values||[];this.At(t,50);var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Tt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"wt",value:function(e,t){var n=this;this.At(t,37),Vm.fromName(e).path.forEach((function(e){n.At(t,60),n.Dt(e,t)}))}},{key:"At",value:function(e,t){e.Rt(t)}},{key:"gt",value:function(e){e.Rt(2)}}]),e}();function Gw(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Qw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Gw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ww.Ct=new Ww;var Yw=function(){function e(){p(this,e),this.buffer=new Uint8Array(1024),this.position=0}return y(e,[{key:"vt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ft(n.value),n=t.next();this.Mt()}},{key:"xt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ot(n.value),n=t.next();this.Nt()}},{key:"Bt",value:function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{var a=r.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Mt()}},{key:"Lt",value:function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{var a=r.codePointAt(0);this.Ot(240|a>>>18),this.Ot(128|63&a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Nt()}},{key:"kt",value:function(e){var t=this.qt(e),n=Qw(t);this.Qt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Kt",value:function(e){var t=this.qt(e),n=Qw(t);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"Wt",value:function(){this.Gt(255),this.Gt(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"zt",value:function(){return this.buffer.slice(0,this.position)}},{key:"qt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ft",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}},{key:"Ot",value:function(e){var t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}},{key:"Mt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Nt",value:function(){this.Gt(0),this.Gt(1)}},{key:"Ut",value:function(e){this.Qt(1),this.buffer[this.position++]=e}},{key:"Gt",value:function(e){this.Qt(1),this.buffer[this.position++]=~e}},{key:"Qt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Xw=function(){function e(t){p(this,e),this.jt=t}return y(e,[{key:"yt",value:function(e){this.jt.vt(e)}},{key:"Vt",value:function(e){this.jt.Bt(e)}},{key:"Rt",value:function(e){this.jt.kt(e)}},{key:"Et",value:function(){this.jt.$t()}}]),e}(),$w=function(){function e(t){p(this,e),this.jt=t}return y(e,[{key:"yt",value:function(e){this.jt.xt(e)}},{key:"Vt",value:function(e){this.jt.Lt(e)}},{key:"Rt",value:function(e){this.jt.Kt(e)}},{key:"Et",value:function(){this.jt.Wt()}}]),e}(),Jw=function(){function e(){p(this,e),this.jt=new Yw,this.Ht=new Xw(this.jt),this.Jt=new $w(this.jt)}return y(e,[{key:"seed",value:function(e){this.jt.seed(e)}},{key:"Yt",value:function(e){return 0===e?this.Ht:this.Jt}},{key:"zt",value:function(){return this.jt.zt()}},{key:"reset",value:function(){this.jt.reset()}}]),e}(),Zw=function(){function e(t,n,r,i){p(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return y(e,[{key:"Zt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function e_(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=t_(e.arrayValue,t.arrayValue))?n:0!==(n=t_(e.directionalValue,t.directionalValue))?n:Vm.comparator(e.documentKey,t.documentKey)}function t_(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var n_=function(){function e(t){p(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Xt=t.orderBy,this.en=[];var n,r=N(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.tn=i:this.en.push(i)}}catch(a){r.e(a)}finally{r.f()}}return y(e,[{key:"nn",value:function(e){mm(e.collectionGroup===this.collectionId);var t=Bm(e);if(void 0!==t&&!this.rn(t))return!1;for(var n=qm(e),r=new Set,i=0,a=0;i<n.length&&this.rn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.tn){if(!r.has(this.tn.field.canonicalString())){var o=n[i];if(!this.sn(this.tn,o)||!this.on(this.Xt[a++],o))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Xt.length||!this.on(this.Xt[a++],s))return!1}return!0}},{key:"_n",value:function(){var e,t=new Xg(Um.comparator),n=[],r=N(this.en);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)n.push(new Hm(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new Hm(i.field,0))}}}catch(u){r.e(u)}finally{r.f()}var a,o=N(this.Xt);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),n.push(new Hm(s.field,"asc"===s.dir?0:1)))}}catch(u){o.e(u)}finally{o.f()}return new zm(zm.UNKNOWN_ID,this.collectionId,n,Km.empty())}},{key:"rn",value:function(e){var t,n=N(this.en);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.sn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"sn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"on",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function r_(e){var t,n;if(mm(e instanceof zy||e instanceof By),e instanceof zy){if(e instanceof nk){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return zy.create(e.field,"==",t)})))||[];return By.create(r,"or")}return e}var i=e.filters.map((function(e){return r_(e)}));return By.create(i,e.op)}function i_(e){if(0===e.getFilters().length)return[];var t=u_(r_(e));return mm(s_(t)),a_(t)||o_(t)?[t]:t.getFilters()}function a_(e){return e instanceof zy}function o_(e){return e instanceof By&&Ky(e)}function s_(e){return a_(e)||o_(e)||function(e){if(e instanceof By&&Hy(e)){var t,n=N(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!a_(r)&&!o_(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function u_(e){if(mm(e instanceof zy||e instanceof By),e instanceof zy)return e;if(1===e.filters.length)return u_(e.filters[0]);var t=e.filters.map((function(e){return u_(e)})),n=By.create(t,e.op);return s_(n=f_(n))?n:(mm(n instanceof By),mm(qy(n)),mm(n.filters.length>1),n.filters.reduce((function(e,t){return c_(e,t)})))}function c_(e,t){var n;return mm(e instanceof zy||e instanceof By),mm(t instanceof zy||t instanceof By),n=e instanceof zy?t instanceof zy?function(e,t){return By.create([e,t],"and")}(e,t):l_(e,t):t instanceof zy?l_(t,e):function(e,t){if(mm(e.filters.length>0&&t.filters.length>0),qy(e)&&qy(t))return Yy(e,t.getFilters());var n=Hy(e)?e:t,r=Hy(e)?t:e,i=n.filters.map((function(e){return c_(e,r)}));return By.create(i,"or")}(e,t),f_(n)}function l_(e,t){if(qy(t))return Yy(t,e.getFilters());var n=t.filters.map((function(t){return c_(e,t)}));return By.create(n,"or")}function f_(e){if(mm(e instanceof zy||e instanceof By),e instanceof zy)return e;var t=e.getFilters();if(1===t.length)return f_(t[0]);if(Wy(e))return e;var n=t.map((function(e){return f_(e)})),r=[];return n.forEach((function(t){t instanceof zy?r.push(t):t instanceof By&&(t.op===e.op?r.push.apply(r,d(t.filters)):r.push(t))})),1===r.length?r[0]:By.create(r,e.op)}var h_=function(){function e(){p(this,e),this.an=new d_}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.an.add(t),Zm.resolve()}},{key:"getCollectionParents",value:function(e,t){return Zm.resolve(this.an.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Zm.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Zm.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return Zm.resolve()}},{key:"createTargetIndexes",value:function(e,t){return Zm.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Zm.resolve(null)}},{key:"getIndexType",value:function(e,t){return Zm.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Zm.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Zm.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Zm.resolve(Qm.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Zm.resolve(Qm.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Zm.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Zm.resolve()}}]),e}(),d_=function(){function e(){p(this,e),this.index={}}return y(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Xg(Mm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Xg(Mm.comparator)).toArray()}}]),e}(),p_=new Uint8Array(0),v_=function(){function e(t,n){p(this,e),this.user=t,this.databaseId=n,this.un=new d_,this.cn=new Dk((function(e){return sk(e)}),(function(e,t){return uk(e,t)})),this.uid=t.uid||""}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.un.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.un.add(t)}));var a={collectionId:r,parent:vg(i)};return m_(e).put(a)}return Zm.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Om(t),""],!1,!0);return m_(e).G(r).next((function(e){var r,i=N(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(yg(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=y_(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=k_(e);return a.next((function(e){o.put(Vw(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=y_(e),r=k_(e),i=g_(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"deleteAllFieldIndexes",value:function(e){var t=y_(e),n=g_(e),r=k_(e);return t.J().next((function(){return n.J()})).next((function(){return r.J()}))}},{key:"createTargetIndexes",value:function(e,t){var n=this;return Zm.forEach(this.ln(t),(function(t){return n.getIndexType(e,t).next((function(r){if(0===r||1===r){var i=new n_(t);return n.addFieldIndex(e,i._n())}}))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=g_(e),i=!0,a=new Map;return Zm.forEach(this.ln(t),(function(t){return n.hn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=qk(),o=[];return Zm.forEach(a,(function(i,a){fm("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(sk(t)));var s=function(e,t){var n=Bm(t);if(void 0===n)return null;var r,i=N(lk(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),u=function(e,t){var n,r=new Map,i=N(qm(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=N(lk(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=N(qm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?fk(e,o.fieldPath,e.startAt):hk(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Ly(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=N(qm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?hk(e,o.fieldPath,e.endAt):fk(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Ly(r,i)}(a,i),f=n.Pn(i,a,c),h=n.Pn(i,a,l),d=n.In(i,a,u),p=n.dn(i.indexId,s,f,c.inclusive,h,l.inclusive,d);return Zm.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Vm.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Zm.resolve(null)}))}},{key:"ln",value:function(e){var t=this.cn.get(e);return t||(t=0===e.filters.length?[e]:i_(By.create(e.filters,"and")).map((function(t){return ok(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.cn.set(e,t),t)}},{key:"dn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.Tn(t[h/c]):p_,f=s.En(e,u,n[h%c],r),p=s.An(e,u,i[h%c],a),v=o.map((function(t){return s.En(e,u,t,!0)}));l.push.apply(l,d(s.createRange(f,p,v)))},h=0;h<u;++h)f();return l}},{key:"En",value:function(e,t,n,r){var i=new Zw(e,Vm.empty(),t,n);return r?i:i.Zt()}},{key:"An",value:function(e,t,n,r){var i=new Zw(e,Vm.empty(),t,n);return r?i.Zt():i}},{key:"hn",value:function(e,t){var n=new n_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=N(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.nn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.ln(t);return Zm.forEach(i,(function(t){return n.hn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Xg(Um.comparator),r=!1,i=N(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=N(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=N(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"Rn",value:function(e,t){var n,r=new Jw,i=N(qm(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Yt(a.kind);Ww.Ct.dt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.zt()}},{key:"Tn",value:function(e){var t=new Jw;return Ww.Ct.dt(e,t.Yt(0)),t.zt()}},{key:"Vn",value:function(e,t){var n=new Jw;return Ww.Ct.dt(by(this.databaseId,t),n.Yt(function(e){var t=qm(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.zt()}},{key:"In",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Jw);var i,a=0,o=N(qm(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=N(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.mn(t,u.fieldPath)&&_y(c))r=this.fn(r,u,c);else{var h=f.Yt(u.kind);Ww.Ct.dt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.gn(r)}},{key:"Pn",value:function(e,t,n){return this.In(e,t,n.position)}},{key:"gn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].zt();return t}},{key:"fn",value:function(e,t,n){var r,i=d(e),a=[],o=N(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=N(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new Jw;f.seed(l.zt()),Ww.Ct.dt(u,f.Yt(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"mn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof zy&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=y_(e),i=k_(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return Zm.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Km(t.sequenceNumber,new Qm(Ow(t.readTime),new Vm(yg(t.documentKey)),t.largestBatchId)):Km.empty(),r=e.fields.map((function(e){var t=f(e,2),n=t[0],r=t[1];return new Hm(Um.fromServerFormat(n),r)}));return new zm(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Pm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=y_(e),a=k_(e);return this.pn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Zm.forEach(t,(function(t){return a.put(Vw(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Zm.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Zm.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Zm.forEach(a,(function(r){return n.yn(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?Zm.resolve():n.Sn(e,i,r,t,a)}))}))}))}))}},{key:"bn",value:function(e,t,n,r){return g_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Vn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Dn",value:function(e,t,n,r){return g_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Vn(n,t.key),t.key.path.toArray()])}},{key:"yn",value:function(e,t,n){var r=g_(e),i=new Xg(e_);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Vn(n,t)])},(function(e,r){i=i.add(new Zw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new Xg(e_),r=this.Rn(t,e);if(null==r)return n;var i=Bm(t);if(null!=i){var a=e.data.field(i.fieldPath);if(_y(a)){var o,s=N(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Zw(t.indexId,e.key,this.Tn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Zw(t.indexId,e.key,p_,r));return n}},{key:"Sn",value:function(e,t,n,r,i){var a=this;fm("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=Jg(a),u=Jg(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=Jg(o)):l?(i(s),s=Jg(a)):(s=Jg(a),u=Jg(o))}}(r,i,e_,(function(r){o.push(a.bn(e,t,n,r))}),(function(r){o.push(a.Dn(e,t,n,r))})),Zm.waitFor(o)}},{key:"pn",value:function(e){var t=1;return k_(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return e_(e,t)})).filter((function(e,t,n){return!t||0!==e_(e,n[t-1])}));var r=[];r.push(e);var i,a=N(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=e_(o,e),u=e_(o,t);if(0===s)r[0]=e.Zt();else if(s>0&&u<0)r.push(o),r.push(o.Zt());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Cn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,p_,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,p_,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Cn",value:function(e,t){return e_(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(b_)}},{key:"getMinOffset",value:function(e,t){var n=this;return Zm.mapArray(this.ln(t),(function(t){return n.hn(e,t).next((function(e){return e||vm()}))})).next(b_)}}]),e}();function m_(e){return qg(e,"collectionParents")}function g_(e){return qg(e,"indexEntries")}function y_(e){return qg(e,"indexConfiguration")}function k_(e){return qg(e,"indexState")}function b_(e){mm(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Ym(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Qm(t.readTime,t.documentKey,n)}var w_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},__=function(){function e(t,n,r){p(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return y(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function x_(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){mm(1===s)})));var c,l=[],f=N(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=wg(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Zm.waitFor(a).next((function(){return l}))}function E_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw vm();t=e.noDocument}return JSON.stringify(t).length}__.DEFAULT_COLLECTION_PERCENTILE=10,__.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,__.DEFAULT=new __(41943040,__.DEFAULT_COLLECTION_PERCENTILE,__.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),__.DISABLED=new __(-1,0,0);var I_=function(){function e(t,n,r,i){p(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.vn={}}return y(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return T_(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=C_(e),o=T_(e);return o.add({}).next((function(s){mm("number"==typeof s);var u,c=new Sb(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return pw(e.ht,t)})),i=n.mutations.map((function(t){return pw(e.ht,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Xg((function(e,t){return Pm(e.canonicalString(),t.canonicalString())})),d=N(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=wg(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,_g))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.vn[s]=c.keys()})),Zm.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return T_(e).get(t).next((function(e){return e?(mm(e.userId===n.userId),Rw(n.serializer,e)):null}))}},{key:"Fn",value:function(e,t){var n=this;return this.vn[t]?Zm.resolve(this.vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return T_(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(mm(t.batchId>=r),a=Rw(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return T_(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return T_(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return Rw(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=bg(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return C_(e).Z({range:i},(function(r,i,o){var s=f(r,3),u=s[0],c=s[1],l=s[2],h=yg(c);if(u===n.userId&&t.path.isEqual(h))return T_(e).get(l).next((function(e){if(!e)throw vm();mm(e.userId===n.userId),a.push(Rw(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Xg(Pm),i=[];return t.forEach((function(t){var a=bg(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=C_(e).Z({range:o},(function(e,i,a){var o=f(e,3),s=o[0],u=o[1],c=o[2],l=yg(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),Zm.waitFor(i).next((function(){return n.Mn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=bg(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Xg(Pm);return C_(e).Z({range:o},(function(e,t,a){var o=f(e,3),u=o[0],c=o[1],l=o[2],h=yg(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.Mn(e,s)}))}},{key:"Mn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(T_(e).get(t).next((function(e){if(null===e)throw vm();mm(e.userId===n.userId),r.push(Rw(n.serializer,e))})))})),Zm.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return x_(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.xn(t.batchId)})),Zm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"xn",value:function(e){delete this.vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Zm.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return C_(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=yg(e[1]);i.push(a)}else r.done()})).next((function(){mm(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return S_(e,this.userId,t)}},{key:"On",value:function(e){var t=this;return N_(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Pt",value:function(t,n,r,i){return mm(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function S_(e,t,n){var r=bg(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return C_(e).Z({range:a,Y:!0},(function(e,n,r){var a=f(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function T_(e){return qg(e,"mutations")}function C_(e){return qg(e,"documentMutations")}function N_(e){return qg(e,"mutationQueues")}var A_=function(){function e(t){p(this,e),this.Nn=t}return y(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"Bn",value:function(){return new e(0)}},{key:"Ln",value:function(){return new e(-1)}}]),e}(),P_=function(){function e(t,n){p(this,e),this.referenceDelegate=t,this.serializer=n}return y(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.kn(e).next((function(n){var r=new A_(n.highestTargetId);return n.highestTargetId=r.next(),t.qn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.kn(e).next((function(e){return Lm.fromTimestamp(new Rm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.kn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.kn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.qn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Qn(e,t).next((function(){return n.kn(e).next((function(r){return r.targetCount+=1,n.Kn(t,r),n.qn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Qn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return D_(e).delete(t.targetId)})).next((function(){return n.kn(e)})).next((function(t){return mm(t.targetCount>0),t.targetCount-=1,n.qn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return D_(e).Z((function(o,s){var u=Lw(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Zm.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return D_(e).Z((function(e,n){var r=Lw(n);t(r)}))}},{key:"kn",value:function(e){return O_(e).get("targetGlobalKey").next((function(e){return mm(null!==e),e}))}},{key:"qn",value:function(e,t){return O_(e).put("targetGlobalKey",t)}},{key:"Qn",value:function(e,t){return D_(e).put(jw(this.serializer,t))}},{key:"Kn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.kn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=sk(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return D_(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Lw(n);uk(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=R_(e);return t.forEach((function(t){var o=vg(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Zm.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=R_(e);return Zm.forEach(t,(function(t){var a=vg(t.path);return Zm.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=R_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=R_(e),i=qk();return r.Z({range:n,Y:!0},(function(e,t,n){var r=yg(e[1]),a=new Vm(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=vg(t.path),r=IDBKeyRange.bound([n],[Om(n)],!1,!0),i=0;return R_(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=f(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"lt",value:function(e,t){return D_(e).get(t).next((function(e){return e?Lw(e):null}))}}]),e}();function D_(e){return qg(e,"targets")}function O_(e){return qg(e,"targetGlobal")}function R_(e){return qg(e,"targetDocuments")}function L_(e,t){var n=f(e,2),r=n[0],i=n[1],a=f(t,2),o=a[0],s=a[1],u=Pm(r,o);return 0===u?Pm(i,s):u}var j_=function(){function e(t){p(this,e),this.$n=t,this.buffer=new Xg(L_),this.Un=0}return y(e,[{key:"Wn",value:function(){return++this.Un}},{key:"Gn",value:function(e){var t=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();L_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),M_=function(){function e(t,n,r){p(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.zn=null}return y(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.jn(6e4)}},{key:"stop",value:function(){this.zn&&(this.zn.cancel(),this.zn=null)}},{key:"started",get:function(){return null!==this.zn}},{key:"jn",value:function(e){var t=this;fm("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.zn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!ig(e.t0)){e.next=12;break}fm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Jm(e.t0);case 14:return e.next=16,t.jn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),F_=function(){function e(t,n){p(this,e),this.Hn=t,this.params=n}return y(e,[{key:"calculateTargetCount",value:function(e,t){return this.Hn.Jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Zm.resolve(fg.ae);var r=new j_(t);return this.Hn.forEachTarget(e,(function(e){return r.Gn(e.sequenceNumber)})).next((function(){return n.Hn.Yn(e,(function(e){return r.Gn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Hn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Hn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(fm("LruGarbageCollector","Garbage collection skipped; disabled"),Zm.resolve(w_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(fm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),w_):n.Zn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Hn.getCacheSize(e)}},{key:"Zn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(fm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),lm()<=Sc.DEBUG&&fm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Zm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function U_(e,t){return new F_(e,t)}var V_=function(){function e(t,n){p(this,e),this.db=t,this.garbageCollector=U_(this,n)}return y(e,[{key:"Jn",value:function(e){var t=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Xn",value:function(e){var t=0;return this.Yn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Yn",value:function(e,t){return this.er(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return z_(e,n)}},{key:"removeReference",value:function(e,t,n){return z_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return z_(e,t)}},{key:"tr",value:function(e,t){return function(e,t){var n=!1;return N_(e).X((function(r){return S_(e,r,t).next((function(e){return e&&(n=!0),Zm.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.er(e,(function(o,s){if(s<=t){var u=n.tr(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Lm.min()),R_(e).delete(function(e){return[0,vg(e.path)]}(o))}))}));i.push(u)}})).next((function(){return Zm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return z_(e,t)}},{key:"er",value:function(e,t){var n,r=R_(e),i=fg.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=f(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==fg.ae&&t(new Vm(yg(n)),i),i=u,n=s):i=fg.ae})).next((function(){i!==fg.ae&&t(new Vm(yg(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function z_(e,t){return R_(e).put(function(e,t){return{targetId:0,path:vg(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var B_=function(){function e(){p(this,e),this.changes=new Dk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return y(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ry.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Zm.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),q_=function(){function e(t){p(this,e),this.serializer=t}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return G_(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return G_(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Pw(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.nr(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Ry.newInvalidDocument(t);return G_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Q_(t))},(function(e,i){r=n.rr(t,i)})).next((function(){return r}))}},{key:"ir",value:function(e,t){var n=this,r={size:0,document:Ry.newInvalidDocument(t)};return G_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Q_(t))},(function(e,i){r={document:n.rr(t,i),size:E_(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Rk();return this.sr(e,t,(function(e,t){var i=n.rr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"_r",value:function(e,t){var n=this,r=Rk(),i=new Gg(Vm.comparator);return this.sr(e,t,(function(e,t){var a=n.rr(e,t);r=r.insert(e,a),i=i.insert(e,E_(t))})).next((function(){return{documents:r,ar:i}}))}},{key:"sr",value:function(e,t,n){if(t.isEmpty())return Zm.resolve();var r=new Xg(X_);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Q_(r.first()),Q_(r.last())),a=r.getIterator(),o=a.getNext();return G_(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Vm.fromSegments([].concat(d(t.prefixPath),[t.collectionGroup,t.documentId]));o&&X_(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(Q_(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r,i){var a=this,o=t.path,s=[o.popLast().toArray(),o.lastSegment(),Pw(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return G_(e).G(IDBKeyRange.bound(s,u,!0)).next((function(e){null==i||i.incrementDocumentReadCount(e.length);var n,o=Rk(),s=N(e);try{for(s.s();!(n=s.n()).done;){var u=n.value,c=a.rr(Vm.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);c.isFoundDocument()&&(Ck(t,c)||r.has(c.key))&&(o=o.insert(c.key,c))}}catch(l){s.e(l)}finally{s.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Rk(),o=Y_(t,n),s=Y_(t,Qm.max());return G_(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.rr(Vm.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new K_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return W_(e).get("remoteDocumentGlobalKey").next((function(e){return mm(!!e),e}))}},{key:"nr",value:function(e,t){return W_(e).put("remoteDocumentGlobalKey",t)}},{key:"rr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=hw(e.ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Vm.fromSegments(t.noDocument.path),i=Ow(t.noDocument.readTime);n=Ry.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return vm();var a=Vm.fromSegments(t.unknownDocument.path),o=Ow(t.unknownDocument.version);n=Ry.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Rm(e[0],e[1]);return Lm.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Lm.min()))return n}return Ry.newInvalidDocument(e)}}]),e}();function H_(e){return new q_(e)}var K_=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).ur=e,i.trackRemovals=r,i.cr=new Dk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Xg((function(e,t){return Pm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.cr.get(a);if(n.push(t.ur.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=Aw(t.ur.serializer,o);i=i.add(a.path.popLast());var c=E_(u);r+=c-s.size,n.push(t.ur.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=Aw(t.ur.serializer,o.convertToNoDocument(Lm.min()));n.push(t.ur.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.ur.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.ur.updateMetadata(e,r)),Zm.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.ur.ir(e,t).next((function(e){return n.cr.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.ur._r(e,t).next((function(e){var t=e.documents;return e.ar.forEach((function(e,r){n.cr.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(B_);function W_(e){return qg(e,"remoteDocumentGlobal")}function G_(e){return qg(e,"remoteDocumentsV14")}function Q_(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Y_(e,t){var n=t.documentKey.path.toArray();return[e,Pw(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function X_(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Pm(n[a],r[a]))return i;return(i=Pm(n.length,r.length))||((i=Pm(n[n.length-2],r[r.length-2]))||Pm(n[n.length-1],r[r.length-1]))}var $_=y((function e(t,n){p(this,e),this.overlayedDocument=t,this.mutatedFields=n})),J_=function(){function e(t,n,r,i){p(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return y(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&pb(r.mutation,e,Zg.empty(),Rm.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,qk()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qk(),i=Fk();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=jk();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Fk();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,qk())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Rk(),a=Vk(),o=Vk();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof yb)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),pb(o.mutation,t,o.mutation.getFieldMask(),Rm.now())):a.set(t.key,Zg.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new $_(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Vk(),i=new Gg((function(e,t){return e-t})),a=qk();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=N(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Zg.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||qk()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Uk();c.forEach((function(e){if(!a.has(e)){var n=hb(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Zm.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return Vm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Zm.resolve(Fk()),s=-1,u=a;return o.next((function(t){return Zm.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Zm.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,qk())})).next((function(e){return{batchId:s,changes:Mk(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Vm(t)).next((function(e){var t=jk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=jk();return this.indexManager.getCollectionParents(e,a).next((function(s){return Zm.forEach(s,(function(s){var u=function(e,t){return new dk(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return i.getDocumentsMatchingCollectionQuery(e,u,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ry.newInvalidDocument(r)))}));var n=jk();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&pb(a.mutation,r,Zg.empty(),Rm.now()),Ck(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),Z_=function(){function e(t){p(this,e),this.serializer=t,this.lr=new Map,this.hr=new Map}return y(e,[{key:"getBundleMetadata",value:function(e,t){return Zm.resolve(this.lr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:nw(e.createTime)}}(t)),Zm.resolve()}},{key:"getNamedQuery",value:function(e,t){return Zm.resolve(this.hr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hr.set(t.name,function(e){return{name:e.name,query:Mw(e.bundledQuery),readTime:nw(e.readTime)}}(t)),Zm.resolve()}}]),e}(),ex=function(){function e(){p(this,e),this.overlays=new Gg(Vm.comparator),this.Pr=new Map}return y(e,[{key:"getOverlay",value:function(e,t){return Zm.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Fk();return Zm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.It(e,t,i)})),Zm.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Pr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Pr.delete(n)),Zm.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Fk(),i=t.length+1,a=new Vm(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Zm.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Gg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Fk(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Fk(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Zm.resolve(u)}},{key:"It",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Pr.get(r.largestBatchId).delete(n.key);this.Pr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Cb(t,n));var a=this.Pr.get(t);void 0===a&&(a=qk(),this.Pr.set(t,a)),this.Pr.set(t,a.add(n.key))}}]),e}(),tx=function(){function e(){p(this,e),this.Ir=new Xg(nx.dr),this.Tr=new Xg(nx.Er)}return y(e,[{key:"isEmpty",value:function(){return this.Ir.isEmpty()}},{key:"addReference",value:function(e,t){var n=new nx(e,t);this.Ir=this.Ir.add(n),this.Tr=this.Tr.add(n)}},{key:"Ar",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Rr(new nx(e,t))}},{key:"Vr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"mr",value:function(e){var t=this,n=new Vm(new Mm([])),r=new nx(n,e),i=new nx(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Rr(e),a.push(e.key)})),a}},{key:"gr",value:function(){var e=this;this.Ir.forEach((function(t){return e.Rr(t)}))}},{key:"Rr",value:function(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}},{key:"pr",value:function(e){var t=new Vm(new Mm([])),n=new nx(t,e),r=new nx(t,e+1),i=qk();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new nx(e,0),n=this.Ir.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),nx=function(){function e(t,n){p(this,e),this.key=t,this.yr=n}return y(e,null,[{key:"dr",value:function(e,t){return Vm.comparator(e.key,t.key)||Pm(e.yr,t.yr)}},{key:"Er",value:function(e,t){return Pm(e.yr,t.yr)||Vm.comparator(e.key,t.key)}}]),e}(),rx=function(){function e(t,n){p(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Xg(nx.dr)}return y(e,[{key:"checkEmpty",value:function(e){return Zm.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Sb(i,t,n,r);this.mutationQueue.push(a);var o,s=N(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Sr=this.Sr.add(new nx(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Zm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Zm.resolve(this.br(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Dr(n),i=r<0?0:r;return Zm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Zm.resolve(0===this.mutationQueue.length?-1:this.wr-1)}},{key:"getAllMutationBatches",value:function(e){return Zm.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new nx(t,0),i=new nx(t,Number.POSITIVE_INFINITY),a=[];return this.Sr.forEachInRange([r,i],(function(e){var t=n.br(e.yr);a.push(t)})),Zm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Xg(Pm);return t.forEach((function(e){var t=new nx(e,0),i=new nx(e,Number.POSITIVE_INFINITY);n.Sr.forEachInRange([t,i],(function(e){r=r.add(e.yr)}))})),Zm.resolve(this.Cr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Vm.isDocumentKey(i)||(i=i.child(""));var a=new nx(new Vm(i),0),o=new Xg(Pm);return this.Sr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.yr)),!0)}),a),Zm.resolve(this.Cr(o))}},{key:"Cr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.br(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;mm(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Sr;return Zm.forEach(t.mutations,(function(i){var a=new nx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Sr=r}))}},{key:"xn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new nx(t,0),r=this.Sr.firstAfterOrEqual(n);return Zm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Zm.resolve()}},{key:"vr",value:function(e,t){return this.Dr(e)}},{key:"Dr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"br",value:function(e){var t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),ix=function(){function e(t){p(this,e),this.Fr=t,this.docs=new Gg(Vm.comparator),this.size=0}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Fr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Zm.resolve(n?n.document.mutableCopy():Ry.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Rk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ry.newInvalidDocument(e))})),Zm.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Rk(),a=t.path,o=new Vm(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Ym(Gm(l),n)<=0||(r.has(l.key)||Ck(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Zm.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){vm()}},{key:"Mr",value:function(e,t){return Zm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ax(this)}},{key:"getSize",value:function(e){return Zm.resolve(this.size)}}]),e}(),ax=function(e){b(n,e);var t=I(n);function n(e){var r;return p(this,n),(r=t.call(this)).ur=e,r}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ur.addEntry(e,i)):t.ur.removeEntry(r)})),Zm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ur.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ur.getEntries(e,t)}}]),n}(B_),ox=function(){function e(t){p(this,e),this.persistence=t,this.Or=new Dk((function(e){return sk(e)}),uk),this.lastRemoteSnapshotVersion=Lm.min(),this.highestTargetId=0,this.Nr=0,this.Br=new tx,this.targetCount=0,this.Lr=A_.Bn()}return y(e,[{key:"forEachTarget",value:function(e,t){return this.Or.forEach((function(e,n){return t(n)})),Zm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Zm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Zm.resolve(this.Nr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Lr.next(),Zm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Nr&&(this.Nr=t),Zm.resolve()}},{key:"Qn",value:function(e){this.Or.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Lr=new A_(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Qn(t),this.targetCount+=1,Zm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Qn(t),Zm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Or.delete(t.target),this.Br.mr(t.targetId),this.targetCount-=1,Zm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Or.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Or.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Zm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Zm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Or.get(t)||null;return Zm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Br.Ar(t,n),Zm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Br.Vr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Zm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Br.mr(t),Zm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Br.pr(t);return Zm.resolve(n)}},{key:"containsKey",value:function(e,t){return Zm.resolve(this.Br.containsKey(t))}}]),e}(),sx=function(){function e(t,n){var r=this;p(this,e),this.kr={},this.overlays={},this.qr=new fg(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=t(this),this.Kr=new ox(this),this.indexManager=new h_,this.remoteDocumentCache=function(e){return new ix(e)}((function(e){return r.referenceDelegate.$r(e)})),this.serializer=new Nw(n),this.Ur=new Z_(this.serializer)}return y(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.Qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new ex,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.kr[e.toKey()];return n||(n=new rx(t,this.referenceDelegate),this.kr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ur}},{key:"runTransaction",value:function(e,t,n){var r=this;fm("MemoryPersistence","Starting transaction:",e);var i=new ux(this.qr.next());return this.referenceDelegate.Wr(),n(i).next((function(e){return r.referenceDelegate.Gr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zr",value:function(e,t){return Zm.or(Object.values(this.kr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ux=function(e){b(n,e);var t=I(n);function n(e){var r;return p(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return y(n)}($m),cx=function(){function e(t){p(this,e),this.persistence=t,this.jr=new tx,this.Hr=null}return y(e,[{key:"Yr",get:function(){if(this.Hr)return this.Hr;throw vm()}},{key:"addReference",value:function(e,t,n){return this.jr.addReference(n,t),this.Yr.delete(n.toString()),Zm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.jr.removeReference(n,t),this.Yr.add(n.toString()),Zm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Yr.add(t.toString()),Zm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.jr.mr(t.targetId).forEach((function(e){return n.Yr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Yr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Wr",value:function(){this.Hr=new Set}},{key:"Gr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Zm.forEach(this.Yr,(function(r){var i=Vm.fromPath(r);return t.Zr(e,i).next((function(e){e||n.removeEntry(i,Lm.min())}))})).next((function(){return t.Hr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zr(e,t).next((function(e){e?n.Yr.delete(t.toString()):n.Yr.add(t.toString())}))}},{key:"$r",value:function(e){return 0}},{key:"Zr",value:function(e,t){var n=this;return Zm.or([function(){return Zm.resolve(n.jr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zr(e,t)}])}}],[{key:"Jr",value:function(t){return new e(t)}}]),e}(),lx=function(){function e(t){p(this,e),this.serializer=t}return y(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new eg("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kg,{unique:!0}),e.createObjectStore("documentMutations")}(e),fx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Zm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),fx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kg,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Zm.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.ei(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.ti(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ni(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ri(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ii(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Rg});t.createIndex("collectionPathOverlayIndex",Lg,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",jg,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:xg});t.createIndex("documentKeyIndex",Eg),t.createIndex("collectionGroupIndex",Ig)}(e)})).next((function(){return i.si(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.oi(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ag}).createIndex("sequenceNumberIndex",Pg,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Dg}).createIndex("documentKeyIndex",Og,{unique:!1})}(e)}))),o}},{key:"ti",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=E_(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"ei",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return Zm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return Zm.forEach(r,(function(r){mm(r.userId===n.userId);var i=Rw(t.serializer,r);return x_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ni",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Mm(n),o=function(e){return[0,vg(e)]}(a);r.push(t.get(o).next((function(n){return n?Zm.resolve():function(n){return t.put({targetId:0,path:vg(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Zm.waitFor(r)}))}))}},{key:"ri",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Ng});var n=t.store("collectionParents"),r=new d_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:vg(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new Mm(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=f(e,3),r=(n[0],n[1]),a=(n[2],yg(r));return i(a.popLast())}))}))}},{key:"ii",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Lw(r),a=jw(t.serializer,i);return n.put(a)}))}},{key:"si",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new Vm(Mm.fromString(e.document.name).popFirst(5)):e.noDocument?Vm.fromSegments(e.noDocument.path):e.unknownDocument?Vm.fromSegments(e.unknownDocument.path):vm()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return Zm.waitFor(r)}))}},{key:"oi",value:function(e,t){var n=this,r=t.store("mutations"),i=H_(this.serializer),a=new sx(cx.Jr,this.serializer.ht);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:qk();Rw(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Zm.forEach(r,(function(e,r){var o=new sm(r),s=Hw.Pt(n.serializer,o),u=a.getIndexManager(o),c=I_.Pt(o,n.serializer,u,a.referenceDelegate);return new J_(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new Bg(t,fg.ae),e).next()}))}))}}]),e}();function fx(e){e.createObjectStore("targetDocuments",{keyPath:Tg}).createIndex("documentTargetsIndex",Cg,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sg,{unique:!0}),e.createObjectStore("targetGlobal")}var hx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",dx=function(e,t){function n(e,t,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(p(this,n),this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this._i=a,this.window=o,this.document=s,this.ai=c,this.ui=l,this.ci=f,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.li=null,this.inForeground=!1,this.hi=null,this.Pi=null,this.Ii=Number.NEGATIVE_INFINITY,this.di=function(e){return Promise.resolve()},!n.C())throw new km(ym.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new V_(this,i),this.Ti=t+"main",this.serializer=new Nw(u),this.Ei=new tg(this.Ti,this.ci,new lx(this.serializer)),this.Kr=new P_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=H_(this.serializer),this.Ur=new zw,this.window&&this.window.localStorage?this.Ai=this.window.localStorage:(this.Ai=null,!1===l&&hm("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return y(n,[{key:"start",value:function(){var e=this;return this.Ri().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new km(ym.FAILED_PRECONDITION,hx);return e.Vi(),e.mi(),e.fi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Kr.getHighestSequenceNumber(t)}))})).then((function(t){e.qr=new fg(t,e.ai)})).then((function(){e.Qr=!0})).catch((function(t){return e.Ei&&e.Ei.close(),Promise.reject(t)}))}},{key:"gi",value:function(e){var t,n=this;return this.di=function(r){return(t=t||wc(kc().mark((function t(r){return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.started){t.next=2;break}return t.abrupt("return",e(r));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)},e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){var t;this.Ei.k((function(n){return(t=t||wc(kc().mark((function t(n){return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}))}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this._i.enqueueAndForget(wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ri();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return vx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.pi(t).next((function(t){t||(e.isPrimary=!1,e._i.enqueueRetryable((function(){return e.di(!1)})))}))})).next((function(){return e.yi(t)})).next((function(n){return e.isPrimary&&!n?e.wi(t).next((function(){return!1})):!!n&&e.Si(t).next((function(){return!0}))}))})).catch((function(t){if(ig(t))return fm("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return fm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e._i.enqueueRetryable((function(){return e.di(t)})),e.isPrimary=t}))}},{key:"pi",value:function(e){var t=this;return px(e).get("owner").next((function(e){return Zm.resolve(t.bi(e))}))}},{key:"Di",value:function(e){return vx(e).delete(this.clientId)}},{key:"Ci",value:function(){return(e=e||wc(kc().mark((function e(){var t,n,r,i,a=this;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vi(this.Ii,18e5)){e.next=6;break}return this.Ii=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=qg(e,"clientMetadata");return t.G().next((function(e){var n=a.Fi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Zm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ai){n=N(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ai.removeItem(this.Mi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"fi",value:function(){var e=this;this.Pi=this._i.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ri().then((function(){return e.Ci()})).then((function(){return e.fi()}))}))}},{key:"bi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"yi",value:function(e){var t=this;return this.ui?Zm.resolve(!0):px(e).get("owner").next((function(n){if(null!==n&&t.vi(n.leaseTimestampMs,5e3)&&!t.xi(n.ownerId)){if(t.bi(n)&&t.networkEnabled)return!0;if(!t.bi(n)){if(!n.allowTabSynchronization)throw new km(ym.FAILED_PRECONDITION,hx);return!1}}return!(!t.networkEnabled||!t.inForeground)||vx(e).G().next((function(e){return void 0===t.Fi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&fm("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){return(t=t||wc(kc().mark((function e(){var t=this;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Qr=!1,this.Oi(),this.Pi&&(this.Pi.cancel(),this.Pi=null),this.Ni(),this.Bi(),e.next=7,this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Bg(e,fg.ae);return t.wi(n).next((function(){return t.Di(n)}))}));case 7:this.Ei.close(),this.Li();case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Fi",value:function(e,t){var n=this;return e.filter((function(e){return n.vi(e.updateTimeMs,t)&&!n.xi(e.clientId)}))}},{key:"ki",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return vx(t).G().next((function(t){return e.Fi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Qr}},{key:"getMutationQueue",value:function(e,t){return I_.Pt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new v_(e,this.serializer.ht.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Hw.Pt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Ur}},{key:"runTransaction",value:function(e,t,n){var r=this;fm("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?zg:14===e?Vg:13===e?Ug:12===e?Fg:11===e?Mg:void vm()}(this.ci);return this.Ei.runTransaction(e,a,o,(function(a){return i=new Bg(a,r.qr?r.qr.next():fg.ae),"readwrite-primary"===t?r.pi(i).next((function(e){return!!e||r.yi(i)})).next((function(t){if(!t)throw hm("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r._i.enqueueRetryable((function(){return r.di(!1)})),new km(ym.FAILED_PRECONDITION,Xm);return n(i)})).next((function(e){return r.Si(i).next((function(){return e}))})):r.qi(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"qi",value:function(e){var t=this;return px(e).get("owner").next((function(e){if(null!==e&&t.vi(e.leaseTimestampMs,5e3)&&!t.xi(e.ownerId)&&!t.bi(e)&&!(t.ui||t.allowTabSynchronization&&e.allowTabSynchronization))throw new km(ym.FAILED_PRECONDITION,hx)}))}},{key:"Si",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return px(e).put("owner",t)}},{key:"wi",value:function(e){var t=this,n=px(e);return n.get("owner").next((function(e){return t.bi(e)?(fm("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Zm.resolve()}))}},{key:"vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(hm("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Vi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.hi=function(){e._i.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ri()}))},this.document.addEventListener("visibilitychange",this.hi),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.hi&&(this.document.removeEventListener("visibilitychange",this.hi),this.hi=null)}},{key:"mi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.li=function(){t.Oi();var e=/(?:Version|Mobile)\/1[456]/;!ec()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t._i.enterRestrictedMode(!0),t._i.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.li))}},{key:"Bi",value:function(){this.li&&(this.window.removeEventListener("pagehide",this.li),this.li=null)}},{key:"xi",value:function(e){var t;try{var n=null!==(null===(t=this.Ai)||void 0===t?void 0:t.getItem(this.Mi(e)));return fm("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return hm("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Oi",value:function(){if(this.Ai)try{this.Ai.setItem(this.Mi(this.clientId),String(Date.now()))}catch(e){hm("Failed to set zombie client id.",e)}}},{key:"Li",value:function(){if(this.Ai)try{this.Ai.removeItem(this.Mi(this.clientId))}catch(e){}}},{key:"Mi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return tg.C()}}]),n}();function px(e){return qg(e,"owner")}function vx(e){return qg(e,"clientMetadata")}function mx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var gx=function(){function e(t,n,r,i){p(this,e),this.targetId=t,this.fromCache=n,this.Qi=r,this.Ki=i}return y(e,null,[{key:"$i",value:function(t,n){var r,i=qk(),a=qk(),o=N(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),yx=function(){function e(){p(this,e),this._documentReadCount=0}return y(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),kx=function(){function e(){p(this,e),this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}return y(e,[{key:"initialize",value:function(e,t){this.ji=e,this.indexManager=t,this.Ui=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.Hi(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Ji(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new yx;return i.Yi(e,t,n).next((function(r){if(a.result=r,i.Wi)return i.Zi(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Zi",value:function(e,t,n,r){return n.documentReadCount<this.Gi?(lm()<=Sc.DEBUG&&fm("QueryEngine","SDK will not create cache indexes for query:",Tk(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),Zm.resolve()):(lm()<=Sc.DEBUG&&fm("QueryEngine","Query:",Tk(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.zi*r?(lm()<=Sc.DEBUG&&fm("QueryEngine","The SDK decides to create cache indexes for query:",Tk(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wk(t))):Zm.resolve())}},{key:"Hi",value:function(e,t){var n=this;if(mk(t))return Zm.resolve(null);var r=wk(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Ek(t,null,"F"),r=wk(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=qk.apply(void 0,d(i));return n.ji.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Xi(t,i);return n.es(t,o,a,r.readTime)?n.Hi(e,Ek(t,null,"F")):n.ts(e,o,t,r)}))}))})))}))}},{key:"Ji",value:function(e,t,n,r){var i=this;return mk(t)||r.isEqual(Lm.min())?Zm.resolve(null):this.ji.getDocuments(e,n).next((function(a){var o=i.Xi(t,a);return i.es(t,o,n,r)?Zm.resolve(null):(lm()<=Sc.DEBUG&&fm("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Tk(t)),i.ts(e,o,t,Wm(r,-1)).next((function(e){return e})))}))}},{key:"Xi",value:function(e,t){var n=new Xg(Ak(e));return t.forEach((function(t,r){Ck(e,r)&&(n=n.add(r))})),n}},{key:"es",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Yi",value:function(e,t,n){return lm()<=Sc.DEBUG&&fm("QueryEngine","Using full collection scan to execute query:",Tk(t)),this.ji.getDocumentsMatchingQuery(e,t,Qm.min(),n)}},{key:"ts",value:function(e,t,n,r){return this.ji.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),bx=function(){function e(t,n,r,i){p(this,e),this.persistence=t,this.ns=n,this.serializer=i,this.rs=new Gg(Pm),this.ss=new Dk((function(e){return sk(e)}),uk),this.os=new Map,this._s=t.getRemoteDocumentCache(),this.Kr=t.getTargetCache(),this.Ur=t.getBundleCache(),this.us(r)}return y(e,[{key:"us",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J_(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.rs)}))}}]),e}();function wx(e,t,n,r){return new bx(e,t,n,r)}function _x(e,t){return(uv=uv||wc(kc().mark((function e(t,n){var r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gm(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.us(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=qk(),u=N(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=N(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=N(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=N(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{cs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xx(e,t){var n=gm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n._s.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Zm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);mm(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=qk(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Ex(e){var t=gm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Kr.getLastRemoteSnapshotVersion(e)}))}function Ix(e,t){var n=gm(e),r=t.snapshotVersion,i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Kr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Kr.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(ty.EMPTY_BYTE_STRING,Lm.min()).withLastLimboFreeSnapshotVersion(Lm.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Kr.updateTargetData(e,c))}}));var s=Rk(),u=qk();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Sx(e,a,t.documentUpdates).next((function(e){s=e.ls,u=e.hs}))),!r.isEqual(Lm.min())){var c=n.Kr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Kr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Zm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.rs=i,e}))}function Sx(e,t,n){var r=qk(),i=qk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Rk();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Lm.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):fm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{ls:r,hs:i}}))}function Tx(e,t){var n=gm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Cx(e,t){var n=gm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Kr.getTargetData(e,t).next((function(i){return i?(r=i,Zm.resolve(r)):n.Kr.allocateTargetId(e).next((function(i){return r=new Cw(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Kr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.rs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.rs=n.rs.insert(e.targetId,e),n.ss.set(t,e.targetId)),e}))}function Nx(e,t,n){return(cv=cv||wc(kc().mark((function e(t,n,r){var i,a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=gm(t),a=i.rs.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ig(e.t1)){e.next=12;break}throw e.t1;case 12:fm("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.rs=i.rs.remove(n),i.ss.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function Ax(e,t,n){var r=gm(e),i=Lm.min(),a=qk();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=gm(e),i=r.ss.get(n);return void 0!==i?Zm.resolve(r.rs.get(i)):r.Kr.getTargetData(t,n)}(r,e,wk(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ns.getDocumentsMatchingQuery(e,t,n?i:Lm.min(),n?a:qk())})).next((function(e){return Ox(r,Nk(t),e),{documents:e,Ps:a}}))}))}function Px(e,t){var n=gm(e),r=gm(n.Kr),i=n.rs.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Dx(e,t){var n=gm(e),r=n.os.get(t)||Lm.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n._s.getAllFromCollectionGroup(e,t,Wm(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Ox(n,t,e),e}))}function Ox(e,t,n){var r=e.os.get(t)||Lm.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.os.set(t,r)}function Rx(e,t,n,r){return(lv=lv||wc(kc().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=gm(t),o=qk(),s=Rk(),u=N(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Is(l.metadata.name),l.document&&(o=o.add(f)),(h=n.ds(l)).setReadTime(n.Ts(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a._s.newChangeBuffer({trackRemovals:!0}),e.next=7,Cx(a,function(e){return wk(vk(Mm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Sx(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Kr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Kr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.ls,t.hs)})).next((function(){return t.ls}))}))})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lx(e,t){return(fv=fv||wc(kc().mark((function e(t,n){var r,i,a,o=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:qk(),e.next=3,Cx(t,wk(Mw(n.bundledQuery)));case 3:return i=e.sent,a=gm(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=nw(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ur.saveNamedQuery(e,n);var o=i.withResumeToken(ty.EMPTY_BYTE_STRING,t);return a.rs=a.rs.insert(o.targetId,o),a.Kr.updateTargetData(e,o).next((function(){return a.Kr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Kr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ur.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Mx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Fx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Ux=function(){function e(t,n,r,i){p(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return y(e,[{key:"As",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new km(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(hm("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Vx=function(){function e(t,n,r){p(this,e),this.targetId=t,this.state=n,this.error=r}return y(e,[{key:"As",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new km(i.error.code,i.error.message))),a?new e(t,i.state,r):(hm("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),zx=function(){function e(t,n){p(this,e),this.clientId=t,this.activeTargetIds=n}return y(e,null,[{key:"Es",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Kk(),o=0;i&&o<r.activeTargetIds.length;++o)i=pg(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(hm("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Bx=function(){function e(t,n){p(this,e),this.clientId=t,this.onlineState=n}return y(e,null,[{key:"Es",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(hm("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),qx=function(){function e(){p(this,e),this.activeTargetIds=Kk()}return y(e,[{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Vs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"As",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Hx=function(e,t){function n(e,t,r,i,a){p(this,n),this.window=e,this._i=t,this.persistenceKey=r,this.fs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.gs=this.ps.bind(this),this.ys=new Gg(Pm),this.started=!1,this.ws=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Ss=jx(this.persistenceKey,this.fs),this.bs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ys=this.ys.insert(this.fs,new qx),this.Ds=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Cs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.vs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Fs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ms=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.gs)}return y(n,[{key:"start",value:function(){return(e=e||wc(kc().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.ki();case 2:t=e.sent,n=N(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.fs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(jx(this.persistenceKey,i)))&&(o=zx.Es(i,a))&&(this.ys=this.ys.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.xs(),(s=this.storage.getItem(this.Fs))&&(u=this.Os(s))&&this.Ns(u),c=N(this.ws);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ps(f)}catch(d){c.e(d)}finally{c.f()}this.ws=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})))).apply(this,arguments)}},{key:"writeSequenceNumber",value:function(e){this.setItem(this.bs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Bs(this.ys)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ys.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ls(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ls(e,t,n),this.ks(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Fx(this.persistenceKey,e));if(n){var r=Vx.Es(e,n);r&&(t=r.state)}}return this.qs.Rs(e),this.xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.qs.Vs(e),this.xs()}},{key:"isLocalQueryTarget",value:function(e){return this.qs.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Fx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Qs(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.ks(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ks(e)}},{key:"notifyBundleLoaded",value:function(e){this.$s(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.gs),this.removeItem(this.Ss),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return fm("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){fm("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){fm("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ps",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(fm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ss)return void hm("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._i.enqueueRetryable(wc(kc().mark((function e(){var r,i,a,o,s,u,c;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Ds.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Us(n.key),e.abrupt("return",t.Ws(r,null));case 6:if(!(i=t.Gs(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Ws(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Cs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.zs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.js(a));case 16:e.next=41;break;case 18:if(!t.vs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Hs(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Js(o));case 23:e.next=41;break;case 25:if(n.key!==t.Fs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Os(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ns(s));case 30:e.next=41;break;case 32:if(n.key!==t.bs){e.next=37;break}u=function(e){var t=fg.ae;if(null!=e)try{var n=JSON.parse(e);mm("number"==typeof n),t=n}catch(e){hm("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==fg.ae&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Ms){e.next=41;break}return c=t.Ys(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Zs(e)})));case 41:e.next=44;break;case 43:t.ws.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"qs",get:function(){return this.ys.get(this.fs)}},{key:"xs",value:function(){this.setItem(this.Ss,this.qs.As())}},{key:"Ls",value:function(e,t,n){var r=new Ux(this.currentUser,e,t,n),i=Mx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.As())}},{key:"ks",value:function(e){var t=Mx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ks",value:function(e){var t={clientId:this.fs,onlineState:e};this.storage.setItem(this.Fs,JSON.stringify(t))}},{key:"Qs",value:function(e,t,n){var r=Fx(this.persistenceKey,e),i=new Vx(e,t,n);this.setItem(r,i.As())}},{key:"$s",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Ms,t)}},{key:"Us",value:function(e){var t=this.Ds.exec(e);return t?t[1]:null}},{key:"Gs",value:function(e,t){var n=this.Us(e);return zx.Es(n,t)}},{key:"zs",value:function(e,t){var n=this.Cs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ux.Es(new sm(i),r,t)}},{key:"Hs",value:function(e,t){var n=this.vs.exec(e),r=Number(n[1]);return Vx.Es(r,t)}},{key:"Os",value:function(e){return Bx.Es(e)}},{key:"Ys",value:function(e){return JSON.parse(e)}},{key:"js",value:function(e){return(t=t||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Xs(t.batchId,t.state,t.error));case 2:fm("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Js",value:function(e){return this.syncEngine.eo(e.targetId,e.state,e.error)}},{key:"Ws",value:function(e,t){var n=this,r=t?this.ys.insert(e,t):this.ys.remove(e),i=this.Bs(this.ys),a=this.Bs(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.no(o,s).then((function(){n.ys=r}))}},{key:"Ns",value:function(e){this.ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Bs",value:function(e){var t=Kk();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),n}(),Kx=function(){function e(){p(this,e),this.ro=new qx,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return y(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.ro.Rs(e),this.io[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.io[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.ro.Vs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.ro.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.io[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.ro.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.ro.activeTargetIds.has(e)}},{key:"start",value:function(){return this.ro=new qx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Wx=function(){function e(){p(this,e)}return y(e,[{key:"so",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Gx=function(){function e(){var t=this;p(this,e),this.oo=function(){return t._o()},this.ao=function(){return t.uo()},this.co=[],this.lo()}return y(e,[{key:"so",value:function(e){this.co.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}},{key:"lo",value:function(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}},{key:"_o",value:function(){fm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=N(this.co);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"uo",value:function(){fm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=N(this.co);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Qx=null;function Yx(){return null===Qx?Qx=268435456+Math.round(2147483648*Math.random()):Qx++,"0x"+Qx.toString(16)}var Xx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},$x=function(){function e(t){p(this,e),this.ho=t.ho,this.Po=t.Po}return y(e,[{key:"Io",value:function(e){this.To=e}},{key:"Eo",value:function(e){this.Ao=e}},{key:"onMessage",value:function(e){this.Ro=e}},{key:"close",value:function(){this.Po()}},{key:"send",value:function(e){this.ho(e)}},{key:"Vo",value:function(){this.To()}},{key:"mo",value:function(e){this.Ao(e)}},{key:"fo",value:function(e){this.Ro(e)}}]),e}(),Jx="WebChannelConnection",Zx=function(e){b(n,e);var t=I(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return y(n,[{key:"vo",value:function(e,t,n,r){var i=Yx();return new Promise((function(a,o){var s=new rm;s.setWithCredentials(!0),s.listenOnce(Zv.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Jv.NO_ERROR:var t=s.getResponseJson();fm(Jx,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Jv.TIMEOUT:fm(Jx,"RPC '".concat(e,"' ").concat(i," timed out")),o(new km(ym.DEADLINE_EXCEEDED,"Request time out"));break;case Jv.HTTP_ERROR:var n=s.getStatus();if(fm(Jx,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ym).indexOf(t)>=0?t:ym.UNKNOWN}(u.status);o(new km(c,u.message))}else o(new km(ym.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new km(ym.UNAVAILABLE,"Connection failed."));break;default:vm()}}finally{fm(Jx,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);fm(Jx,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Mo",value:function(e,t,n){var r=Yx(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Xv(),o=$v(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Co(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");fm(Jx,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new $x({ho:function(t){h?fm(Jx,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(fm(Jx,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),fm(Jx,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},Po:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,nm.EventType.OPEN,(function(){h||fm(Jx,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,nm.EventType.CLOSE,(function(){h||(h=!0,fm(Jx,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.mo())})),p(l,nm.EventType.ERROR,(function(t){h||(h=!0,dm(Jx,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.mo(new km(ym.UNAVAILABLE,"The operation could not be completed")))})),p(l,nm.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];mm(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){fm(Jx,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=_b[e];if(void 0!==t)return Pb(t)}(s),c=o.message;void 0===u&&(u=ym.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.mo(new km(u,c)),l.close()}else fm(Jx,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.fo(i)}})),p(o,em.STAT_EVENT,(function(t){t.stat===tm.PROXY?fm(Jx,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===tm.NOPROXY&&fm(Jx,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Vo()}),0),d}}]),n}(function(){function e(t){p(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo="projects/".concat(r,"/databases/").concat(i),this.wo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return y(e,[{key:"So",get:function(){return!1}},{key:"bo",value:function(e,t,n,r,i){var a=Yx(),o=this.Do(e,t);fm("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(s,r,i),this.vo(e,o,s,n).then((function(t){return fm("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw dm("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Fo",value:function(e,t,n,r,i,a){return this.bo(e,t,n,r,i)}},{key:"Co",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+um,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Do",value:function(e,t){var n=Xx[e];return"".concat(this.po,"/v1/").concat(t,":").concat(n)}}]),e}());function eE(){return"undefined"!=typeof window?window:null}function tE(){return"undefined"!=typeof document?document:null}function nE(e){return new $b(e,!0)}var rE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;p(this,e),this._i=t,this.timerId=n,this.xo=r,this.Oo=i,this.No=a,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}return y(e,[{key:"reset",value:function(){this.Bo=0}},{key:"qo",value:function(){this.Bo=this.No}},{key:"Qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&fm("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Bo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,(function(){return t.ko=Date.now(),e()})),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}},{key:"$o",value:function(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}},{key:"cancel",value:function(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"Ko",value:function(){return(Math.random()-.5)*this.Bo}}]),e}(),iE=function(e,t,n){function r(e,t,n,i,a,o,s,u){p(this,r),this._i=e,this.Uo=n,this.Wo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new rE(e,t)}return y(r,[{key:"Jo",value:function(){return 1===this.state||5===this.state||this.Yo()}},{key:"Yo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Zo()}},{key:"stop",value:function(){return(e=e||wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Jo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Xo",value:function(){this.state=0,this.Ho.reset()}},{key:"e_",value:function(){var e=this;this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,(function(){return e.t_()})))}},{key:"n_",value:function(e){this.r_(),this.stream.send(e)}},{key:"t_",value:function(){return(t=t||wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Yo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"i_",value:function(){this.jo&&(this.jo.cancel(),this.jo=null)}},{key:"close",value:function(e,t){return(n=n||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.r_(),this.i_(),this.Ho.cancel(),this.Go++,4!==t?this.Ho.reset():n&&n.code===ym.RESOURCE_EXHAUSTED?(hm(n.toString()),hm("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===ym.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.s_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Eo(n);case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"s_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=f(t,2),i=r[0],a=r[1];e.Go===n&&e.__(i,a)}),(function(n){t((function(){var t=new km(ym.UNKNOWN,"Fetching auth token failed: "+n.message);return e.a_(t)}))}))}},{key:"__",value:function(e,t){var n=this,r=this.o_(this.Go);this.stream=this.u_(e,t),this.stream.Io((function(){r((function(){return n.state=2,n.jo=n._i.enqueueAfterDelay(n.Wo,1e4,(function(){return n.Yo()&&(n.state=3),Promise.resolve()})),n.listener.Io()}))})),this.stream.Eo((function(e){r((function(){return n.a_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Zo",value:function(){var e=this;this.state=5,this.Ho.Qo(wc(kc().mark((function t(){return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"a_",value:function(e){return fm("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"o_",value:function(e){var t=this;return function(n){t._i.enqueueAndForget((function(){return t.Go===e?n():(fm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),r}(),aE=function(e){b(n,e);var t=I(n);function n(e,r,i,a,o,s){var u;return p(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return y(n,[{key:"u_",value:function(e,t){return this.connection.Mo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Ho.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:vm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(mm(void 0===t||"string"==typeof t),ty.fromBase64String(t||"")):(mm(void 0===t||t instanceof Uint8Array),ty.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?ym.UNKNOWN:Pb(e.code);return new km(t,e.message||"")}(o);n=new qb(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=ow(e,u.document.name),l=nw(u.document.updateTime),f=u.document.createTime?nw(u.document.createTime):Lm.min(),h=new Dy({mapValue:{fields:u.document.fields}}),d=Ry.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new zb(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=ow(e,m.document),y=m.readTime?nw(m.readTime):Lm.min(),k=Ry.newNoDocument(g,y),b=m.removedTargetIds||[];n=new zb([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=ow(e,w.document),x=w.removedTargetIds||[];n=new zb([],x,_,null)}else{if(!("filter"in t))return vm();t.filter;var E=t.filter;E.targetId;var I=E.count,S=void 0===I?0:I,T=E.unchangedNames,C=new Nb(S,T),N=E.targetId;n=new Bb(N,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Lm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Lm.min():t.readTime?nw(t.readTime):Lm.min()}(e);return this.listener.c_(t,n)}},{key:"l_",value:function(e){var t={};t.database=cw(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=ck(r)?{documents:mw(e,r)}:{query:gw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ew(e,t.resumeToken);var i=Jb(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Lm.min())>0){n.readTime=Zb(e,t.snapshotVersion.toTimestamp());var a=Jb(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vm()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.n_(t)}},{key:"h_",value:function(e){var t={};t.database=cw(this.serializer),t.removeTarget=e,this.n_(t)}}]),n}(iE),oE=function(e){b(n,e);var t=I(n);function n(e,r,i,a,o,s){var u;return p(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.P_=!1,u}return y(n,[{key:"I_",get:function(){return this.P_}},{key:"start",value:function(){this.P_=!1,this.lastStreamToken=void 0,jt(w(n.prototype),"start",this).call(this)}},{key:"s_",value:function(){this.P_&&this.d_([])}},{key:"u_",value:function(e,t){return this.connection.Mo("Write",e,t)}},{key:"onMessage",value:function(e){if(mm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();var t=function(e,t){return e&&e.length>0?(mm(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?nw(e.updateTime):nw(t);return n.isEqual(Lm.min())&&(n=nw(t)),new ub(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=nw(e.commitTime);return this.listener.T_(n,t)}return mm(!e.writeResults||0===e.writeResults.length),this.P_=!0,this.listener.E_()}},{key:"A_",value:function(){var e={};e.database=cw(this.serializer),this.n_(e)}},{key:"d_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return pw(t.serializer,e)}))};this.n_(n)}}]),n}(iE),sE=function(e){b(n,e);var t=I(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.R_=!1,o}return y(n,[{key:"V_",value:function(){if(this.R_)throw new km(ym.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"bo",value:function(e,t,n){var r=this;return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],s=a[1];return r.connection.bo(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ym.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new km(ym.UNKNOWN,e.toString())}))}},{key:"Fo",value:function(e,t,n,r){var i=this;return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=f(a,2),s=o[0],u=o[1];return i.connection.Fo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ym.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new km(ym.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.R_=!0}}]),n}(y((function e(){p(this,e)})));var uE=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}return y(e,[{key:"y_",value:function(){var e=this;0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.g_=null,e.S_("Backend didn't respond within 10 seconds."),e.w_("Offline"),Promise.resolve()})))}},{key:"b_",value:function(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.w_("Offline")))}},{key:"set",value:function(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}},{key:"w_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"S_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.p_?(hm(t),this.p_=!1):fm("OnlineStateTracker",t)}},{key:"D_",value:function(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}]),e}(),cE=y((function e(t,n,r,i,a){var o=this;p(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=a,this.x_.so((function(e){r.enqueueAndForget(wc(kc().mark((function e(){var t;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=yE(o),!e.t0){e.next=5;break}return fm("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(e){return(t=t||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=gm(t)).F_.add(4),e.next=4,fE(n);case 4:return n.O_.set("Unknown"),n.F_.delete(4),e.next=8,lE(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(o);case 5:case"end":return e.stop()}}),e)}))))})),this.O_=new uE(r,i)}));function lE(e){return(hv=hv||wc(kc().mark((function e(t){var n,r,i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!yE(t)){e.next=18;break}n=N(t.M_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function fE(e){return(dv=dv||wc(kc().mark((function e(t){var n,r,i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=N(t.M_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function hE(e,t){var n=gm(e);n.v_.has(t.targetId)||(n.v_.set(t.targetId,t),gE(n)?mE(n):jE(n).Yo()&&pE(n,t))}function dE(e,t){var n=gm(e),r=jE(n);n.v_.delete(t),r.Yo()&&vE(n,t),0===n.v_.size&&(r.Yo()?r.e_():yE(n)&&n.O_.set("Unknown"))}function pE(e,t){if(e.N_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lm.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}jE(e).l_(t)}function vE(e,t){e.N_.Le(t),jE(e).h_(t)}function mE(e){e.N_=new Kb({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.v_.get(t)||null},st:function(){return e.datastore.serializer.databaseId}}),jE(e).start(),e.O_.y_()}function gE(e){return yE(e)&&!jE(e).Jo()&&e.v_.size>0}function yE(e){return 0===gm(e).F_.size}function kE(e){e.N_=void 0}function bE(e){return(pv=pv||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.v_.forEach((function(e,n){pE(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wE(e,t){return(vv=vv||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kE(t),gE(t)?(t.O_.b_(n),mE(t)):t.O_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _E(e,t,n){return(mv=mv||wc(kc().mark((function e(t,n,r){var i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.O_.set("Online"),!(n instanceof qb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(e,t){return(i=i||wc(kc().mark((function e(t,n){var r,i,a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=N(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.v_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.v_.delete(o),t.N_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})))).apply(this,arguments)}(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),fm("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,xE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof zb?t.N_.Ge(n):n instanceof Bb?t.N_.Xe(n):t.N_.He(n),r.isEqual(Lm.min())){e.next=29;break}return e.prev=14,e.next=17,Ex(t.localStore);case 17:if(a=e.sent,e.t1=r.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.N_._t(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.v_.get(r);i&&e.v_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.v_.get(t);if(r){e.v_.set(t,r.withResumeToken(ty.EMPTY_BYTE_STRING,r.snapshotVersion)),vE(e,t);var i=new Cw(r.target,t,n,r.sequenceNumber);pE(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),fm("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,xE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])})))).apply(this,arguments)}function xE(e,t,n){return(gv=gv||wc(kc().mark((function e(t,n,r){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ig(n)){e.next=2;break}throw n;case 2:return t.F_.add(1),e.next=5,fE(t);case 5:t.O_.set("Offline"),r||(r=function(){return Ex(t.localStore)}),t.asyncQueue.enqueueRetryable(wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fm("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.F_.delete(1),e.next=6,lE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EE(e,t){return t().catch((function(n){return xE(e,n,t)}))}function IE(e){return(yv=yv||wc(kc().mark((function e(t){var n,r,i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=gm(t),r=ME(n),i=n.C_.length>0?n.C_[n.C_.length-1].batchId:-1;case 2:if(!SE(n)){e.next=19;break}return e.prev=3,e.next=6,Tx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.C_.length&&r.e_(),e.abrupt("break",19);case 10:i=a.batchId,TE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,xE(n,e.t0);case 17:e.next=2;break;case 19:CE(n)&&NE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function SE(e){return yE(e)&&e.C_.length<10}function TE(e,t){e.C_.push(t);var n=ME(e);n.Yo()&&n.I_&&n.d_(t.mutations)}function CE(e){return yE(e)&&!ME(e).Jo()&&e.C_.length>0}function NE(e){ME(e).start()}function AE(e){return(kv=kv||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ME(t).A_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PE(e){return(bv=bv||wc(kc().mark((function e(t){var n,r,i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ME(t),r=N(t.C_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.d_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DE(e,t,n){return(wv=wv||wc(kc().mark((function e(t,n,r){var i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.C_.shift(),a=Tb.from(i,n,r),e.next=3,EE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,IE(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OE(e,t){return(_v=_v||wc(kc().mark((function e(t,n){var r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&ME(t).I_,!e.t0){e.next=4;break}return e.next=4,function(e,t){return(r=r||wc(kc().mark((function e(t,n){var r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Ab(e)&&e!==ym.ABORTED}(n.code)){e.next=7;break}return r=t.C_.shift(),ME(t).Xo(),e.next=5,EE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,IE(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(t,n);case 4:CE(t)&&NE(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RE(e,t){return(xv=xv||wc(kc().mark((function e(t,n){var r,i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=gm(t)).asyncQueue.verifyOperationInProgress(),fm("RemoteStore","RemoteStore received new credentials"),i=yE(r),r.F_.add(3),e.next=6,fE(r);case 6:return i&&r.O_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.F_.delete(3),e.next=12,lE(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LE(e,t){return(Ev=Ev||wc(kc().mark((function e(t,n){var r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gm(t),!n){e.next=7;break}return r.F_.delete(2),e.next=5,lE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.F_.add(2),e.next=12,fE(r);case 12:r.O_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jE(e){var t;return e.B_||(e.B_=function(e,t,n){var r=gm(e);return r.V_(),new aE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Io:bE.bind(null,e),Eo:wE.bind(null,e),c_:_E.bind(null,e)}),e.M_.push((function(n){return(t=t||wc(kc().mark((function t(n){return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.B_.Xo(),gE(e)?mE(e):e.O_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.B_.stop();case 6:kE(e);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}))),e.B_}function ME(e){var t;return e.L_||(e.L_=function(e,t,n){var r=gm(e);return r.V_(),new oE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Io:AE.bind(null,e),Eo:OE.bind(null,e),E_:PE.bind(null,e),T_:DE.bind(null,e)}),e.M_.push((function(n){return(t=t||wc(kc().mark((function t(n){return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.L_.Xo(),t.next=4,IE(e);case 4:t.next=9;break;case 6:return t.next=8,e.L_.stop();case 8:e.C_.length>0&&(fm("RemoteStore","Stopping write stream with ".concat(e.C_.length," pending writes")),e.C_=[]);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}))),e.L_}var FE=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new bm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return y(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new km(ym.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function UE(e,t){if(hm("AsyncQueue","".concat(t,": ").concat(e)),ig(e))return new km(ym.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var VE=function(){function e(t){p(this,e),this.comparator=t?function(e,n){return t(e,n)||Vm.comparator(e.key,n.key)}:function(e,t){return Vm.comparator(e.key,t.key)},this.keyedMap=jk(),this.sortedSet=new Gg(this.comparator)}return y(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),zE=function(){function e(){p(this,e),this.k_=new Gg(Vm.comparator)}return y(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.k_.get(t);n?0!==e.type&&3===n.type?this.k_=this.k_.insert(t,e):3===e.type&&1!==n.type?this.k_=this.k_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.k_=this.k_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.k_=this.k_.remove(t):1===e.type&&2===n.type?this.k_=this.k_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):vm():this.k_=this.k_.insert(t,e)}},{key:"q_",value:function(){var e=[];return this.k_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),BE=function(){function e(t,n,r,i,a,o,s,u,c){p(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return y(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ik(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,VE.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),qE=y((function e(){p(this,e),this.Q_=void 0,this.listeners=[]})),HE=y((function e(){p(this,e),this.queries=new Dk((function(e){return Sk(e)}),Ik),this.onlineState="Unknown",this.K_=new Set}));function KE(e,t){return(Iv=Iv||wc(kc().mark((function e(t,n){var r,i,a,o,s;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gm(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new qE),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Q_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=UE(e.t0,"Initialization of query '".concat(Tk(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.U_(r.onlineState),o.Q_&&n.W_(o.Q_)&&YE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function WE(e,t){return(Sv=Sv||wc(kc().mark((function e(t,n){var r,i,a,o,s;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gm(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GE(e,t){var n,r=gm(e),i=!1,a=N(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=N(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.W_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Q_=o}}}catch(f){a.e(f)}finally{a.f()}i&&YE(r)}function QE(e,t,n){var r=gm(e),i=r.queries.get(t);if(i){var a,o=N(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function YE(e){e.K_.forEach((function(e){e.next()}))}var XE=function(){function e(t,n,r){p(this,e),this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}return y(e,[{key:"W_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=N(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new BE(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.z_?this.H_(e)&&(this.G_.next(e),a=!0):this.J_(e,this.onlineState)&&(this.Y_(e),a=!0),this.j_=e,a}},{key:"onError",value:function(e){this.G_.error(e)}},{key:"U_",value:function(e){this.onlineState=e;var t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}},{key:"J_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"H_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Y_",value:function(e){e=BE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}]),e}(),$E=function(){function e(t,n){p(this,e),this.X_=t,this.byteLength=n}return y(e,[{key:"ea",value:function(){return"metadata"in this.X_}}]),e}(),JE=function(){function e(t){p(this,e),this.serializer=t}return y(e,[{key:"Is",value:function(e){return ow(this.serializer,e)}},{key:"ds",value:function(e){return e.metadata.exists?hw(this.serializer,e.document,!1):Ry.newNoDocument(this.Is(e.metadata.name),this.Ts(e.metadata.readTime))}},{key:"Ts",value:function(e){return nw(e)}}]),e}(),ZE=function(e){function t(e,n,r){p(this,t),this.ta=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=eI(e)}return y(t,[{key:"na",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;var n=Mm.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ra",value:function(e){var t,n=new Map,r=new JE(this.serializer),i=N(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Is(a.metadata.name),u=N(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||qk()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){return(e=e||wc(kc().mark((function e(){var t,n,r,i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rx(this.localStore,new JE(this.serializer),this.documents,this.ta.id);case 2:t=e.sent,n=this.ra(this.documents),r=N(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Lx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})))).apply(this,arguments)}}]),t}();function eI(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var tI=y((function e(t){p(this,e),this.key=t})),nI=y((function e(t){p(this,e),this.key=t})),rI=function(){function e(t,n){p(this,e),this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=qk(),this.mutatedKeys=qk(),this.ua=Ak(t),this.ca=new VE(this.ua)}return y(e,[{key:"la",get:function(){return this.oa}},{key:"ha",value:function(e,t){var n=this,r=t?t.Pa:new zE,i=t?t.ca:this.ca,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ck(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ia(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.ua(f,u)>0||c&&n.ua(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,es:s,mutatedKeys:a}}},{key:"Ia",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;var a=e.Pa.q_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vm()}};return n(e)-n(t)}(e.type,t.type)||r.ua(e.doc,t.doc)})),this.da(n);var o=t?this.Ta():[],s=0===this.aa.size&&this.current?1:0,u=s!==this._a;return this._a=s,0!==a.length||u?{snapshot:new BE(this.query,e.ca,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}},{key:"U_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new zE,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}},{key:"Aa",value:function(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}},{key:"da",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.oa=t.oa.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.oa=t.oa.delete(e)})),this.current=e.current)}},{key:"Ta",value:function(){var e=this;if(!this.current)return[];var t=this.aa;this.aa=qk(),this.ca.forEach((function(t){e.Aa(t.key)&&(e.aa=e.aa.add(t.key))}));var n=[];return t.forEach((function(t){e.aa.has(t)||n.push(new nI(t))})),this.aa.forEach((function(e){t.has(e)||n.push(new tI(e))})),n}},{key:"Ra",value:function(e){this.oa=e.Ps,this.aa=qk();var t=this.ha(e.documents);return this.applyChanges(t,!0)}},{key:"Va",value:function(){return BE.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}]),e}(),iI=y((function e(t,n,r){p(this,e),this.query=t,this.targetId=n,this.view=r})),aI=y((function e(t){p(this,e),this.key=t,this.ma=!1})),oI=function(){function e(t,n,r,i,a,o){p(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Dk((function(e){return Sk(e)}),Ik),this.pa=new Map,this.ya=new Set,this.wa=new Gg(Vm.comparator),this.Sa=new Map,this.ba=new tx,this.Da={},this.Ca=new Map,this.va=A_.Ln(),this.onlineState="Unknown",this.Fa=void 0}return y(e,[{key:"isPrimaryClient",get:function(){return!0===this.Fa}}]),e}();function sI(e,t){return(Tv=Tv||wc(kc().mark((function e(t,n){var r,i,a,o,s,u;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jI(t),!(o=r.ga.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Va(),e.next=15;break;case 6:return e.next=8,Cx(r.localStore,wk(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,uI(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&hE(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uI(e,t,n,r,i){return(Cv=Cv||wc(kc().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Ma=function(e,n,r){var i;return function(e,t,n,r){return(i=i||wc(kc().mark((function e(t,n,r,i){var a,o,s;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ha(r),e.t0=a.es,!e.t0){e.next=6;break}return e.next=5,Ax(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ha(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(wI(t,n.targetId,s.Ea),s.snapshot));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(t,e,n,r)},e.next=3,Ax(t.localStore,n,!0);case 3:return o=e.sent,s=new rI(n,o.Ps),u=s.ha(o.documents),c=Vb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),wI(t,r,l.Ea),f=new iI(n,r,s),e.abrupt("return",(t.ga.set(n,f),t.pa.has(r)?t.pa.get(r).push(n):t.pa.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cI(e,t){return(Nv=Nv||wc(kc().mark((function e(t,n){var r,i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gm(t),i=r.ga.get(n),!((a=r.pa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.pa.set(i.targetId,a.filter((function(e){return!Ik(e,n)}))),void r.ga.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Nx(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),dE(r.remoteStore,i.targetId),kI(r,i.targetId)})).catch(Jm);case 9:e.next=14;break;case 11:return kI(r,i.targetId),e.next=14,Nx(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lI(e,t,n){return(Av=Av||wc(kc().mark((function e(t,n,r){var i,a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=MI(t),e.prev=1,e.next=4,function(e,t){var n,r,i=gm(e),a=Rm.now(),o=t.reduce((function(e,t){return e.add(t.key)}),qk());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Rk(),u=qk();return i._s.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=N(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=vb(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new yb(c.key,l,Oy(l.value.mapValue),cb.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Mk(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Da[e.currentUser.toKey()];r||(r=new Gg(Pm)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,EI(i,a.changes);case 9:return e.next=11,IE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=UE(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function fI(e,t){return(Pv=Pv||wc(kc().mark((function e(t,n){var r,i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gm(t),e.prev=1,e.next=4,Ix(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Sa.get(t);n&&(mm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ma=!0:e.modifiedDocuments.size>0?mm(n.ma):e.removedDocuments.size>0&&(mm(n.ma),n.ma=!1))})),e.next=8,EI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Jm(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function hI(e,t,n){var r=gm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ga.forEach((function(e,n){var r=n.view.U_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=gm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=N(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.U_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&YE(n)}(r.eventManager,t),i.length&&r.fa.c_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function dI(e,t,n){return(Dv=Dv||wc(kc().mark((function e(t,n,r){var i,a,o,s,u,c;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=gm(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Sa.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Gg(Vm.comparator)).insert(o,Ry.newNoDocument(o,Lm.min())),u=qk().add(o),c=new Ub(Lm.min(),new Map,new Gg(Pm),s,u),e.next=9,fI(i,c);case 9:i.wa=i.wa.remove(o),i.Sa.delete(n),xI(i),e.next=16;break;case 14:return e.next=16,Nx(i.localStore,n,!1).then((function(){return kI(i,n,r)})).catch(Jm);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pI(e,t){return(Ov=Ov||wc(kc().mark((function e(t,n){var r,i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gm(t),i=n.batch.batchId,e.prev=1,e.next=4,xx(r.localStore,n);case 4:return a=e.sent,yI(r,i,null),gI(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,EI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Jm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function vI(e,t,n){return(Rv=Rv||wc(kc().mark((function e(t,n,r){var i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gm(t),e.prev=1,e.next=4,function(e,t){var n=gm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return mm(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,yI(i,n,r),gI(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,EI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Jm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function mI(e,t){return(Lv=Lv||wc(kc().mark((function e(t,n){var r,i,a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yE((r=gm(t)).remoteStore)||fm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=gm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ca.get(i)||[]).push(n),r.Ca.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=UE(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function gI(e,t){(e.Ca.get(t)||[]).forEach((function(e){e.resolve()})),e.Ca.delete(t)}function yI(e,t,n){var r=gm(e),i=r.Da[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function kI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=N(e.pa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ga.delete(a),n&&e.fa.xa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.pa.delete(t),e.isPrimaryClient&&e.ba.mr(t).forEach((function(t){e.ba.containsKey(t)||bI(e,t)}))}function bI(e,t){e.ya.delete(t.path.canonicalString());var n=e.wa.get(t);null!==n&&(dE(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),xI(e))}function wI(e,t,n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof tI?(e.ba.addReference(a.key,t),_I(e,a)):a instanceof nI?(fm("SyncEngine","Document no longer in limbo: "+a.key),e.ba.removeReference(a.key,t),e.ba.containsKey(a.key)||bI(e,a.key)):vm()}}catch(o){i.e(o)}finally{i.f()}}function _I(e,t){var n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(fm("SyncEngine","New document in limbo: "+n),e.ya.add(r),xI(e))}function xI(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){var t=e.ya.values().next().value;e.ya.delete(t);var n=new Vm(Mm.fromString(t)),r=e.va.next();e.Sa.set(r,new aI(n)),e.wa=e.wa.insert(n,r),hE(e.remoteStore,new Cw(wk(vk(n.path)),r,"TargetPurposeLimboResolution",fg.ae))}}function EI(e,t,n){return(jv=jv||wc(kc().mark((function e(t,n,r){var i,a,o,s,u;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=gm(t),o=[],s=[],u=[],e.t0=a.ga.isEmpty(),e.t0){e.next=9;break}return a.ga.forEach((function(e,t){u.push(a.Ma(t,n,r).then((function(e){if((e||r)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){o.push(e);var n=gx.$i(t.targetId,e);s.push(n)}})))})),e.next=6,Promise.all(u);case 6:return a.fa.c_(o),e.next=9,function(e,t){return(i=i||wc(kc().mark((function e(t,n){var r,i,a,o,s,u,c,l;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Zm.forEach(n,(function(t){return Zm.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Zm.forEach(t.Ki,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ig(e.t0)){e.next=10;break}throw e.t0;case 10:fm("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=N(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.rs.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.rs=r.rs.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}(a.localStore,s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function II(e,t){return(Mv=Mv||wc(kc().mark((function e(t,n){var r,i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=gm(t)).currentUser.isEqual(n)){e.next=11;break}return fm("SyncEngine","User change. New user:",n.toKey()),e.next=5,_x(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ca.forEach((function(e){e.forEach((function(e){e.reject(new km(ym.CANCELLED,t))}))})),e.Ca.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,EI(r,i.cs);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SI(e,t){var n=gm(e),r=n.Sa.get(t);if(r&&r.ma)return qk().add(r.key);var i=qk(),a=n.pa.get(t);if(!a)return i;var o,s=N(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ga.get(u);i=i.unionWith(c.view.la)}}catch(l){s.e(l)}finally{s.f()}return i}function TI(e,t){return(Fv=Fv||wc(kc().mark((function e(t,n){var r,i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gm(t),e.next=3,Ax(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ra(i),e.abrupt("return",(r.isPrimaryClient&&wI(r,n.targetId,a.Ea),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CI(e,t){return(Uv=Uv||wc(kc().mark((function e(t,n){var r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gm(t),e.abrupt("return",Dx(r.localStore,n).then((function(e){return EI(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NI(e,t,n,r){return(Vv=Vv||wc(kc().mark((function e(t,n,r,i){var a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=gm(t),e.next=3,function(e,t){var n=gm(e),r=gm(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Fn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Zm.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,IE(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(yI(a,n,i||null),gI(a,n),function(e,t){gm(gm(e).mutationQueue).xn(t)}(a.localStore,n)):vm();case 11:return e.next=13,EI(a,o);case 13:e.next=16;break;case 15:fm("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AI(e,t){return(zv=zv||wc(kc().mark((function e(t,n){var r,i,a,o,s,u,c,l;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jI(r=gm(t)),MI(r),!0!==n||!0===r.Fa){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,PI(r,i.toArray());case 5:return a=e.sent,r.Fa=!0,e.next=9,LE(r.remoteStore,!0);case 9:o=N(a);try{for(o.s();!(s=o.n()).done;)u=s.value,hE(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Fa){e.next=25;break}return c=[],l=Promise.resolve(),r.pa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return kI(r,t),Nx(r.localStore,t,!0)})),dE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,PI(r,c);case 21:return function(e){var t=gm(e);t.Sa.forEach((function(e,n){dE(t.remoteStore,n)})),t.ba.gr(),t.Sa=new Map,t.wa=new Gg(Vm.comparator)}(r),r.Fa=!1,e.next=25,LE(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PI(e,t,n){return(Bv=Bv||wc(kc().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,g;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=gm(t),a=[],o=[],s=N(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.pa.get(c))||0===f.length){e.next=34;break}return e.next=11,Cx(i.localStore,wk(f[0]));case 11:l=e.sent,h=N(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ga.get(p),e.next=20,TI(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Px(i.localStore,c);case 36:return g=e.sent,e.next=39,Cx(i.localStore,g);case 39:return l=e.sent,e.next=42,uI(i,DI(g),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.fa.c_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])})))).apply(this,arguments)}function DI(e){return pk(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function OI(e){return function(e){return gm(gm(e).persistence).ki()}(gm(e).localStore)}function RI(e,t,n,r){return(qv=qv||wc(kc().mark((function e(t,n,r,i){var a,o,s,u;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=gm(t)).Fa){e.next=3;break}return e.abrupt("return",void fm("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.pa.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Dx(a.localStore,Nk(o[0]));case 10:return s=e.sent,u=Ub.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,ty.EMPTY_BYTE_STRING),e.next=14,EI(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,Nx(a.localStore,n,!0);case 17:return kI(a,n,i),e.abrupt("break",20);case 19:vm();case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LI(e,t,n){return(Hv=Hv||wc(kc().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=jI(t)).Fa){e.next=45;break}a=N(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.pa.has(s)){e.next=10;break}return fm("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Px(i.localStore,s);case 12:return u=e.sent,e.next=15,Cx(i.localStore,u);case 15:return c=e.sent,e.next=18,uI(i,DI(u),c.targetId,!1,c.resumeToken);case 18:hE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=N(r),e.prev=30,h=kc().mark((function e(){var t;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.pa.has(t),!e.t0){e.next=5;break}return e.next=5,Nx(i.localStore,t,!1).then((function(){dE(i.remoteStore,t),kI(i,t)})).catch(Jm);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function jI(e){var t=gm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=fI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dI.bind(null,t),t.fa.c_=GE.bind(null,t.eventManager),t.fa.xa=QE.bind(null,t.eventManager),t}function MI(e){var t=gm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vI.bind(null,t),t}function FI(e,t,n){var r,i=gm(e);(function(e,t,n){return(r=r||wc(kc().mark((function e(t,n,r){var i,a,o,s,u;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=gm(e),r=nw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ur.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(eI(i)),a=new ZE(i,t.localStore,n.serializer),e.next=15,n.Oa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.na(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.Oa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,EI(t,u.sa,void 0);case 31:return e.next=33,function(e,t){var n=gm(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ur.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.ia));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(dm("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})))).apply(this,arguments)})(i,t,n).then((function(e){i.sharedClientState.notifyBundleLoaded(e)}))}var UI=function(e,t){function n(){p(this,n),this.synchronizeTabs=!1}return y(n,[{key:"initialize",value:function(t){return(e=e||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=nE(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return wx(this.persistence,new kx,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new sx(cx.Jr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Kx}},{key:"terminate",value:function(){return(t=t||wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),n}(),VI=function(e,t){b(r,e);var n=I(r);function r(e,t,i){var a;return p(this,r),(a=n.call(this)).Na=e,a.cacheSizeBytes=t,a.forceOwnership=i,a.synchronizeTabs=!1,a}return y(r,[{key:"initialize",value:function(e){return(t=t||wc(kc().mark((function e(t){var n=this;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt(w(r.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Na.initialize(this,t);case 4:return e.next=6,MI(this.Na.syncEngine);case 6:return e.next=8,IE(this.Na.remoteStore);case 8:return e.next=10,this.persistence.gi((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(),n.indexBackfillerScheduler&&!n.indexBackfillerScheduler.started&&n.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"createLocalStore",value:function(e){return wx(this.persistence,new kx,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new M_(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new lg(t,this.persistence);return new cg(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=mx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?__.withCacheSize(this.cacheSizeBytes):__.DEFAULT;return new dx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,eE(),tE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new Kx}}]),r}(UI),zI=function(e,t){b(r,e);var n=I(r);function r(e,t){var i;return p(this,r),(i=n.call(this,e,t,!1)).Na=e,i.cacheSizeBytes=t,i.synchronizeTabs=!0,i}return y(r,[{key:"initialize",value:function(e){return(t=t||wc(kc().mark((function e(t){var n,i,a=this;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt(w(r.prototype),"initialize",this).call(this,t);case 2:if(i=this.Na.syncEngine,e.t0=this.sharedClientState instanceof Hx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Xs:NI.bind(null,i),eo:RI.bind(null,i),no:LI.bind(null,i),ki:OI.bind(null,i),Zs:CI.bind(null,i)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.gi((function(e){return(n=n||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AI(a.Na.syncEngine,t);case 2:a.gcScheduler&&(t&&!a.gcScheduler.started?a.gcScheduler.start():t||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(t&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():t||a.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"createSharedClientState",value:function(e){var t=eE();if(!Hx.C(t))throw new km(ym.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=mx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Hx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),r}(VI),BI=function(e){function t(){p(this,t)}return y(t,[{key:"initialize",value:function(t,n){return(e=e||wc(kc().mark((function e(t,n){var r=this;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return hI(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=II.bind(null,this.syncEngine),e.next=12,LE(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"createEventManager",value:function(e){return new HE}},{key:"createDatastore",value:function(e){var t=nE(e.databaseInfo.databaseId),n=function(e){return new Zx(e)}(e.databaseInfo);return function(e,t,n,r){return new sE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new cE(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return hI(t.syncEngine,e,0)}),Gx.C()?new Gx:new Wx)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new oI(e,t,n,r,i,a);return o&&(s.Fa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){var e;return function(t){return(e=e||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gm(t),fm("RemoteStore","RemoteStore shutting down."),n.F_.add(5),e.next=5,fE(n);case 5:n.x_.shutdown(),n.O_.set("Unknown");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this.remoteStore)}}]),t}();function qI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return wc(kc().mark((function r(){var i;return kc().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var HI=function(){function e(t){p(this,e),this.observer=t,this.muted=!1}return y(e,[{key:"next",value:function(e){this.observer.next&&this.Ba(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ba(this.observer.error,e):hm("Uncaught Error in snapshot listener:",e.toString())}},{key:"La",value:function(){this.muted=!0}},{key:"Ba",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),KI=function(e,t,n,r,i,a){function o(e,t){var n=this;p(this,o),this.ka=e,this.serializer=t,this.metadata=new bm,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then((function(e){e&&e.ea()?n.metadata.resolve(e.X_.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.X_))))}),(function(e){return n.metadata.reject(e)}))}return y(o,[{key:"close",value:function(){return this.ka.cancel()}},{key:"getMetadata",value:function(){return(e=e||wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Oa",value:function(){return(t=t||wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Qa());case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Qa",value:function(){return(n=n||wc(kc().mark((function e(){var t,n,r,i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ka();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.qa.decode(t),r=Number(n),isNaN(r)&&this.$a("length string (".concat(n,") is not valid number")),e.next=9,this.Ua(r);case 9:return i=e.sent,e.abrupt("return",new $E(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Wa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ka",value:function(){return(r=r||wc(kc().mark((function e(){var t,n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Wa()<0)){e.next=7;break}return e.next=3,this.Ga();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Wa())<0&&this.$a("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Ua",value:function(e){return(i=i||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ga();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.$a("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.qa.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"$a",value:function(e){throw this.ka.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ga",value:function(){return(a=a||wc(kc().mark((function e(){var t,n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ka.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),o}(),WI=function(e,t){function n(e){p(this,n),this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return y(n,[{key:"lookup",value:function(t){return(e=e||wc(kc().mark((function e(t){var n,r,i=this;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new km(ym.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(e,t){return(n=n||wc(kc().mark((function e(t,n){var r,i,a,o,s,u;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gm(t),i=cw(r.serializer)+"/documents",a={documents:n.map((function(e){return aw(r.serializer,e)}))},e.next=5,r.Fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=dw(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());mm(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this.datastore,t);case 4:return r=e.sent,e.abrupt("return",(r.forEach((function(e){return i.recordVersion(e)})),r));case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Eb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){return(t=t||wc(kc().mark((function e(){var t,n,r=this;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return n=this.readVersions,this.mutations.forEach((function(e){n.delete(e.key.toString())})),n.forEach((function(e,t){var n=Vm.fromPath(t);r.mutations.push(new Ib(n,r.precondition(n)))})),e.next=7,function(e,n){return(t=t||wc(kc().mark((function e(t,n){var r,i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gm(t),i=cw(r.serializer)+"/documents",a={writes:n.map((function(e){return pw(r.serializer,e)}))},e.next=3,r.bo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw vm();t=Lm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new km(ym.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Lm.min())?cb.exists(!1):cb.updateTime(t):cb.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Lm.min()))throw new km(ym.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cb.updateTime(t)}return cb.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),n}(),GI=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.za=r.maxAttempts,this.Ho=new rE(this.asyncQueue,"transaction_retry")}return y(e,[{key:"run",value:function(){this.za-=1,this.ja()}},{key:"ja",value:function(){var e=this;this.Ho.Qo(wc(kc().mark((function t(){var n,r;return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new WI(e.datastore),(r=e.Ha(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ja(t)}))}))})).catch((function(t){e.Ja(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ha",value:function(e){try{var t=this.updateFunction(e);return!hg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ja",value:function(e){var t=this;this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget((function(){return t.ja(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ya",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ab(t)}return!1}}]),e}(),QI=function(e){function t(e,n,r,i){var a,o=this;p(this,t),this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sm.UNAUTHENTICATED,this.clientId=Am.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,(function(e){return(a=a||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fm("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)})),this.appCheckCredentials.start(r,(function(e){return fm("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return y(t,[{key:"getConfiguration",value:function(){return(e=e||wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new km(ym.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new bm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(wc(kc().mark((function n(){var r;return kc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=UE(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),t}();function YI(e,t){return(Kv=Kv||wc(kc().mark((function e(t,n){var r,i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),fm("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return i=e.sent,e.next=6,n.initialize(i);case 6:a=i.initialUser,t.setCredentialChangeListener((function(e){return(r=r||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.isEqual(t),e.t0){e.next=5;break}return e.next=4,_x(n.localStore,t);case 4:a=t;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)})),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XI(e,t){return(Wv=Wv||wc(kc().mark((function e(t,n){var r,i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,JI(t);case 3:return r=e.sent,fm("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return RE(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return RE(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $I(e){return"FirebaseError"===e.name?e.code===ym.FAILED_PRECONDITION||e.code===ym.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function JI(e){return(Gv=Gv||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return fm("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,YI(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),$I(n=e.t0)){e.next=13;break}throw n;case 13:return dm("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,YI(t,new UI);case 16:e.next=21;break;case 18:return fm("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,YI(t,new UI);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function ZI(e){return(Qv=Qv||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return fm("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,XI(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return fm("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,XI(t,new BI);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eS(e){return JI(e).then((function(e){return e.persistence}))}function tS(e){return JI(e).then((function(e){return e.localStore}))}function nS(e){return ZI(e).then((function(e){return e.remoteStore}))}function rS(e){return ZI(e).then((function(e){return e.syncEngine}))}function iS(e){return ZI(e).then((function(e){return e.datastore}))}function aS(e){return(Yv=Yv||wc(kc().mark((function e(t){var n,r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=sI.bind(null,n.syncEngine),r.onUnlisten=cI.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new bm;return e.asyncQueue.enqueueAndForget(wc(kc().mark((function i(){return kc().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new HI({next:function(a){t.enqueueAndForget((function(){return WE(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new km(ym.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new km(ym.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new XE(vk(n.path),a,{includeMetadataChanges:!0,Z_:!0});return KE(e,o)},i.next=3,aS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function sS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new bm;return e.asyncQueue.enqueueAndForget(wc(kc().mark((function i(){return kc().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new HI({next:function(n){t.enqueueAndForget((function(){return WE(e,o)})),n.fromCache&&"server"===r.source?i.reject(new km(ym.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new XE(n,a,{includeMetadataChanges:!0,Z_:!0});return KE(e,o)},i.next=3,aS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function uS(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var cS=new Map;function lS(e,t,n){if(!n)throw new km(ym.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function fS(e,t,n,r){if(!0===t&&!0===r)throw new km(ym.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function hS(e){if(!Vm.isDocumentKey(e))throw new km(ym.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function dS(e){if(Vm.isDocumentKey(e))throw new km(ym.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function pS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":vm()}function vS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new km(ym.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=pS(e);throw new km(ym.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function mS(e,t){if(t<=0)throw new km(ym.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var gS=function(){function e(t){var n,r;if(p(this,e),void 0===t.host){if(void 0!==t.ssl)throw new km(ym.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new km(ym.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uS(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new km(ym.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new km(ym.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new km(ym.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return y(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),yS=function(){function e(t,n,r,i){p(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gS({}),this._settingsFrozen=!1}return y(e,[{key:"app",get:function(){if(!this._app)throw new km(ym.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new km(ym.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gS(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new _m;switch(e.type){case"firstParty":return new Sm(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new km(ym.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=cS.get(e);t&&(fm("ComponentProvider","Removing Datastore"),cS.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function kS(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=vS(e,yS))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&dm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=sm.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Wu(JSON.stringify({alg:"none",type:"JWT"})),Wu(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new km(ym.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new sm(c)}e._authCredentials=new xm(new wm(s,u))}}var bS=function(){function e(t,n,r){p(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return y(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),wS=function(){function e(t,n,r){p(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return y(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new _S(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),_S=function(e){b(n,e);var t=I(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,vk(i)))._path=i,a.type="collection",a}return y(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new wS(this.firestore,null,new Vm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(bS);function xS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=yc(e),lS("collection","path",t),e instanceof yS){var a=Mm.fromString.apply(Mm,[t].concat(r));return dS(a),new _S(e,null,a)}if(!(e instanceof wS||e instanceof _S))throw new km(ym.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Mm.fromString.apply(Mm,[t].concat(r)));return dS(o),new _S(e.firestore,null,o)}function ES(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=yc(e),1===arguments.length&&(t=Am.V()),lS("doc","path",t),e instanceof yS){var a=Mm.fromString.apply(Mm,[t].concat(r));return hS(a),new wS(e,null,new Vm(a))}if(!(e instanceof wS||e instanceof _S))throw new km(ym.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Mm.fromString.apply(Mm,[t].concat(r)));return hS(o),new wS(e.firestore,e instanceof _S?e.converter:null,new Vm(o))}function IS(e,t){return e=yc(e),t=yc(t),(e instanceof wS||e instanceof _S)&&(t instanceof wS||t instanceof _S)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function SS(e,t){return e=yc(e),t=yc(t),e instanceof bS&&t instanceof bS&&e.firestore===t.firestore&&Ik(e._query,t._query)&&e.converter===t.converter}var TS=function(e,t){function n(){var e=this;p(this,n),this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new rE(this,"async_queue_retry"),this.ou=function(){var t=tE();t&&fm("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Ho.$o()};var t=tE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ou)}return y(n,[{key:"isShuttingDown",get:function(){return this.eu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this._u(),this.au(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.eu){this.eu=!0,this.iu=e||!1;var t=tE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}},{key:"enqueue",value:function(e){var t=this;if(this._u(),this.eu)return new Promise((function(){}));var n=new bm;return this.au((function(){return t.eu&&t.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Xa.push(e),t.uu()}))}},{key:"uu",value:function(){return(e=e||wc(kc().mark((function e(){var t=this;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Xa.length){e.next=14;break}return e.prev=1,e.next=4,this.Xa[0]();case 4:this.Xa.shift(),this.Ho.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ig(e.t0)){e.next=12;break}throw e.t0;case 12:fm("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Xa.length>0&&this.Ho.Qo((function(){return t.uu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})))).apply(this,arguments)}},{key:"au",value:function(e){var t=this,n=this.Za.then((function(){return t.ru=!0,e().catch((function(e){t.nu=e,t.ru=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw hm("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.ru=!1,e}))}));return this.Za=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this._u(),this.su.indexOf(e)>-1&&(t=0);var i=FE.createAndSchedule(this,e,t,n,(function(e){return r.cu(e)}));return this.tu.push(i),i}},{key:"_u",value:function(){this.nu&&vm()}},{key:"verifyOperationInProgress",value:function(){}},{key:"lu",value:function(){return(t=t||wc(kc().mark((function e(){var t;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Za,e.next=3,t;case 3:if(t!==this.Za){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"hu",value:function(e){var t,n=N(this.tu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.lu().then((function(){t.tu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=N(t.tu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.lu()}))}},{key:"Iu",value:function(e){this.su.push(e)}},{key:"cu",value:function(e){var t=this.tu.indexOf(e);this.tu.splice(t,1)}}]),n}();function CS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=N(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var NS=function(){function e(){p(this,e),this._progressObserver={},this._taskCompletionResolver=new bm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return y(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),AS=function(e){b(n,e);var t=I(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new TS,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return y(n,[{key:"_terminate",value:function(){return this._firestoreClient||DS(this),this._firestoreClient.terminate()}}]),n}(yS);function PS(e){return e._firestoreClient||DS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function DS(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new cy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,uS(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new QI(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function OS(e,t,n){var r=new bm;return e.asyncQueue.enqueue(wc(kc().mark((function i(){var a;return kc().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,YI(e,n);case 3:return i.next=5,XI(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),$I(a=i.t0)){i.next=13;break}throw a;case 13:dm("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function RS(e){return function(e){var t=new bm;return e.asyncQueue.enqueueAndForget(wc(kc().mark((function n(){return kc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=mI,n.next=3,rS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(PS(e=vS(e,AS)))}function LS(e){return function(e){return e.asyncQueue.enqueue(wc(kc().mark((function t(){var n,r;return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,eS(e);case 2:return n=t.sent,t.next=5,nS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=gm(e);return t.F_.delete(0),lE(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(PS(e=vS(e,AS)))}function jS(e){return function(e){return e.asyncQueue.enqueue(wc(kc().mark((function t(){var n,r,i;return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,eS(e);case 2:return r=t.sent,t.next=5,nS(e);case 5:return i=t.sent,t.abrupt("return",(r.setNetworkEnabled(!1),function(e){return(n=n||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=gm(t)).F_.add(0),e.next=4,fE(n);case 4:n.O_.set("Offline");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(i)));case 7:case"end":return t.stop()}}),t)}))))}(PS(e=vS(e,AS)))}function MS(e,t){var n=PS(e=vS(e,AS)),r=new NS;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new KI(e,t)}(function(e,t){if(e instanceof Uint8Array)return qI(e,t);if(e instanceof ArrayBuffer)return qI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?Ob().encode(e):e),t)}(n,nE(t));e.asyncQueue.enqueueAndForget(wc(kc().mark((function t(){return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=FI,t.next=3,rS(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function FS(e,t){return function(e,t){return e.asyncQueue.enqueue(wc(kc().mark((function n(){return kc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=gm(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ur.getNamedQuery(e,t)}))},n.next=3,tS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(PS(e=vS(e,AS)),t).then((function(t){return t?new bS(e,null,t.query):null}))}function US(e){if(e._initialized||e._terminated)throw new km(ym.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var VS=function(){function e(t){p(this,e),this._byteString=t}return y(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ty.fromBase64String(t))}catch(t){throw new km(ym.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ty.fromUint8Array(t))}}]),e}(),zS=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new km(ym.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Um(n)}return y(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var BS=y((function e(t){p(this,e),this._methodName=t})),qS=function(){function e(t,n){if(p(this,e),!isFinite(t)||t<-90||t>90)throw new km(ym.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new km(ym.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return y(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Pm(this._lat,e._lat)||Pm(this._long,e._long)}}]),e}(),HS=/^__.*__$/,KS=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new yb(e,this.data,this.fieldMask,t,this.fieldTransforms):new gb(e,this.data,t,this.fieldTransforms)}}]),e}(),WS=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return new yb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function GS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vm()}}var QS=function(){function e(t,n,r,i,a,o){p(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.du(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return y(e,[{key:"path",get:function(){return this.settings.path}},{key:"Tu",get:function(){return this.settings.Tu}},{key:"Eu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Au",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Ru:!1});return r.Vu(e),r}},{key:"mu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Ru:!1});return r.du(),r}},{key:"fu",value:function(e){return this.Eu({path:void 0,Ru:!0})}},{key:"gu",value:function(e){return pT(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"du",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}},{key:"Vu",value:function(e){if(0===e.length)throw this.gu("Document fields must not be empty");if(GS(this.Tu)&&HS.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}]),e}(),YS=function(){function e(t,n,r){p(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||nE(t)}return y(e,[{key:"wu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new QS({Tu:e,methodName:t,yu:n,path:Um.emptyPath(),Ru:!1,pu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function XS(e){var t=e._freezeSettings(),n=nE(e._databaseId);return new YS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function $S(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wu(a.merge||a.mergeFields?2:0,t,n,i);lT("Data must be an object, but it was:",o,r);var s,u,c=uT(r,o);if(a.merge)s=new Zg(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=N(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=fT(t,l.value,n);if(!o.contains(d))throw new km(ym.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));vT(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new Zg(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new KS(new Dy(c),s,u)}var JS=function(e){b(n,e);var t=I(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Tu)throw 1===e.Tu?e.gu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(BS);function ZS(e,t,n){return new QS({Tu:3,yu:t.settings.yu,methodName:e._methodName,Ru:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var eT=function(e){b(n,e);var t=I(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){return new sb(e.path,new Zk)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(BS),tT=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).Su=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=ZS(this,e,!0),n=this.Su.map((function(e){return sT(e,t)})),r=new eb(n);return new sb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(BS),nT=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).Su=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=ZS(this,e,!0),n=this.Su.map((function(e){return sT(e,t)})),r=new nb(n);return new sb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(BS),rT=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).bu=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=new ib(e.serializer,Qk(e.serializer,this.bu));return new sb(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(BS);function iT(e,t,n,r){var i=e.wu(1,t,n);lT("Data must be an object, but it was:",i,r);var a=[],o=Dy.empty();Kg(r,(function(e,r){var s=dT(t,e,n);r=yc(r);var u=i.mu(s);if(r instanceof JS)a.push(s);else{var c=sT(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Zg(a);return new WS(o,s,i.fieldTransforms)}function aT(e,t,n,r,i,a){var o=e.wu(1,t,n),s=[fT(t,r,n)],u=[i];if(a.length%2!=0)throw new km(ym.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(fT(t,a[c])),u.push(a[c+1]);for(var l=[],f=Dy.empty(),h=s.length-1;h>=0;--h)if(!vT(l,s[h])){var d=s[h],p=u[h];p=yc(p);var v=o.mu(d);if(p instanceof JS)l.push(d);else{var m=sT(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Zg(l);return new WS(f,g,o.fieldTransforms)}function oT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return sT(n,e.wu(r?4:3,t))}function sT(e,t){if(cT(e=yc(e)))return lT("Unsupported field value:",t,e),uT(e,t);if(e instanceof BS)return function(e,t){if(!GS(t.Tu))throw t.gu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ru&&4!==t.Tu)throw t.gu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=N(e);try{for(a.s();!(n=a.n()).done;){var o=sT(n.value,t.fu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=yc(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Qk(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Rm.fromDate(e);return{timestampValue:Zb(t.serializer,n)}}if(e instanceof Rm){var r=new Rm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Zb(t.serializer,r)}}if(e instanceof qS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof VS)return{bytesValue:ew(t.serializer,e._byteString)};if(e instanceof wS){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.gu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:rw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.gu("Unsupported field value: ".concat(pS(e)))}(e,t)}function uT(e,t){var n={};return Wg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Kg(e,(function(e,r){var i=sT(r,t.Au(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function cT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Rm||e instanceof qS||e instanceof VS||e instanceof wS||e instanceof BS)}function lT(e,t,n){if(!cT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=pS(n);throw"an object"===r?t.gu(e+" a custom object"):t.gu(e+" "+r)}}function fT(e,t,n){if((t=yc(t))instanceof zS)return t._internalPath;if("string"==typeof t)return dT(e,t);throw pT("Field path arguments must be of type string or ",e,!1,void 0,n)}var hT=new RegExp("[~\\*/\\[\\]]");function dT(e,t,n){if(t.search(hT)>=0)throw pT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return S(zS,d(t.split(".")))._internalPath}catch(nt){throw pT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function pT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new km(ym.INVALID_ARGUMENT,s+e+u)}function vT(e,t){return e.some((function(e){return e.isEqual(t)}))}var mT=function(){function e(t,n,r,i,a){p(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return y(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new wS(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new gT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(yT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),gT=function(e){b(n,e);var t=I(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){return jt(w(n.prototype),"data",this).call(this)}}]),n}(mT);function yT(e,t){return"string"==typeof t?dT(e,t):t instanceof zS?t._internalPath:t._delegate._internalPath}function kT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new km(ym.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var bT=y((function e(){p(this,e)})),wT=function(e){b(n,e);var t=I(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n)}(bT);function _T(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof bT&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof ET})).length,n=e.filter((function(e){return e instanceof xT})).length;if(t>1||t>0&&n>0)throw new km(ym.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=N(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var xT=function(e){b(n,e);var t=I(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return y(n,[{key:"_apply",value:function(e){var t=this._parse(e);return jT(e._query,t),new bS(e.firestore,e.converter,xk(e._query,t))}},{key:"_parse",value:function(e){var t=XS(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new km(ym.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){LT(o,a);var u,c=[],l=N(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(RT(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=RT(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||LT(o,a),s=oT(n,t,o,"in"===a||"not-in"===a);return zy.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(wT);var ET=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return y(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:By.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=N(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;jT(r,a),r=xk(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new bS(e.firestore,e.converter,xk(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(bT);var IT=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return y(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new km(ym.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new km(ym.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Fy(t,n);return function(e,t){if(null===gk(e)){var n=yk(e);null!==n&&MT(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new bS(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new dk(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(wT);var ST=function(e){b(n,e);var t=I(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return y(n,[{key:"_apply",value:function(e){return new bS(e.firestore,e.converter,Ek(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(wT);var TT=function(e){b(n,e);var t=I(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=OT(e,this.type,this._docOrFields,this._inclusive);return new bS(e.firestore,e.converter,function(e,t){return new dk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(wT);function CT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return TT._create("startAt",t,!0)}function NT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return TT._create("startAfter",t,!1)}var AT=function(e){b(n,e);var t=I(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=OT(e,this.type,this._docOrFields,this._inclusive);return new bS(e.firestore,e.converter,function(e,t){return new dk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(wT);function PT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return AT._create("endBefore",t,!1)}function DT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return AT._create("endAt",t,!0)}function OT(e,t,n,r){if(n[0]=yc(n[0]),n[0]instanceof mT)return function(e,t,n,r,i){if(!r)throw new km(ym.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=N(bk(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(by(t,r.key));else{var c=r.data.field(u.field);if(oy(c))throw new km(ym.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new km(ym.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Ly(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=XS(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new km(ym.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new km(ym.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!kk(e)&&-1!==c.indexOf("/"))throw new km(ym.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Mm.fromString(c));if(!Vm.isDocumentKey(l))throw new km(ym.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Vm(l);s.push(by(t,f))}else{var h=oT(n,r,c);s.push(h)}}return new Ly(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function RT(e,t,n){if("string"==typeof(n=yc(n))){if(""===n)throw new km(ym.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kk(t)&&-1!==n.indexOf("/"))throw new km(ym.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Mm.fromString(n));if(!Vm.isDocumentKey(r))throw new km(ym.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return by(e,new Vm(r))}if(n instanceof wS)return by(e,n._key);throw new km(ym.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(pS(n),"."))}function LT(e,t){if(!Array.isArray(e)||0===e.length)throw new km(ym.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function jT(e,t){if(t.isInequality()){var n=yk(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new km(ym.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=gk(e);null!==i&&MT(e,r,i)}var a=function(e,t){var n,r=N(e);try{for(r.s();!(n=r.n()).done;){var i,a=N(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new km(ym.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new km(ym.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function MT(e,t,n){if(!n.isEqual(t))throw new km(ym.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var FT=function(){function e(){p(this,e)}return y(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(dy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return iy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ay(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vm()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Kg(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new qS(iy(e.latitude),iy(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=sy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(uy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ry(e);return new Rm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Mm.fromString(e);mm(Tw(n));var r=new ly(n.get(1),n.get(3)),i=new Vm(n.popFirst(5));return r.isEqual(t)||hm("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function UT(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var VT=function(e){b(n,e);var t=I(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new VS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new wS(this.firestore,null,t)}}]),n}(FT);var zT=function(){function e(t,n){p(this,e),this.hasPendingWrites=t,this.fromCache=n}return y(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),BT=function(e){b(n,e);var t=I(n);function n(e,r,i,a,o,s){var u;return p(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return y(n,[{key:"exists",value:function(){return jt(w(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new qT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(yT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(mT),qT=function(e){b(n,e);var t=I(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jt(w(n.prototype),"data",this).call(this,e)}}]),n}(BT),HT=function(){function e(t,n,r,i){p(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new zT(i.hasPendingWrites,i.fromCache),this.query=r}return y(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new qT(n._firestore,n._userDataWriter,r.key,r,new zT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new km(ym.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new qT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new qT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:KT(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function KT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vm()}}function WT(e,t){return e instanceof BT&&t instanceof BT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof HT&&t instanceof HT&&e._firestore===t._firestore&&SS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var GT=function(e){b(n,e);var t=I(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new VS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new wS(this.firestore,null,t)}}]),n}(FT);function QT(e){e=vS(e,wS);var t=vS(e.firestore,AS),n=PS(t),r=new GT(t);return function(e,t){var n=new bm;return e.asyncQueue.enqueueAndForget(wc(kc().mark((function r(){var i;return kc().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(e,t,n){return(i=i||wc(kc().mark((function e(t,n,r){var i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=gm(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new km(ym.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=UE(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)},r.next=3,tS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new BT(t,r,e._key,n,new zT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function YT(e){e=vS(e,bS);var t=vS(e.firestore,AS),n=PS(t),r=new GT(t);return kT(e._query),sS(n,e._query).then((function(n){return new HT(t,r,e,n)}))}function XT(e){e=vS(e,bS);var t=vS(e.firestore,AS),n=PS(t),r=new GT(t);return function(e,t){var n=new bm;return e.asyncQueue.enqueueAndForget(wc(kc().mark((function r(){var i;return kc().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(e,t,n){return(i=i||wc(kc().mark((function e(t,n,r){var i,a,o,s,u;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ax(t,n,!0);case 3:i=e.sent,a=new rI(n,i.Ps),o=a.ha(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=UE(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)},r.next=3,tS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new HT(t,r,e,n)}))}function $T(e){e=vS(e,bS);var t=vS(e.firestore,AS),n=PS(t),r=new GT(t);return sS(n,e._query,{source:"server"}).then((function(n){return new HT(t,r,e,n)}))}function JT(e,t,n){e=vS(e,wS);var r=vS(e.firestore,AS),i=UT(e.converter,t,n);return nC(r,[$S(XS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,cb.none())])}function ZT(e,t,n){e=vS(e,wS);for(var r=vS(e.firestore,AS),i=XS(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return nC(r,[("string"==typeof(t=yc(t))||t instanceof zS?aT(i,"updateDoc",e._key,t,n,o):iT(i,"updateDoc",e._key,t)).toMutation(e._key,cb.exists(!0))])}function eC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=yc(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||CS(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(CS(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof wS)l=vS(e.firestore,AS),f=vk(e._key.path),c={next:function(t){n[u]&&n[u](rC(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=vS(e,bS);l=vS(p.firestore,AS),f=p._query;var v=new GT(l);c={next:function(e){n[u]&&n[u](new HT(l,v,p,e))},error:n[u+1],complete:n[u+2]},kT(e._query)}return function(e,t,n,r){var i=new HI(r),a=new XE(t,i,n);return e.asyncQueue.enqueueAndForget(wc(kc().mark((function t(){return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=KE,t.next=3,aS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.La(),e.asyncQueue.enqueueAndForget(wc(kc().mark((function t(){return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=WE,t.next=3,aS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(PS(l),f,h,c)}function tC(e,t){return function(e,t){var n=new HI(t);return e.asyncQueue.enqueueAndForget(wc(kc().mark((function t(){return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){gm(e).K_.add(t),t.next()},t.next=3,aS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.La(),e.asyncQueue.enqueueAndForget(wc(kc().mark((function t(){return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){gm(e).K_.delete(t)},t.next=3,aS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(PS(e=vS(e,AS)),CS(t)?t:{next:t})}function nC(e,t){return function(e,t){var n=new bm;return e.asyncQueue.enqueueAndForget(wc(kc().mark((function r(){return kc().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=lI,r.next=3,rS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(PS(e),t)}function rC(e,t,n){var r=n.docs.get(t._key),i=new GT(e);return new BT(e,i,t._key,r,new zT(n.hasPendingWrites,n.fromCache),t.converter)}var iC={maxAttempts:5},aC=function(){function e(t,n){p(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=XS(t)}return y(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=oC(e,this._firestore),i=UT(r.converter,t,n),a=$S(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,cb.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=oC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=yc(t))||t instanceof zS?aT(this._dataReader,"WriteBatch.update",i._key,t,n,o):iT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,cb.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=oC(e,this._firestore);return this._mutations=this._mutations.concat(new Eb(t._key,cb.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new km(ym.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function oC(e,t){if((e=yc(e)).firestore!==t)throw new km(ym.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var sC=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r))._firestore=e,i}return y(n,[{key:"get",value:function(e){var t=this,r=oC(e,this._firestore),i=new GT(this._firestore);return jt(w(n.prototype),"get",this).call(this,e).then((function(e){return new BT(t._firestore,i,r._key,e._document,new zT(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){p(this,e),this._firestore=t,this._transaction=n,this._dataReader=XS(t)}return y(e,[{key:"get",value:function(e){var t=this,n=oC(e,this._firestore),r=new VT(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return vm();var i=e[0];if(i.isFoundDocument())return new mT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new mT(t._firestore,r,n._key,null,n.converter);throw vm()}))}},{key:"set",value:function(e,t,n){var r=oC(e,this._firestore),i=UT(r.converter,t,n),a=$S(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=oC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=yc(t))||t instanceof zS?aT(this._dataReader,"Transaction.update",i._key,t,n,o):iT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=oC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function uC(e,t,n){e=vS(e,AS);var r=Object.assign(Object.assign({},iC),n);return function(e){if(e.maxAttempts<1)throw new km(ym.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new bm;return e.asyncQueue.enqueueAndForget(wc(kc().mark((function i(){var a;return kc().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,iS(e);case 2:a=i.sent,new GI(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(PS(e),(function(n){return t(new sC(e,n))}),r)}function cC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tT("arrayUnion",t)}function lC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nT("arrayRemove",t)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){um=e}(kl),hl(new _c("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new AS(new Em(e.getProvider("auth-internal")),new Cm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new km(ym.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ly(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),El(om,"4.2.0",e),El(om,"4.2.0","esm2017")}();function fC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new km("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function hC(){if("undefined"===typeof Uint8Array)throw new km("unimplemented","Uint8Arrays are not available in this environment.")}function dC(){if("undefined"==typeof atob)throw new km("unimplemented","Blobs are unavailable in Firestore in this environment.")}var pC=function(){function e(t){p(this,e),this._delegate=t}return y(e,[{key:"toBase64",value:function(){return dC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return hC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return dC(),new e(VS.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return hC(),new e(VS.fromUint8Array(t))}}]),e}();function vC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=N(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var mC=function(){function e(){p(this,e)}return y(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){US(e=vS(e,AS));var n=PS(e);if(n._uninitializedComponentsProvider)throw new km(ym.FAILED_PRECONDITION,"SDK cache is already specified.");dm("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new BI;return OS(n,i,new VI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){US(e=vS(e,AS));var t=PS(e);if(t._uninitializedComponentsProvider)throw new km(ym.FAILED_PRECONDITION,"SDK cache is already specified.");dm("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new BI;return OS(t,r,new zI(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new km(ym.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new bm;return e._queue.enqueueAndForgetEvenWhileRestricted(wc(kc().mark((function n(){var r;return kc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(e){return(r=r||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tg.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,tg.delete(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(mx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),gC=function(){function e(t,n,r){var i=this;p(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ly||(this._appCompat=t)}return y(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||dm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};kS(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return LS(this._delegate)}},{key:"disableNetwork",value:function(){return jS(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&fS("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return RS(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return tC(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new km("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new PC(this,xS(this._delegate,e))}catch(t){throw xC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new _C(this,ES(this._delegate,e))}catch(t){throw xC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new CC(this,function(e,t){if(e=vS(e,yS),lS("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new km(ym.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new bS(e,null,function(e){return new dk(Mm.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw xC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return uC(this._delegate,(function(n){return e(new kC(t,n))}))}},{key:"batch",value:function(){var e=this;return PS(this._delegate),new bC(new aC(this._delegate,(function(t){return nC(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return MS(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return FS(this._delegate,e).then((function(e){return e?new CC(t,e):null}))}}]),e}(),yC=function(e){b(n,e);var t=I(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new pC(new VS(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return _C.forKey(t,this.firestore,null)}}]),n}(FT);var kC=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new yC(t)}return y(e,[{key:"get",value:function(e){var t=this,n=DC(e);return this._delegate.get(n).then((function(e){return new SC(t._firestore,new BT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=DC(e);return n?(fC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=DC(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=DC(e);return this._delegate.delete(t),this}}]),e}(),bC=function(){function e(t){p(this,e),this._delegate=t}return y(e,[{key:"set",value:function(e,t,n){var r=DC(e);return n?(fC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=DC(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=DC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),wC=function(){function e(t,n,r){p(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return y(e,[{key:"fromFirestore",value:function(e,t){var n=new qT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new TC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new yC(t),n),i.set(n,a)),a}}]),e}();wC.INSTANCES=new WeakMap;var _C=function(){function e(t,n){p(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new yC(t)}return y(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new PC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new PC(this.firestore,xS(this._delegate,e))}catch(t){throw xC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=yc(e))instanceof wS&&IS(this._delegate,e)}},{key:"set",value:function(e,t){t=fC("DocumentReference.set",t);try{return t?JT(this._delegate,e,t):JT(this._delegate,e)}catch(n){throw xC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?ZT(this._delegate,e):ZT.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw xC(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return nC(vS((e=this._delegate).firestore,AS),[new Eb(e._key,cb.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=EC(n),a=IC(n,(function(t){return new SC(e.firestore,new BT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return eC(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?QT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=vS(e,wS);var t=vS(e.firestore,AS);return oS(PS(t),e._key,{source:"server"}).then((function(n){return rC(t,e,n)}))}(this._delegate):function(e){e=vS(e,wS);var t=vS(e.firestore,AS);return oS(PS(t),e._key).then((function(n){return rC(t,e,n)}))}(this._delegate)).then((function(e){return new SC(t.firestore,new BT(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(wC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new km("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new wS(n._delegate,r,new Vm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new wS(n._delegate,r,t))}}]),e}();function xC(e,t,n){return e.message=e.message.replace(t,n),e}function EC(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!vC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function IC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=vC(e[0])?e[0]:vC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var SC=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"ref",get:function(){return new _C(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return WT(this._delegate,e._delegate)}}]),e}(),TC=function(e){b(n,e);var t=I(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||vm(),t}}]),n}(SC),CC=function(){function e(t,n){p(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new yC(t)}return y(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,_T(this._delegate,function(e,t,n){var r=t,i=yT("where",e);return xT._create(i,r,n)}(t,n,r)))}catch(i){throw xC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,_T(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=yT("orderBy",e);return IT._create(n,t)}(t,n)))}catch(r){throw xC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,_T(this._delegate,(mS("limit",n=t),ST._create("limit",n,"F"))))}catch(n){throw xC(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,_T(this._delegate,(mS("limitToLast",n=t),ST._create("limitToLast",n,"L"))))}catch(n){throw xC(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,_T(this._delegate,CT.apply(void 0,arguments)))}catch(t){throw xC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,_T(this._delegate,NT.apply(void 0,arguments)))}catch(t){throw xC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,_T(this._delegate,PT.apply(void 0,arguments)))}catch(t){throw xC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,_T(this._delegate,DT.apply(void 0,arguments)))}catch(t){throw xC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return SS(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?XT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?$T(this._delegate):YT(this._delegate)).then((function(e){return new AC(t.firestore,new HT(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=EC(n),a=IC(n,(function(t){return new AC(e.firestore,new HT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return eC(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(wC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),NC=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new TC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),AC=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"query",get:function(){return new CC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new TC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new NC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new TC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return WT(this._delegate,e._delegate)}}]),e}(),PC=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return y(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new _C(this.firestore,e):null}},{key:"doc",value:function(e){try{return new _C(this.firestore,void 0===e?ES(this._delegate):ES(this._delegate,e))}catch(t){throw xC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=vS(e.firestore,AS),r=ES(e),i=UT(e.converter,t);return nC(n,[$S(XS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,cb.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new _C(t.firestore,e)}))}},{key:"isEqual",value:function(e){return IS(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(wC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(CC);function DC(e){return vS(e,wS)}var OC,RC=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=S(zS,n)}return y(e,[{key:"isEqual",value:function(e){return(e=yc(e))instanceof zS&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Um.keyField().canonicalString())}}]),e}(),LC=function(){function e(t){p(this,e),this._delegate=t}return y(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new eT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new JS("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=cC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=lC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new rT("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),jC={Firestore:gC,GeoPoint:qS,Timestamp:Rm,Blob:pC,Transaction:kC,WriteBatch:bC,DocumentReference:_C,DocumentSnapshot:SC,Query:CC,QueryDocumentSnapshot:TC,QuerySnapshot:AC,CollectionReference:PC,FieldPath:RC,FieldValue:LC,setLogLevel:function(e){var t;t=e,cm.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new _c("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},jC)))})(OC=Ql,(function(e,t){return new gC(e,t,new mC)})),OC.registerVersion("@firebase/firestore-compat","0.3.18");function MC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var FC,UC,VC,zC,BC,qC,HC,KC,WC,GC,QC,YC,XC,$C,JC,ZC,eN,tN,nN,rN,iN,aN,oN,sN,uN,cN,lN,fN,hN,dN,pN,vN,mN,gN,yN,kN,bN,wN,_N,xN,EN,IN,SN,TN,CN,NN,AN,PN,DN,ON,RN,LN,jN,MN,FN,UN,VN,zN,BN,qN,HN,KN,WN,GN,QN,YN,XN,$N,JN,ZN,eA,tA,nA,rA,iA,aA,oA,sA,uA,cA,lA,fA,hA,dA,pA={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},vA="EMAIL_SIGNIN",mA="PASSWORD_RESET",gA="RECOVER_EMAIL",yA="REVERT_SECOND_FACTOR_ADDITION",kA="VERIFY_AND_CHANGE_EMAIL",bA="VERIFY_EMAIL";function wA(e){return void 0!==e&&void 0!==e.getResponse}function _A(e){return void 0!==e&&void 0!==e.enterprise}var xA=y((function e(t){if(p(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function EA(){return Je({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var IA=function(){var e;return Je(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Je(e,"argument-error",""),Je(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Je(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Je(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Je(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Je(e,"cordova-not-ready","Cordova framework is not ready."),Je(e,"cors-unsupported","This browser is not supported."),Je(e,"credential-already-in-use","This credential is already associated with a different user account."),Je(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Je(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Je(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Je(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Je(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Je(e,"email-already-in-use","The email address is already in use by another account."),Je(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Je(e,"expired-action-code","The action code has expired."),Je(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Je(e,"internal-error","An internal AuthError has occurred."),Je(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Je(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Je(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Je(e,"invalid-auth-event","An internal AuthError has occurred."),Je(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Je(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Je(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Je(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Je(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Je(e,"invalid-email","The email address is badly formatted."),Je(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Je(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Je(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Je(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Je(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Je(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Je(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Je(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Je(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Je(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Je(e,"wrong-password","The password is invalid or the user does not have a password."),Je(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Je(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Je(e,"invalid-provider-id","The specified provider ID is invalid."),Je(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Je(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Je(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Je(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Je(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Je(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Je(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Je(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Je(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Je(e,"missing-continue-uri","A continue URL must be provided in the request."),Je(e,"missing-iframe-start","An internal AuthError has occurred."),Je(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Je(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Je(e,"missing-password","A non-empty password must be provided"),Je(e,"missing-multi-factor-info","No second factor identifier is provided."),Je(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Je(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Je(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Je(e,"app-deleted","This instance of FirebaseApp has been deleted."),Je(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Je(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Je(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Je(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Je(e,"no-auth-event","An internal AuthError has occurred."),Je(e,"no-such-provider","User was not linked to an account with the given provider."),Je(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Je(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Je(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Je(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Je(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Je(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Je(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Je(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Je(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Je(e,"rejected-credential","The request contains malformed or mismatching credentials."),Je(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Je(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Je(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Je(e,"timeout","The operation has timed out."),Je(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Je(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Je(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Je(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Je(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Je(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Je(e,"unverified-email","The operation requires a verified email."),Je(e,"user-cancelled","The user did not grant your application the permissions it requested."),Je(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Je(e,"user-disabled","The user account has been disabled by an administrator."),Je(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Je(e,"user-signed-out",""),Je(e,"weak-password","The password must be 6 characters long or more."),Je(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Je(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Je(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Je(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Je(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Je(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Je(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Je(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Je(e,"invalid-req-type","Invalid request parameters."),Je(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),Je(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),Je(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},SA=EA,TA=new oc("auth","Firebase",EA()),CA=new Oc("@firebase/auth");function NA(e){if(CA.logLevel<=Sc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];CA.warn.apply(CA,["Auth (".concat(kl,"): ").concat(e)].concat(n))}}function AA(e){if(CA.logLevel<=Sc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];CA.error.apply(CA,["Auth (".concat(kl,"): ").concat(e)].concat(n))}}function PA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw LA.apply(void 0,[e].concat(n))}function DA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return LA.apply(void 0,[e].concat(n))}function OA(e,t,n){var r=Object.assign(Object.assign({},SA()),Je({},t,n));return new oc("auth","Firebase",r).create(t,{appName:e.name})}function RA(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&PA(e,"argument-error"),OA(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function LA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=d(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(d(o)))}return TA.create.apply(TA,[e].concat(n))}function jA(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw LA.apply(void 0,[t].concat(r))}}function MA(e){var t="INTERNAL ASSERTION FAILED: "+e;throw AA(t),new Error(t)}function FA(e,t){e||MA(t)}function UA(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function VA(){return"http:"===zA()||"https:"===zA()}function zA(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var BA=function(){function e(t,n){p(this,e),this.shortDelay=t,this.longDelay=n,FA(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zu())||nc()}return y(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(VA()||tc()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function qA(e,t){FA(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var HA=function(){function e(){p(this,e)}return y(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void MA("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void MA("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void MA("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),KA=(Je(FC={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Je(FC,"MISSING_CUSTOM_TOKEN","internal-error"),Je(FC,"INVALID_IDENTIFIER","invalid-email"),Je(FC,"MISSING_CONTINUE_URI","internal-error"),Je(FC,"INVALID_PASSWORD","wrong-password"),Je(FC,"MISSING_PASSWORD","missing-password"),Je(FC,"EMAIL_EXISTS","email-already-in-use"),Je(FC,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Je(FC,"INVALID_IDP_RESPONSE","invalid-credential"),Je(FC,"INVALID_PENDING_TOKEN","invalid-credential"),Je(FC,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Je(FC,"MISSING_REQ_TYPE","internal-error"),Je(FC,"EMAIL_NOT_FOUND","user-not-found"),Je(FC,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Je(FC,"EXPIRED_OOB_CODE","expired-action-code"),Je(FC,"INVALID_OOB_CODE","invalid-action-code"),Je(FC,"MISSING_OOB_CODE","internal-error"),Je(FC,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Je(FC,"INVALID_ID_TOKEN","invalid-user-token"),Je(FC,"TOKEN_EXPIRED","user-token-expired"),Je(FC,"USER_NOT_FOUND","user-token-expired"),Je(FC,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Je(FC,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),Je(FC,"INVALID_CODE","invalid-verification-code"),Je(FC,"INVALID_SESSION_INFO","invalid-verification-id"),Je(FC,"INVALID_TEMPORARY_PROOF","invalid-credential"),Je(FC,"MISSING_SESSION_INFO","missing-verification-id"),Je(FC,"SESSION_EXPIRED","code-expired"),Je(FC,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Je(FC,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Je(FC,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Je(FC,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Je(FC,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Je(FC,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Je(FC,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Je(FC,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Je(FC,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Je(FC,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Je(FC,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Je(FC,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Je(FC,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Je(FC,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Je(FC,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Je(FC,"MISSING_CLIENT_TYPE","missing-client-type"),Je(FC,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Je(FC,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Je(FC,"INVALID_REQ_TYPE","invalid-req-type"),FC),WA=new BA(3e4,6e4);function GA(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function QA(e,t,n,r){return(UC=UC||wc(kc().mark((function e(t,n,r,i){var a,o=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",YA(t,a,wc(kc().mark((function e(){var a,o,s,u;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=hc(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",HA.fetch()($A(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YA(e,t,n){return(VC=VC||wc(kc().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,d,p;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},KA),n),e.prev=2,a=new JA(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw ZA(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=f(c,2),h=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw ZA(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw ZA(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw ZA(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw OA(t,p,d);case 34:PA(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ac)){e.next=41;break}throw e.t0;case 41:PA(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function XA(e,t,n,r){return(zC=zC||wc(kc().mark((function e(t,n,r,i){var a,o,s=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,QA(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&PA(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $A(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?qA(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var JA=function(){function e(t){var n=this;p(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(DA(n.auth,"network-request-failed"))}),WA.get())}))}return y(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ZA(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=DA(e,t,r);return i.customData._tokenResponse=n,i}function eP(e){return(BC=BC||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QA(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tP(e,t){return(qC=qC||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(t,"GET","/v2/recaptchaConfig",GA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nP(e,t){return(HC=HC||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rP(e,t){return(KC=KC||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iP(e,t){return(WC=WC||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aP(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function oP(e){return 1e3*Number(e)}function sP(e){var t=f(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return AA("JWT malformed, contained fewer than 3 sections"),null;try{var a=Gu(r);return a?JSON.parse(a):(AA("Failed to decode base64 JWT payload"),null)}catch(o){return AA("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function uP(e,t){return(QC=QC||wc(kc().mark((function e(t,n){var r=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ac&&cP(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function cP(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var lP=function(e){function t(e){p(this,t),this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return y(t,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(wc(kc().mark((function t(){return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){return(e=e||wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})))).apply(this,arguments)}}]),t}(),fP=function(){function e(t,n){p(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return y(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=aP(this.lastLoginAt),this.creationTime=aP(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function hP(e){return(YC=YC||wc(kc().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,uP(t,iP(r,{idToken:i}));case 6:jA(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=MC(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=dP(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new fP(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dP(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(d(n),d(t))}function pP(e,t){return($C=$C||wc(kc().mark((function e(t,n){var r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YA(t,{},wc(kc().mark((function e(){var r,i,a,o,s,u;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hc({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=$A(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",HA.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vP=function(e,t){function n(){p(this,n),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return y(n,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){jA(e.idToken,"internal-error"),jA("undefined"!==typeof e.idToken,"internal-error"),jA("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=sP(e);return jA(t,"internal-error"),jA("undefined"!==typeof t.exp,"internal-error"),jA("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(t){return(e=e||wc(kc().mark((function e(t){var n,r=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],jA(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(e,n){return(t=t||wc(kc().mark((function e(t,n){var r,i,a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pP(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new n,this.toJSON())}},{key:"_performRefresh",value:function(){return MA("not implemented")}}],[{key:"fromJSON",value:function(e,t){var r=t.refreshToken,i=t.accessToken,a=t.expirationTime,o=new n;return r&&(jA("string"===typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(jA("string"===typeof i,"internal-error",{appName:e}),o.accessToken=i),a&&(jA("number"===typeof a,"internal-error",{appName:e}),o.expirationTime=a),o}}]),n}();function mP(e,t){jA("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var gP=function(e,t,n,r){function i(e){p(this,i);var t=e.uid,n=e.auth,r=e.stsTokenManager,a=MC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?d(a.providerData):[],this.metadata=new fP(a.createdAt||void 0,a.lastLoginAt||void 0)}return y(i,[{key:"getIdToken",value:function(t){return(e=e||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uP(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(jA(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getIdTokenResult",value:function(e){return function(e){return(GC=GC||wc(kc().mark((function e(t){var n,r,i,a,o,s,u=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=yc(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,jA((a=sP(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:aP(oP(a.auth_time)),issuedAtTime:aP(oP(a.iat)),expirationTime:aP(oP(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return(XC=XC||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yc(t),e.next=3,hP(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(jA(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(e){var t=new i(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}},{key:"_onReload",value:function(e){jA(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(e){return(t=t||wc(kc().mark((function e(t){var n,r,i=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,hP(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"delete",value:function(){return(n=n||wc(kc().mark((function e(){var t;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,uP(this,nP(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(e,t){var n,r,a,o,s,u,c,l,f=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,v=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,k=t.uid,b=t.emailVerified,w=t.isAnonymous,_=t.providerData,x=t.stsTokenManager;jA(k&&x,e,"internal-error");var E=vP.fromJSON(this.name,x);jA("string"===typeof k,e,"internal-error"),mP(f,e.name),mP(h,e.name),jA("boolean"===typeof b,e,"internal-error"),jA("boolean"===typeof w,e,"internal-error"),mP(d,e.name),mP(p,e.name),mP(v,e.name),mP(m,e.name),mP(g,e.name),mP(y,e.name);var I=new i({uid:k,auth:e,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(I.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(e,t){return(r=r||wc(kc().mark((function e(t,n){var r,a,o,s=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],(a=new vP).updateFromServerResponse(n),o=new i({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r}),e.next=6,hP(o);case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),i}(),yP=new Map;function kP(e){FA(e instanceof Function,"Expected a class definition");var t=yP.get(e);return t?(FA(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,yP.set(e,t),t)}var bP=function(e,t,n,r){function i(){p(this,i),this.type="NONE",this.storage={}}return y(i,[{key:"_isAvailable",value:function(){return(e=e||wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"_set",value:function(e,n){return(t=t||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_get",value:function(e){return(n=n||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_remove",value:function(e){return(r=r||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),i}();bP.type="NONE";var wP=bP;function _P(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var xP=function(e,t,n){function r(e,t,n){p(this,r),this.persistence=e,this.auth=t,this.userKey=n;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=_P(this.userKey,a.apiKey,o),this.fullPersistenceKey=_P("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return y(r,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){return(e=e||wc(kc().mark((function e(){var t;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?gP._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(e){return(t=t||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(e,t){return(n=n||wc(kc().mark((function e(t,n){var i,a,o,s,u,c,l,f,h,d,p,v,m,g=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=g.length>2&&void 0!==g[2]?g[2]:"authUser",n.length){e.next=3;break}return e.abrupt("return",new r(kP(wP),t,o));case 3:return e.next=5,Promise.all(n.map((function(e){return(i=i||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)})));case 5:s=e.sent.filter((function(e){return e})),u=s[0]||kP(wP),c=_P(o,t.config.apiKey,t.name),l=null,f=N(n),e.prev=10,f.s();case 12:if((h=f.n()).done){e.next=29;break}return d=h.value,e.prev=14,e.next=17,d._get(c);case 17:if(!(p=e.sent)){e.next=23;break}return v=gP._fromJSON(t,p),d!==u&&(l=v),u=d,e.abrupt("break",29);case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(14);case 27:e.next=12;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(10),f.e(e.t1);case 34:return e.prev=34,f.f(),e.finish(34);case 37:if(m=s.filter((function(e){return e._shouldAllowMigration})),u._shouldAllowMigration&&m.length){e.next=40;break}return e.abrupt("return",new r(u,t,o));case 40:if(u=m[0],!l){e.next=44;break}return e.next=44,u._set(c,l.toJSON());case 44:return e.next=46,Promise.all(n.map((function(e){return(a=a||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===u){e.next=8;break}return e.prev=1,e.next=4,t._remove(c);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)})));case 46:return e.abrupt("return",new r(u,t,o));case 47:case"end":return e.stop()}}),e,null,[[10,31,34,37],[14,25]])})))).apply(this,arguments)}}]),r}();function EP(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(CP(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(IP(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(AP(t))return"Blackberry";if(PP(t))return"Webos";if(SP(t))return"Safari";if((t.includes("chrome/")||TP(t))&&!t.includes("edge/"))return"Chrome";if(NP(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function IP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zu();return/firefox\//i.test(e)}function SP(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zu()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zu();return/crios\//i.test(e)}function CP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zu();return/iemobile/i.test(e)}function NP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zu();return/android/i.test(e)}function AP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zu();return/blackberry/i.test(e)}function PP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zu();return/webos/i.test(e)}function DP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zu();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function OP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zu();return DP(e)||NP(e)||PP(e)||AP(e)||/windows phone/i.test(e)||CP(e)}function RP(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=EP(Zu());break;case"Worker":t="".concat(EP(Zu()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(kl,"/").concat(r)}var LP=function(e){function t(e){p(this,t),this.auth=e,this.queue=[]}return y(t,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(t){return(e=e||wc(kc().mark((function e(t){var n,r,i,a,o,s,u;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=N(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=N(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(kt){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})))).apply(this,arguments)}}]),t}();function jP(e){return(JC=JC||wc(kc().mark((function e(t){var n,r=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",QA(t,"GET","/v2/passwordPolicy",GA(t,n)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var MP=function(){function e(t){var n,r,i,a;p(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return y(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),FP=function(e,t,n,r,i,a,o,s,u,c,l,f,h,d,v,m,g){function k(e,t,n,r){p(this,k),this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VP(this),this.idTokenSubscription=new VP(this),this.beforeStateQueue=new LP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}return y(k,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=kP(t)),this._initializationPromise=this.queue(wc(kc().mark((function r(){var i,a;return kc().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,xP.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){return(e=e||wc(kc().mark((function e(){var t;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"initializeCurrentUser",value:function(e){return(t=t||wc(kc().mark((function e(t){var n,r,i,a,o,s,u;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return jA(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})))).apply(this,arguments)}},{key:"tryRedirectSignIn",value:function(e){return(n=n||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})))).apply(this,arguments)}},{key:"reloadAndSetCurrentUserOrClear",value:function(e){return(r=r||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hP(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})))).apply(this,arguments)}},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){return(i=i||wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"updateCurrentUser",value:function(e){return(a=a||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?yc(t):null)&&jA(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_updateCurrentUser",value:function(e){return(o=o||wc(kc().mark((function e(t){var n,r=this,i=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&jA(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"signOut",value:function(){return(s=s||wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"setPersistence",value:function(e){var t=this;return this.queue(wc(kc().mark((function n(){return kc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(kP(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(e){return(u=u||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){return(c=c||wc(kc().mark((function e(){var t,n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jP(this);case 2:t=e.sent,n=new MP(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new oc("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(e,t){return(l=l||wc(kc().mark((function e(t,n){var r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getOrInitRedirectPersistenceManager",value:function(e){return(f=f||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return jA(n=t&&kP(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,xP.create(this,[kP(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_redirectUserForId",value:function(e){return(h=h||wc(kc().mark((function e(t){var n,r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_persistUserIfCurrent",value:function(e){return(d=d||wc(kc().mark((function e(t){var n=this;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(jA(s,this,"internal-error"),s.then((function(){o||a(i.currentUser)})),"function"===typeof t){var u=e.addObserver(t,n,r);return function(){o=!0,u()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(e){return(v=v||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return jA(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RP(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){return(m=m||wc(kc().mark((function e(){var t,n,r,i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Je({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_getAppCheckToken",value:function(){return(g=g||wc(kc().mark((function e(){var t,n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&NA("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),k}();function UP(e){return yc(e)}var VP=function(){function e(t){var n=this;p(this,e),this.auth=t,this.observer=null,this.addObserver=vc((function(e){return n.observer=e}))}return y(e,[{key:"next",get:function(){return jA(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function zP(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=DA("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function BP(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var qP=function(e){function t(e){p(this,t),this.type="recaptcha-enterprise",this.auth=UP(e)}return y(t,[{key:"verify",value:function(){return(e=e||wc(kc().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,t,r){var i=window.grecaptcha;_A(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:n}).then((function(e){t(e)})).catch((function(){t("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(e){return(t=t||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise((function(e,r){return(n=n||wc(kc().mark((function e(n,r){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tP(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new xA(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},n=s.length>0&&void 0!==s[0]?s[0]:"verify",r=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){i(o.auth).then((function(n){if(!r&&_A(window.grecaptcha))a(n,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));zP("https://www.google.com/recaptcha/enterprise.js?render="+n).then((function(){a(n,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),t}();function HP(e,t,n){return(ZC=ZC||wc(kc().mark((function e(t,n,r){var i,a,o,s,u=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new qP(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function KP(e,t,n){var r=UP(e);jA(r._canInitEmulator,r,"emulator-config-failed"),jA(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=WP(t),o=function(e){var t=WP(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:GP(r.substr(a.length+1))}}var o=f(r.split(":"),2);return{host:o[0],port:GP(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function WP(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function GP(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var QP=function(){function e(t,n){p(this,e),this.providerId=t,this.signInMethod=n}return y(e,[{key:"toJSON",value:function(){return MA("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return MA("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return MA("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return MA("not implemented")}}]),e}();function YP(e,t){return(eN=eN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(t,"POST","/v1/accounts:resetPassword",GA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XP(e,t){return(tN=tN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $P(e,t){return(nN=nN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(t,"POST","/v1/accounts:update",GA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JP(e,t){return(rN=rN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",XA(t,"POST","/v1/accounts:signInWithPassword",GA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZP(e,t){return(iN=iN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(t,"POST","/v1/accounts:sendOobCode",GA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eD(e,t){return(aN=aN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZP(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tD(e,t){return(oN=oN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZP(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nD(e,t){return(sN=sN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZP(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rD(e,t){return(uN=uN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZP(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iD(e,t){return(cN=cN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",XA(t,"POST","/v1/accounts:signInWithEmailLink",GA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aD(e,t){return(lN=lN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",XA(t,"POST","/v1/accounts:signInWithEmailLink",GA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oD=function(e,t,n){b(i,e);var r=I(i);function i(e,t,n){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p(this,i),(a=r.call(this,"password",n))._email=e,a._password=t,a._tenantId=o,a}return y(i,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(e){return(t=t||wc(kc().mark((function e(t){var n,r,i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,HP(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",JP(t,i));case 11:return e.abrupt("return",JP(t,r).catch((function(e){return(a=a||wc(kc().mark((function e(n){var i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,HP(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",JP(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)})));case 12:return e.abrupt("return",iD(t,{email:this._email,oobCode:this._password}));case 13:PA(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_linkToIdToken",value:function(e,t){return(n=n||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",XP(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",aD(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:PA(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new i(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new i(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),i}(QP);function sD(e,t){return(fN=fN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",XA(t,"POST","/v1/accounts:signInWithIdp",GA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uD=function(e){b(n,e);var t=I(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return y(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return sD(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,sD(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,sD(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hc(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):PA("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=MC(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(QP);function cD(e,t){return(hN=hN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(t,"POST","/v1/accounts:sendVerificationCode",GA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lD=Je({},"USER_NOT_FOUND","user-not-found");var fD=function(e){b(n,e);var t=I(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone","phone")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return(dN=dN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",XA(t,"POST","/v1/accounts:signInWithPhoneNumber",GA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return(pN=pN||wc(kc().mark((function e(t,n){var r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XA(t,"POST","/v1/accounts:signInWithPhoneNumber",GA(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ZA(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return(vN=vN||wc(kc().mark((function e(t,n){var r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",XA(t,"POST","/v1/accounts:signInWithPhoneNumber",GA(t,r),lD));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(QP);var hD=function(){function e(t){var n,r,i,a,o,s;p(this,e);var u=dc(pc(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);jA(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return y(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=dc(pc(e)).link,n=t?dc(pc(t)).deep_link_id:null,r=dc(pc(e)).deep_link_id;return(r?dc(pc(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var dD=function(){function e(){p(this,e),this.providerId=e.PROVIDER_ID}return y(e,null,[{key:"credential",value:function(e,t){return oD._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=hD.parseLink(t);return jA(n,"argument-error"),oD._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();dD.PROVIDER_ID="password",dD.EMAIL_PASSWORD_SIGN_IN_METHOD="password",dD.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var pD=function(){function e(t){p(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return y(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),vD=function(e){b(n,e);var t=I(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).scopes=[],e}return y(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return d(this.scopes)}}]),n}(pD),mD=function(e){b(n,e);var t=I(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return jA(e.idToken||e.accessToken,"argument-error"),uD._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return jA("providerId"in t&&"signInMethod"in t,"argument-error"),uD._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(vD),gD=function(e){b(n,e);var t=I(n);function n(){return p(this,n),t.call(this,"facebook.com")}return y(n,null,[{key:"credential",value:function(e){return uD._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(vD);gD.FACEBOOK_SIGN_IN_METHOD="facebook.com",gD.PROVIDER_ID="facebook.com";var yD=function(e){b(n,e);var t=I(n);function n(){var e;return p(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return y(n,null,[{key:"credential",value:function(e,t){return uD._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(vD);yD.GOOGLE_SIGN_IN_METHOD="google.com",yD.PROVIDER_ID="google.com";var kD=function(e){b(n,e);var t=I(n);function n(){return p(this,n),t.call(this,"github.com")}return y(n,null,[{key:"credential",value:function(e){return uD._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(vD);kD.GITHUB_SIGN_IN_METHOD="github.com",kD.PROVIDER_ID="github.com";var bD=function(e){b(n,e);var t=I(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return y(n,[{key:"_getIdTokenResponse",value:function(e){return sD(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,sD(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,sD(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(QP),wD=function(e){b(n,e);var t=I(n);function n(e){return p(this,n),jA(e.startsWith("saml."),"argument-error"),t.call(this,e)}return y(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=bD.fromJSON(e);return jA(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return bD._create(r,n)}catch(i){return null}}}]),n}(pD),_D=function(e){b(n,e);var t=I(n);function n(){return p(this,n),t.call(this,"twitter.com")}return y(n,null,[{key:"credential",value:function(e,t){return uD._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(vD);function xD(e,t){return(mN=mN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",XA(t,"POST","/v1/accounts:signUp",GA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}_D.TWITTER_SIGN_IN_METHOD="twitter.com",_D.PROVIDER_ID="twitter.com";var ED=function(e,t){function n(e){p(this,n),this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}return y(n,null,[{key:"_fromIdTokenResponse",value:function(t,r,i){return(e=e||wc(kc().mark((function e(t,r,i){var a,o,s,u,c=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],e.next=3,gP._fromIdTokenResponse(t,i,a);case 3:return o=e.sent,s=ID(i),u=new n({user:o,providerId:s,_tokenResponse:i,operationType:r}),e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"_forOperation",value:function(e,r,i){return(t=t||wc(kc().mark((function e(t,r,i){var a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._updateTokensIfNecessary(i,!0);case 2:return a=ID(i),e.abrupt("return",new n({user:t,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),n}();function ID(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var SD=function(e){b(n,e);var t=I(n);function n(e,r,i,a){var o,s;return p(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(x(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return y(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ac);function TD(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw SD._fromErrorAndOperation(e,n,t,r);throw n}))}function CD(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function ND(e,t){return(yN=yN||wc(kc().mark((function e(t,n){var r,i,a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yc(t),e.next=3,PD(!0,r,n);case 3:return e.t0=rP,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=CD(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AD(e,t){return(kN=kN||wc(kc().mark((function e(t,n){var r,i,a=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=uP,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ED._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PD(e,t,n){return(bN=bN||wc(kc().mark((function e(t,n,r){var i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hP(n);case 2:i=CD(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",jA(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DD(e,t){return(wN=wN||wc(kc().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,uP(t,TD(i,a,n,t),r);case 6:return jA((o=e.sent).idToken,i,"internal-error"),jA(s=sP(o.idToken),i,"internal-error"),u=s.sub,jA(t.uid===u,i,"user-mismatch"),e.abrupt("return",ED._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&PA(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}function OD(e,t){return(_N=_N||wc(kc().mark((function e(t,n){var r,i,a,o,s=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,TD(t,i,n);case 4:return a=e.sent,e.next=7,ED._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RD(e,t){return(xN=xN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",OD(UP(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LD(e,t){return(EN=EN||wc(kc().mark((function e(t,n){var r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yc(t),e.next=3,PD(!1,r,n.providerId);case 3:return e.abrupt("return",AD(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jD(e,t){return(IN=IN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",DD(yc(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MD(e,t){return(SN=SN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",XA(t,"POST","/v1/accounts:signInWithCustomToken",GA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var FD=function(){function e(t,n){p(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return y(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?UD._fromServerResponse(e,t):"totpInfo"in t?VD._fromServerResponse(e,t):PA(e,"internal-error")}}]),e}(),UD=function(e){b(n,e);var t=I(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return y(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(FD),VD=function(e){b(n,e);var t=I(n);function n(e){return p(this,n),t.call(this,"totp",e)}return y(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(FD);function zD(e,t,n){var r;jA((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),jA("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(jA(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(jA(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function BD(e){return(CN=CN||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=UP(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qD(e,t){return(DN=DN||wc(kc().mark((function e(t,n){var r,i,a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yc(t),e.next=3,YP(r,{oobCode:n});case 3:i=e.sent,jA(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return jA(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:jA(i.mfaInfo,r,"internal-error");case 13:jA(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=FD._fromServerResponse(UP(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HD(e,t,n){return(RN=RN||wc(kc().mark((function e(t,n,r){var i,a,o,s,u,c,l,f;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=UP(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,HP(a,o,"signUpPassword");case 5:u=e.sent,s=xD(a,u),e.next=10;break;case 9:s=xD(a,o).catch((function(e){return(c=c||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=6;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,HP(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",xD(a,n));case 6:throw t;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 10:return e.next=12,s.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&BD(t),e}));case 12:return l=e.sent,e.next=15,ED._fromIdTokenResponse(a,"signIn",l);case 15:return f=e.sent,e.next=18,a._updateCurrentUser(f.user);case 18:return e.abrupt("return",f);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KD(e,t){return(MN=MN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(t,"POST","/v1/accounts:createAuthUri",GA(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WD(e,t){return(zN=zN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GD(e,t,n){return(qN=qN||wc(kc().mark((function e(t,n,r){var i,a,o,s;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,uP(t,XP(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var QD=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),YD=function(e){b(n,e);var t=I(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,e,r,i)).username=a,o}return y(n)}(QD),XD=function(e){b(n,e);var t=I(n);function n(e,r){return p(this,n),t.call(this,e,"facebook.com",r)}return y(n)}(QD),$D=function(e){b(n,e);var t=I(n);function n(e,r){return p(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return y(n)}(YD),JD=function(e){b(n,e);var t=I(n);function n(e,r){return p(this,n),t.call(this,e,"google.com",r)}return y(n)}(QD),ZD=function(e){b(n,e);var t=I(n);function n(e,r,i){return p(this,n),t.call(this,e,"twitter.com",r,i)}return y(n)}(YD);function eO(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=sP(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new QD(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new XD(a,i);case"github.com":return new $D(a,i);case"google.com":return new JD(a,i);case"twitter.com":return new ZD(a,i,e.screenName||null);case"custom":case"anonymous":return new QD(a,null);default:return new QD(a,r,i)}}(n)}var tO=function(){function e(t,n,r){p(this,e),this.type=t,this.credential=n,this.user=r}return y(e,[{key:"toJSON",value:function(){return{multiFactorSession:Je({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),nO=function(e){function t(e,n,r){p(this,t),this.session=e,this.hints=n,this.signInResolver=r}return y(t,[{key:"resolveSignIn",value:function(t){return(e=e||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}],[{key:"_fromError",value:function(e,n){var r,i=UP(e),a=n.customData._serverResponse,o=(a.mfaInfo||[]).map((function(e){return FD._fromServerResponse(i,e)}));jA(a.mfaPendingCredential,i,"internal-error");var s=tO._fromMfaPendingCredential(a.mfaPendingCredential);return new t(s,o,(function(e){return(r=r||wc(kc().mark((function e(t){var r,o,u;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(i,s);case 2:r=e.sent,delete a.mfaInfo,delete a.mfaPendingCredential,o=Object.assign(Object.assign({},a),{idToken:r.idToken,refreshToken:r.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ED._fromIdTokenResponse(i,n.operationType,o);case 11:return u=e.sent,e.next=14,i._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return jA(n.user,i,"internal-error"),e.abrupt("return",ED._forOperation(n.user,n.operationType,o));case 17:PA(i,"internal-error");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}))}}]),t}();function rO(e,t){return QA(e,"POST","/v2/accounts/mfaEnrollment:start",GA(e,t))}function iO(e,t){return QA(e,"POST","/v2/accounts/mfaEnrollment:start",GA(e,t))}function aO(e,t){return QA(e,"POST","/v2/accounts/mfaEnrollment:finalize",GA(e,t))}function oO(e,t){return QA(e,"POST","/v2/accounts/mfaEnrollment:withdraw",GA(e,t))}var sO=function(e,t,n){function r(e){var t=this;p(this,r),this.user=e,this.enrolledFactors=[],e._onReload((function(n){n.mfaInfo&&(t.enrolledFactors=n.mfaInfo.map((function(t){return FD._fromServerResponse(e.auth,t)})))}))}return y(r,[{key:"getSession",value:function(){return(e=e||wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=tO,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"enroll",value:function(e,n){return(t=t||wc(kc().mark((function e(t,n){var r,i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,uP(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"unenroll",value:function(e){return(n=n||wc(kc().mark((function e(t){var n,r,i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,uP(this.user,oO(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})))).apply(this,arguments)}}],[{key:"_fromUser",value:function(e){return new r(e)}}]),r}(),uO=new WeakMap;var cO="__sak",lO=function(){function e(t,n){p(this,e),this.storageRetriever=t,this.type=n}return y(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(cO,"1"),this.storage.removeItem(cO),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var fO=function(e,t,n,r){b(a,e);var i=I(a);function a(){var e;return p(this,a),(e=i.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Zu();return SP(e)||DP(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=OP(),e._shouldAllowMigration=!0,e}return y(a,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);rc()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(e,n){return(t=t||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt(w(a.prototype),"_set",this).call(this,t,n);case 2:this.localCache[t]=JSON.stringify(n);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_get",value:function(e){return(n=n||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt(w(a.prototype),"_get",this).call(this,t);case 2:return n=e.sent,this.localCache[t]=JSON.stringify(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_remove",value:function(e){return(r=r||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt(w(a.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),a}(lO);fO.type="LOCAL";var hO=fO,dO=function(e){b(n,e);var t=I(n);function n(){return p(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return y(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(lO);dO.type="SESSION";var pO=dO;function vO(e){var t;return Promise.all(e.map((function(e){return(t=t||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)})))}var mO=function(e){function t(e){p(this,t),this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return y(t,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(t){return(e=e||wc(kc().mark((function e(t){var n,r,i,a,o,s,u,c,l;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(r=t).data,a=i.eventId,o=i.eventType,s=i.data,null===(u=this.handlersMap[o])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return r.ports[0].postMessage({status:"ack",eventId:a,eventType:o}),c=Array.from(u).map((function(e){return(n=n||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(r.origin,s));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)})),e.next=9,vO(c);case 9:l=e.sent,r.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:l});case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(e){var n=this.receivers.find((function(t){return t.isListeningto(e)}));if(n)return n;var r=new t(e);return this.receivers.push(r),r}}]),t}();function gO(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}mO.receivers=[];var yO=function(e){function t(e){p(this,t),this.target=e,this.handlers=new Set}return y(t,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(t,n){return(e=e||wc(kc().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=gO("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),t}();function kO(){return window}function bO(e){kO().location.href=e}function wO(){return"undefined"!==typeof kO().WorkerGlobalScope&&"function"===typeof kO().importScripts}function _O(){return(HN=HN||wc(kc().mark((function e(){var t;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function xO(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var EO="firebaseLocalStorageDb",IO="firebaseLocalStorage",SO="fbase_key",TO=function(){function e(t){p(this,e),this.request=t}return y(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function CO(e,t){return e.transaction([IO],t?"readwrite":"readonly").objectStore(IO)}function NO(){var e=indexedDB.deleteDatabase(EO);return new TO(e).toPromise()}function AO(){var e=indexedDB.open(EO,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(IO,{keyPath:SO})}catch(r){n(r)}})),e.addEventListener("success",wc(kc().mark((function n(){var r;return kc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(IO)){n.next=12;break}return r.close(),n.next=5,NO();case 5:return n.t0=t,n.next=8,AO();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function PO(e,t,n){return(KN=KN||wc(kc().mark((function e(t,n,r){var i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=CO(t,!0).put((Je(i={},SO,n),Je(i,"value",r),i)),e.abrupt("return",new TO(a).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DO(e,t){return(WN=WN||wc(kc().mark((function e(t,n){var r,i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=CO(t,!1).get(n),e.next=3,new TO(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OO(e,t){var n=CO(e,!0).delete(t);return new TO(n).toPromise()}var RO=function(e,t,n,r,i,a,o,s,u,c,l,f){function h(){p(this,h),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return y(h,[{key:"_openDb",value:function(){return(e=e||wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,AO();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_withRetries",value:function(e){return(t=t||wc(kc().mark((function e(t){var n,r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})))).apply(this,arguments)}},{key:"initializeServiceWorkerMessaging",value:function(){return(n=n||wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wO()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"initializeReceiver",value:function(){return(r=r||wc(kc().mark((function e(){var t,n,r=this;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=mO._getInstance(wO()?self:null),this.receiver._subscribe("keyChanged",(function(e,n){return(t=t||wc(kc().mark((function e(t,n){var i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(n.key)});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)})),this.receiver._subscribe("ping",(function(e,t){return(n=n||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"initializeSender",value:function(){return(i=i||wc(kc().mark((function e(){var t,n,r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_O();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new yO(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"notifyServiceWorker",value:function(e){return(a=a||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&xO()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})))).apply(this,arguments)}},{key:"_isAvailable",value:function(){return(o=o||wc(kc().mark((function e(){var t;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,AO();case 5:return t=e.sent,e.next=8,PO(t,cO,"1");case 8:return e.next=10,OO(t,cO);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}},{key:"_withPendingWrite",value:function(e){return(s=s||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})))).apply(this,arguments)}},{key:"_set",value:function(e,t){return(u=u||wc(kc().mark((function e(t,n){var r=this;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return PO(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_get",value:function(e){return(c=c||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return DO(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_remove",value:function(e){return(l=l||wc(kc().mark((function e(t){var n=this;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return OO(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_poll",value:function(){return(f=f||wc(kc().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=CO(e,!1).getAll();return new TO(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=N(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(wc(kc().mark((function t(){return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),h}();RO.type="LOCAL";var LO=RO;function jO(e,t){return QA(e,"POST","/v2/accounts/mfaSignIn:start",GA(e,t))}function MO(e,t){return QA(e,"POST","/v2/accounts/mfaSignIn:finalize",GA(e,t))}var FO=1e12,UO=function(e){function t(e){p(this,t),this.auth=e,this.counter=FO,this._widgets=new Map}return y(t,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new VO(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||FO;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||FO;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(t){return(e=e||wc(kc().mark((function e(t){var n,r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||FO,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),t}(),VO=function(){function e(t,n,r){var i=this;p(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;jA(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return y(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var zO=BP("rcb"),BO=new BA(3e4,6e4),qO=function(){function e(){var t;p(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=kO().grecaptcha)||void 0===t?void 0:t.render)}return y(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return jA(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&wA(kO().grecaptcha)?Promise.resolve(kO().grecaptcha):new Promise((function(r,i){var a=kO().setTimeout((function(){i(DA(e,"network-request-failed"))}),BO.get());kO()[zO]=function(){kO().clearTimeout(a),delete kO()[zO];var o=kO().grecaptcha;if(o&&wA(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(DA(e,"internal-error"))},zP("".concat("https://www.google.com/recaptcha/api.js?","?").concat(hc({onload:zO,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(DA(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=kO().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var HO=function(e){function t(){p(this,t)}return y(t,[{key:"load",value:function(t){return(e=e||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new UO(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"clearedOneInstance",value:function(){}}]),t}(),KO="recaptcha",WO={theme:"light",type:"image"},GO=function(e,t,n){function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},WO);p(this,r),this.parameters=n,this.type=KO,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=UP(e),this.isInvisible="invisible"===this.parameters.size,jA("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;jA(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new HO:new qO,this.validateStartingState()}return y(r,[{key:"verify",value:function(){return(e=e||wc(kc().mark((function e(){var t,n,r,i=this;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){jA(!this.parameters.sitekey,this.auth,"argument-error"),jA(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),jA("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=kO()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){jA(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){return(t=t||wc(kc().mark((function e(){var t,n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"init",value:function(){return(n=n||wc(kc().mark((function e(){var t;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jA(VA()&&!wO(),this.auth,"internal-error"),e.next=3,QO();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,eP(this.auth);case 8:jA(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getAssertedRecaptcha",value:function(){return jA(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),r}();function QO(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var YO=function(){function e(t,n){p(this,e),this.verificationId=t,this.onConfirmation=n}return y(e,[{key:"confirm",value:function(e){var t=fD._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function XO(e,t,n){return(QN=QN||wc(kc().mark((function e(t,n,r){var i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yc(t),e.next=3,PD(!1,i,"phone");case 3:return e.next=5,$O(i.auth,n,yc(r));case 5:return a=e.sent,e.abrupt("return",new YO(a,(function(e){return LD(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $O(e,t,n){return(XN=XN||wc(kc().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,jA("string"===typeof a,t,"argument-error"),jA(r.type===KO,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return jA("enroll"===s.type,t,"internal-error"),e.next=13,rO(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return jA("signin"===s.type,t,"internal-error"),jA(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,jO(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,cD(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}var JO=function(){function e(t){p(this,e),this.providerId=e.PROVIDER_ID,this.auth=UP(t)}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return $O(this.auth,e,yc(t))}}],[{key:"credential",value:function(e,t){return fD._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?fD._fromTokenResponse(n,r):null}}]),e}();function ZO(e,t){return t?kP(t):(jA(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}JO.PROVIDER_ID="phone",JO.PHONE_SIGN_IN_METHOD="phone";var eR=function(e){b(n,e);var t=I(n);function n(e){var r;return p(this,n),(r=t.call(this,"custom","custom")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return sD(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return sD(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return sD(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(QP);function tR(e){return OD(e.auth,new eR(e),e.bypassAuthState)}function nR(e){var t=e.auth,n=e.user;return jA(n,t,"internal-error"),DD(n,new eR(e),e.bypassAuthState)}function rR(e){return(JN=JN||wc(kc().mark((function e(t){var n,r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,jA(r=t.user,n,"internal-error"),e.abrupt("return",AD(r,new eR(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var iR=function(e){function t(e,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];p(this,t),this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return y(t,[{key:"execute",value:function(){var e,t=this;return new Promise((function(n,r){return(e=e||wc(kc().mark((function e(n,r){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pendingPromise={resolve:n,reject:r},e.prev=1,e.next=4,t.resolver._initialize(t.auth);case 4:return t.eventManager=e.sent,e.next=7,t.onExecution();case 7:t.eventManager.registerConsumer(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.reject(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}))}},{key:"onAuthEvent",value:function(t){return(e=e||wc(kc().mark((function e(t){var n,r,i,a,o,s,u;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})))).apply(this,arguments)}},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tR;case"linkViaPopup":case"linkViaRedirect":return rR;case"reauthViaPopup":case"reauthViaRedirect":return nR;default:PA(this.auth,"internal-error")}}},{key:"resolve",value:function(e){FA(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){FA(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),t}(),aR=new BA(2e3,1e4);function oR(e,t,n){return(ZN=ZN||wc(kc().mark((function e(t,n,r){var i,a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=UP(t),RA(t,n,pD),a=ZO(i,r),o=new uR(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sR(e,t,n){return(tA=tA||wc(kc().mark((function e(t,n,r){var i,a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return RA((i=yc(t)).auth,n,pD),a=ZO(i.auth,r),o=new uR(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uR=function(e,t,n){b(i,e);var r=I(i);function i(e,t,n,a,o){var s;return p(this,i),(s=r.call(this,e,t,a,o)).provider=n,s.authWindow=null,s.pollId=null,i.currentPopupAction&&i.currentPopupAction.cancel(),i.currentPopupAction=x(s),s}return y(i,[{key:"executeNotNull",value:function(){return(t=t||wc(kc().mark((function e(){var t;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return jA(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"onExecution",value:function(){return(n=n||wc(kc().mark((function e(){var t,n=this;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return FA(1===this.filter.length,"Popup operations only handle one event"),t=gO(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(DA(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(DA(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,i.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(DA(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,aR.get())}()}}]),i}(iR);uR.currentPopupAction=null;var cR="pendingRedirect",lR=new Map,fR=function(e,t,n,r){b(a,e);var i=I(a);function a(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return p(this,a),(n=i.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r)).eventId=null,n}return y(a,[{key:"execute",value:function(){return(t=t||wc(kc().mark((function e(){var t,n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=lR.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,hR(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,jt(w(a.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:n=e.t0,t=function(){return Promise.resolve(n)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:lR.set(this.auth._key(),t);case 21:return this.bypassAuthState||lR.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})))).apply(this,arguments)}},{key:"onAuthEvent",value:function(e){return(n=n||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",jt(w(a.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(n=e.sent)){e.next=16;break}return this.user=n,e.abrupt("return",jt(w(a.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"onExecution",value:function(){return(r=r||wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"cleanUp",value:function(){}}]),a}(iR);function hR(e,t){return(nA=nA||wc(kc().mark((function e(t,n){var r,i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mR(n),i=vR(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dR(e,t){return(rA=rA||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vR(t)._set(mR(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pR(e,t){lR.set(e._key(),t)}function vR(e){return kP(e._redirectPersistence)}function mR(e){return _P(cR,e.config.apiKey,e.name)}function gR(e,t,n){return function(e,t,n){return(iA=iA||wc(kc().mark((function e(t,n,r){var i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=UP(t),RA(t,n,pD),e.next=4,i._initializationPromise;case 4:return a=ZO(i,r),e.next=7,dR(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,t,n)}function yR(e,t,n){return function(e,t,n){return(aA=aA||wc(kc().mark((function e(t,n,r){var i,a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return RA((i=yc(t)).auth,n,pD),e.next=4,i.auth._initializationPromise;case 4:return a=ZO(i.auth,r),e.next=7,dR(a,i.auth);case 7:return e.next=9,_R(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,t,n)}function kR(e,t,n){return function(e,t,n){return(oA=oA||wc(kc().mark((function e(t,n,r){var i,a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return RA((i=yc(t)).auth,n,pD),e.next=4,i.auth._initializationPromise;case 4:return a=ZO(i.auth,r),e.next=7,PD(!1,i,n.providerId);case 7:return e.next=9,dR(a,i.auth);case 9:return e.next=11,_R(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,t,n)}function bR(e,t){return(sA=sA||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UP(t)._initializationPromise;case 2:return e.abrupt("return",wR(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wR(e,t){return(uA=uA||wc(kc().mark((function e(t,n){var r,i,a,o,s,u=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=UP(t),a=ZO(i,n),o=new fR(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _R(e){return(cA=cA||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gO("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xR=function(){function e(t){p(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return y(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IR(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!IR(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(DA(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ER(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ER(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ER(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function IR(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function SR(e){return(lA=lA||wc(kc().mark((function e(t){var n,r=arguments;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",QA(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var TR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CR=/^https?/;function NR(e){var t=UA(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!CR.test(r))return!1;if(TR.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var AR=new BA(3e4,6e4);function PR(){var e=kO().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=d(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var DR=null;function OR(e){return DR=DR||function(e){return new Promise((function(t,n){var r,i,a;function o(){PR(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){PR(),n(DA(e,"network-request-failed"))},timeout:AR.get()})}if(null===(i=null===(r=kO().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=kO().gapi)||void 0===a?void 0:a.load)){var s=BP("iframefcb");return kO()[s]=function(){gapi.load?o():n(DA(e,"network-request-failed"))},zP("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw DR=null,e}))}(e),DR}var RR=new BA(5e3,15e3),LR="__/auth/iframe",jR="emulator/auth/iframe",MR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UR(e){var t=e.config;jA(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?qA(t,jR):"https://".concat(e.config.authDomain,"/").concat(LR),r={apiKey:t.apiKey,appName:e.name,v:kl},i=FR.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(hc(r).slice(1))}function VR(e){return(hA=hA||wc(kc().mark((function e(t){var n,r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OR(t);case 2:return n=e.sent,jA(r=kO().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:UR(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MR,dontclear:!0},(function(e){var n;return new Promise((function(r,i){return(n=n||wc(kc().mark((function n(r,i){var a,o,s;return kc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){kO().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=DA(t,"network-request-failed"),o=kO().setTimeout((function(){i(a)}),RR.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BR=function(){function e(t){p(this,e),this.window=t,this.associatedEvent=null}return y(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function qR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},zR),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Zu().toLowerCase();n&&(s=TP(c)?"_blank":n),IP(c)&&(t=t||"http://localhost",u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=f(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return DP(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zu())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new BR(null);var h=window.open(t||"",s,l);jA(h,e,"popup-blocked");try{h.focus()}catch(d){}return new BR(h)}var HR="__/auth/handler",KR="emulator/auth/handler",WR=encodeURIComponent("fac");function GR(e,t,n,r,i,a){return(dA=dA||wc(kc().mark((function e(t,n,r,i,a,o){var s,u,c,l,h,d,p,v,m,g,y,k,b;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jA(t.config.authDomain,t,"auth-domain-config-required"),jA(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:kl,eventId:a},n instanceof pD)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",cc(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)l=f(c[u],2),h=l[0],d=l[1],s[h]=d;for(n instanceof vD&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,g=Object.keys(v);m<g.length;m++)y=g[m],void 0===v[y]&&delete v[y];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(WR,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(QR(t),"?").concat(hc(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QR(e){var t=e.config;return t.emulator?qA(t,KR):"https://".concat(t.authDomain,"/").concat(HR)}var YR="webStorageSupport",XR=function(e,t,n){function r(){p(this,r),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pO,this._completeRedirectFn=wR,this._overrideRedirectResult=pR}return y(r,[{key:"_openPopup",value:function(t,n,r,i){return(e=e||wc(kc().mark((function e(t,n,r,i){var a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return FA(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,GR(t,n,r,UA(),i);case 3:return o=e.sent,e.abrupt("return",qR(t,o,gO()));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_openRedirect",value:function(e,n,r,i){return(t=t||wc(kc().mark((function e(t,n,r,i){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,GR(t,n,r,UA(),i);case 4:return bO(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(FA(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(e){return(n=n||wc(kc().mark((function e(t){var n,r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VR(t);case 2:return n=e.sent,r=new xR(t),n.register("authEvent",(function(e){return jA(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(YR,{type:YR},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[YR];void 0!==i&&t(!!i),PA(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return(fA=fA||wc(kc().mark((function e(t){var n,r,i,a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,SR(t);case 4:n=e.sent,r=n.authorizedDomains,i=N(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!NR(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:PA(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return OP()||SP()||DP()}}]),r}(),$R=XR,JR=function(){function e(t){p(this,e),this.factorId=t}return y(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return MA("unexpected MultiFactorSessionType")}}}]),e}(),ZR=function(e){b(n,e);var t=I(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone")).credential=e,r}return y(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return QA(e,"POST","/v2/accounts/mfaEnrollment:finalize",GA(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return QA(e,"POST","/v2/accounts/mfaSignIn:finalize",GA(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(JR),eL=function(){function e(){p(this,e)}return y(e,null,[{key:"assertion",value:function(e){return ZR._fromCredential(e)}}]),e}();eL.FACTOR_ID="phone";var tL=function(e){function t(){p(this,t)}return y(t,null,[{key:"assertionForEnrollment",value:function(e,t){return nL._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return nL._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(t){return(e=e||wc(kc().mark((function e(t){var n,r,i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jA("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,iO(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",rL._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),t}();tL.FACTOR_ID="totp";var nL=function(e,t,n){b(i,e);var r=I(i);function i(e,t,n){var a;return p(this,i),(a=r.call(this,"totp")).otp=e,a.enrollmentId=t,a.secret=n,a}return y(i,[{key:"_finalizeEnroll",value:function(e,n,r){return(t=t||wc(kc().mark((function e(t,n,r){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jA("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",aO(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_finalizeSignIn",value:function(e,t){return(n=n||wc(kc().mark((function e(t,n){var r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jA(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",MO(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}],[{key:"_fromSecret",value:function(e,t){return new i(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new i(t,e)}}]),i}(JR),rL=function(){function e(t,n,r,i,a,o,s){p(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return y(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(iL(e)||iL(t))&&(r=!0),r&&(iL(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),iL(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function iL(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var aL="@firebase/auth",oL="1.3.0",sL=function(e){function t(e){p(this,t),this.auth=e,this.internalListeners=new Map}return y(t,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(t){return(e=e||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){jA(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),t}();var uL,cL,lL,fL,hL,dL;!function(e){var t;null===(t=Xu())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function pL(){return window}uL="Browser",hl(new _c("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;jA(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:uL,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RP(uL)},l=new FP(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(kP);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),hl(new _c("auth-internal",(function(e){return function(e){return new sL(e)}(UP(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),El(aL,oL,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(uL)),El(aL,oL,"esm2017");function vL(e,t,n){return(cL=cL||wc(kc().mark((function e(t,n,r){var i,a,o,s,u;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=pL(),o=a.BuildInfo,FA(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,kL(n.sessionId);case 4:return s=e.sent,u={},DP()?u.ibi=o.packageName:NP()?u.apn=o.packageName:PA(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",GR(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mL(e){var t=pL().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zu();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function gL(e,t,n){return(fL=fL||wc(kc().mark((function e(t,n,r){var i,a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pL(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(DA(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),NP()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})))).apply(this,arguments)}function yL(e){var t,n,r,i,a,o,s,u,c,l,f=pL();jA("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),jA("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),jA("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),jA("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),jA("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function kL(e){return(hL=hL||wc(kc().mark((function e(t){var n,r,i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bL(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bL(e){if(FA(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var wL=20,_L=function(e,t){b(r,e);var n=I(r);function r(){var e;return p(this,r),(e=n.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return y(r,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),jt(w(r.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){return(t=t||wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),r}(xR);function xL(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:TL(),postBody:null,tenantId:e.tenantId,error:DA(e,"no-auth-event")}}function EL(e,t){return CL()._set(NL(e),t)}function IL(e){return(dL=dL||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CL()._get(NL(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,CL()._remove(NL(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SL(e,t){var n,r,i=function(e){var t=AL(e),n=t.link?decodeURIComponent(t.link):void 0,r=AL(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return AL(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=AL(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?DA(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function TL(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<wL;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function CL(){return kP(hO)}function NL(e){return _P("authEvent",e.config.apiKey,e.name)}function AL(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=C(e.split("?"));t[0];return dc(t.slice(1).join("?"))}var PL,DL,OL,RL=function(e,t){function n(){p(this,n),this._redirectPersistence=pO,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=wR,this._overrideRedirectResult=pR}return y(n,[{key:"_initialize",value:function(t){return(e=e||wc(kc().mark((function e(t){var n,r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new _L(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_openPopup",value:function(e){PA(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(e,n,r,i){return(t=t||wc(kc().mark((function e(t,n,r,i){var a,o,s,u;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yL(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),lR.clear(),e.next=10,this._originValidation(t);case 10:return o=xL(t,r,i),e.next=13,EL(t,o);case 13:return e.next=15,vL(t,o,n);case 15:return s=e.sent,e.next=18,mL(s);case 18:return u=e.sent,e.abrupt("return",gL(t,a,u));case 20:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return(lL=lL||wc(kc().mark((function e(t){var n,r,i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pL(),r=n.BuildInfo,i={},DP()?i.iosBundleId=r.packageName:NP()?i.androidPackageName=r.packageName:PA(t,"operation-not-supported-in-this-environment"),e.next=5,SR(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n,r,i=pL(),a=i.universalLinks,o=i.handleOpenURL,s=i.BuildInfo,u=setTimeout(wc(kc().mark((function n(){return kc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,IL(e);case 2:t.onEvent(jL());case 3:case"end":return n.stop()}}),n)}))),500),c=function(r){return(n=n||wc(kc().mark((function n(r){var i,a;return kc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(u),n.next=3,IL(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=SL(i,r.url)),t.onEvent(a||jL());case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)};"undefined"!==typeof a&&"function"===typeof a.subscribe&&a.subscribe(null,c);var l=o,f="".concat(s.packageName.toLowerCase(),"://");pL().handleOpenURL=function(e){return(r=r||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(f)&&c({url:t}),"function"===typeof l)try{l(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]),n}(),LL=RL;function jL(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:DA("no-auth-event")}}function ML(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function FL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zu();return!("file:"!==ML()&&"ionic:"!==ML()&&"capacitor:"!==ML()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function UL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zu();return rc()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zu();return/Edge\/\d+/.test(e)}(e)}function VL(){try{var e=self.localStorage,t=gO();if(e)return e.setItem(t,"1"),e.removeItem(t),!UL()||ic()}catch(n){return zL()&&ic()}return!1}function zL(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function BL(){return("http:"===ML()||"https:"===ML()||tc()||FL())&&!(nc()||ec())&&VL()&&!zL()}function qL(){return FL()&&"undefined"!==typeof document}function HL(){return(PL=PL||wc(kc().mark((function e(){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qL()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var KL={LOCAL:"local",NONE:"none",SESSION:"session"},WL=jA,GL="persistence";function QL(e,t){WL(Object.values(KL).includes(t),e,"invalid-persistence-type"),nc()?WL(t!==KL.SESSION,e,"unsupported-persistence-type"):ec()?WL(t===KL.NONE,e,"unsupported-persistence-type"):zL()?WL(t===KL.NONE||t===KL.LOCAL&&ic(),e,"unsupported-persistence-type"):WL(t===KL.NONE||VL(),e,"unsupported-persistence-type")}function YL(e){return(DL=DL||wc(kc().mark((function e(t){var n,r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=XL(),r=_P(GL,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XL(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var $L=jA,JL=function(e,t,n,r){function i(){p(this,i),this.browserResolver=kP($R),this.cordovaResolver=kP(LL),this.underlyingResolver=null,this._redirectPersistence=pO,this._completeRedirectFn=wR,this._overrideRedirectResult=pR}return y(i,[{key:"_initialize",value:function(t){return(e=e||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_openPopup",value:function(e,n,r,i){return(t=t||wc(kc().mark((function e(t,n,r,i){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_openRedirect",value:function(e,t,r,i){return(n=n||wc(kc().mark((function e(t,n,r,i){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return qL()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return $L(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){return(r=r||wc(kc().mark((function e(){var t;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,HL();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),i}();function ZL(e){return e.unwrap()}function ej(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new ij(e,function(e,t){var n,r=yc(e),i=t;return jA(t.customData.operationType,r,"argument-error"),jA(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),nO._fromError(r,i)}(e,t));else if(r){var i=tj(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function tj(e){var t=(e instanceof ac?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ac)&&"temporaryProof"in t&&"phoneNumber"in t)return JO.credentialFromResult(e);var n,r=t.providerId;if(!r||r===pA.PASSWORD)return null;switch(r){case pA.GOOGLE:n=yD;break;case pA.FACEBOOK:n=gD;break;case pA.GITHUB:n=kD;break;case pA.TWITTER:n=_D;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?bD._create(r,s):uD._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new mD(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof ac?n.credentialFromError(e):n.credentialFromResult(e)}function nj(e,t){return t.catch((function(t){throw t instanceof ac&&ej(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,tj(t)),additionalUserInfo:eO(e),user:aj.getOrCreate(r)}}))}function rj(e,t){return(OL=OL||wc(kc().mark((function e(t,n){var r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return nj(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ij=function(){function e(t,n){p(this,e),this.resolver=n,this.auth=t.wrapped()}return y(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return nj(ZL(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),aj=function(e,t,n,r,i,a,o){function s(e){p(this,s),this._delegate=e,this.multiFactor=function(e){var t=yc(e);return uO.has(t)||uO.set(t,sO._fromUser(t)),uO.get(t)}(e)}return y(s,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(t){return(e=e||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nj(this.auth,LD(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"linkWithPhoneNumber",value:function(e,n){return(t=t||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rj(this.auth,XO(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"linkWithPopup",value:function(e){return(n=n||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nj(this.auth,sR(this._delegate,t,JL)));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"linkWithRedirect",value:function(e){return(r=r||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YL(UP(this.auth));case 2:return e.abrupt("return",kR(this._delegate,t,JL));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(e){return(i=i||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nj(this.auth,jD(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return rj(this.auth,function(e,t,n){return(YN=YN||wc(kc().mark((function e(t,n,r){var i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yc(t),e.next=3,$O(i.auth,n,yc(r));case 3:return a=e.sent,e.abrupt("return",new YO(a,(function(e){return jD(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return nj(this.auth,function(e,t,n){return(eA=eA||wc(kc().mark((function e(t,n,r){var i,a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return RA((i=yc(t)).auth,n,pD),a=ZO(i.auth,r),o=new uR(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,JL))}},{key:"reauthenticateWithRedirect",value:function(e){return(a=a||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YL(UP(this.auth));case 2:return e.abrupt("return",yR(this._delegate,t,JL));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"sendEmailVerification",value:function(e){return function(e,t){return(UN=UN||wc(kc().mark((function e(t,n){var r,i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yc(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&zD(r.auth,a,n),e.next=8,eD(r.auth,a);case 8:if(e.sent.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(e){return(o=o||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ND(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"updateEmail",value:function(e){return function(e,t){return GD(yc(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return GD(yc(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return($N=$N||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AD(yc(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return(BN=BN||wc(kc().mark((function e(t,n){var r,i,a,o,s,u,c;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=yc(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,uP(a,WD(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return(VN=VN||wc(kc().mark((function e(t,n,r){var i,a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yc(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&zD(i.auth,o,r),e.next=8,rD(i.auth,o);case 8:if(e.sent.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(e){return s.USER_MAP.has(e)||s.USER_MAP.set(e,new s(e)),s.USER_MAP.get(e)}}]),s}();aj.USER_MAP=new WeakMap;var oj=jA,sj=function(e,t,n,r,i){function a(e,t){if(p(this,a),this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();var n=e.options.apiKey;oj(n,"invalid-api-key",{appName:e.name}),oj(n,"invalid-api-key",{appName:e.name});var r="undefined"!==typeof window?JL:void 0;this._delegate=t.initialize({options:{persistence:cj(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(IA),this.linkUnderlyingAuth()}return y(a,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?aj.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){KP(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return(PN=PN||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$P(yc(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return qD(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return(AN=AN||wc(kc().mark((function e(t,n,r){var i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YP(yc(t),{oobCode:n,newPassword:r}).catch((function(e){return(i=i||wc(kc().mark((function e(n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&BD(t),n;case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(t,n){return(e=e||wc(kc().mark((function e(t,n){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nj(this._delegate,HD(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return(FN=FN||wc(kc().mark((function e(t,n){var r,i,a,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=VA()?UA():"http://localhost",i={identifier:n,continueUri:r},e.next=4,KD(yc(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=hD.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){return(t=t||wc(kc().mark((function e(){var t;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oj(BL(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,bR(this._delegate,JL);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",nj(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"addFrameworkForLogging",value:function(e){!function(e,t){UP(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=uj(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=uj(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return(LN=LN||wc(kc().mark((function e(t,n,r){var i,a,o,s,u,c;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){jA(t.handleCodeInApp,a,"argument-error"),t&&zD(a,e,t)},a=UP(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,HP(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,nD(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,nD(a,o).catch((function(e){return(c=c||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,HP(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,nD(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return(NN=NN||wc(kc().mark((function e(t,n,r){var i,a,o,s,u;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=UP(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,HP(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&zD(a,s,r),e.next=9,tD(a,s);case 9:e.next=14;break;case 11:return r&&zD(a,o,r),e.next=14,tD(a,o).catch((function(e){return(u=u||wc(kc().mark((function e(t){var n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,HP(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&zD(a,n,r),e.next=8,tD(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(e){return(n=n||wc(kc().mark((function e(t){var n,r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:QL(this._delegate,t),e.t0=t,e.next=e.t0===KL.SESSION?4:e.t0===KL.LOCAL?6:e.t0===KL.NONE?11:13;break;case 4:return n=pO,e.abrupt("break",14);case 6:return e.next=8,kP(LO)._isAvailable();case 8:return r=e.sent,n=r?LO:hO,e.abrupt("break",14);case 11:return n=wP,e.abrupt("break",14);case 13:return e.abrupt("return",PA("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return nj(this._delegate,function(e){return(gN=gN||wc(kc().mark((function e(t){var n,r,i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=UP(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ED({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,xD(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ED._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return nj(this._delegate,RD(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return nj(this._delegate,function(e,t){return(TN=TN||wc(kc().mark((function e(t,n){var r,i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=UP(t),e.next=3,MD(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ED._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return nj(this._delegate,function(e,t,n){var r;return RD(yc(e),dD.credential(t,n)).catch((function(t){return(r=r||wc(kc().mark((function t(n){return kc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&BD(e),n;case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return nj(this._delegate,function(e,t,n){return(jN=jN||wc(kc().mark((function e(t,n,r){var i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yc(t),jA((a=dD.credentialWithLink(n,r||UA()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",RD(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return rj(this._delegate,function(e,t,n){return(GN=GN||wc(kc().mark((function e(t,n,r){var i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=UP(t),e.next=3,$O(i,n,yc(r));case 3:return a=e.sent,e.abrupt("return",new YO(a,(function(e){return RD(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(e){return(r=r||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oj(BL(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",nj(this._delegate,oR(this._delegate,t,JL)));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"signInWithRedirect",value:function(e){return(i=i||wc(kc().mark((function e(t){return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oj(BL(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,YL(this._delegate);case 3:return e.abrupt("return",gR(this._delegate,t,JL));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return(ON=ON||wc(kc().mark((function e(t,n){var r,i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qD(yc(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),a}();function uj(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&aj.getOrCreate(e))},error:t,complete:n}}function cj(e,t){var n=function(e,t){var n=XL();if(!n)return[];var r=_P(GL,e,t);switch(n.getItem(r)){case KL.NONE:return[wP];case KL.LOCAL:return[LO,pO];case KL.SESSION:return[pO];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(LO)||n.push(LO),"undefined"!==typeof window)for(var r=0,i=[hO,pO];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(wP)||n.push(wP),n}sj.Persistence=KL;var lj=function(){function e(){p(this,e),this.providerId="phone",this._delegate=new JO(ZL(Ql.auth()))}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return JO.credential(e,t)}}]),e}();lj.PHONE_SIGN_IN_METHOD=JO.PHONE_SIGN_IN_METHOD,lj.PROVIDER_ID=JO.PROVIDER_ID;var fj=jA,hj=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ql.app();p(this,e),fj(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new GO(i.auth(),t,n),this.type=this._delegate.type}return y(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new _c("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new sj(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:vA,PASSWORD_RESET:mA,RECOVER_EMAIL:gA,REVERT_SECOND_FACTOR_ADDITION:yA,VERIFY_AND_CHANGE_EMAIL:kA,VERIFY_EMAIL:bA}},EmailAuthProvider:dD,FacebookAuthProvider:gD,GithubAuthProvider:kD,GoogleAuthProvider:yD,OAuthProvider:mD,SAMLAuthProvider:wD,PhoneAuthProvider:lj,PhoneMultiFactorGenerator:eL,RecaptchaVerifier:hj,TwitterAuthProvider:_D,Auth:sj,AuthCredential:QP,Error:ac}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.6")}(Ql);var dj=Ql.initializeApp({apiKey:"AIzaSyDvdJcOprSWSTQG58gPUKvVJWoHolim1c4",authDomain:"rebalance-9861b.firebaseapp.com",projectId:"rebalance-9861b",storageBucket:"rebalance-9861b.appspot.com",messagingSenderId:"715196044272",appId:"1:715196044272:web:c8ca6b532ff665c78f8335",measurementId:"G-2H33W6062E"}),pj=dj.firestore(),vj=dj.auth();var mj=function(){var e=f((0,i.useState)(""),2),t=e[0],n=e[1],r=f((0,i.useState)(""),2),a=r[0],o=r[1],s=xe();return(0,ru.jsxs)("div",{className:"App",children:[(0,ru.jsx)(pu,{activeItem:"Login",setActiveItem:function(){}}),(0,ru.jsx)("div",{className:"containerr ",children:(0,ru.jsxs)("div",{className:"screen ",children:[(0,ru.jsx)("div",{className:"screen__content",children:(0,ru.jsxs)("form",{className:"login",action:"javascript:void(0)",method:"get",children:[(0,ru.jsxs)("div",{className:"login__field",children:[(0,ru.jsx)("i",{className:"login__icon fas fa-user"}),(0,ru.jsx)("input",{type:"text",className:"login__input",onChange:function(e){return n(e.target.value)},placeholder:"Email"})]}),(0,ru.jsxs)("div",{className:"login__field",children:[(0,ru.jsx)("i",{className:"login__icon fas fa-lock"}),(0,ru.jsx)("input",{type:"password",className:"login__input",onChange:function(e){return o(e.target.value)},placeholder:"Password"})]}),(0,ru.jsxs)("button",{className:"button login__submit",onClick:function(){vj.signInWithEmailAndPassword(t,a).then((function(e){var t=e.user,n=t.uid,r=t.uid,i="Welcome: ".concat(t.displayName||t.email,"  ");localStorage.setItem("authToken",n),localStorage.setItem("UserId",r),localStorage.setItem("UserName",i),s("/Enrollment"),Lt.success("Logged in successfully")})).catch((function(e){console.error("Error:",e),Lt.error("Invalid email or password")}))},children:[(0,ru.jsx)("span",{className:"button__text",children:"Log In Now"}),(0,ru.jsx)("i",{className:"button__icon fas fa-chevron-right"})]}),(0,ru.jsxs)("button",{className:"button login__submit",onClick:function(){s("/signup")},children:[(0,ru.jsx)("span",{className:"button__text",children:"Signup Now"}),(0,ru.jsx)("i",{className:"button__icon fas fa-chevron-right"})]})]})}),(0,ru.jsxs)("div",{className:"screen__background",children:[(0,ru.jsx)("span",{className:"screen__background__shape screen__background__shape4"}),(0,ru.jsx)("span",{className:"screen__background__shape screen__background__shape3"}),(0,ru.jsx)("span",{className:"screen__background__shape screen__background__shape2"}),(0,ru.jsx)("span",{className:"screen__background__shape screen__background__shape1"})]})]})}),(0,ru.jsx)(mu,{})]})};var gj=function(){var e,t=f((0,i.useState)({firstname:"",lastname:"",email:"",password:""}),2),n=t[0],r=t[1],a=xe(),o=function(e){var t=e.target,i=t.name,a=t.value;r(et(et({},n),{},Je({},i,a)))};return(0,ru.jsxs)("div",{className:"App",children:[(0,ru.jsx)(pu,{activeItem:"Signup",setActiveItem:function(e){console.log("Setting active item to ".concat(e))}}),(0,ru.jsxs)("div",{className:"containerr my-4",children:[" ",(0,ru.jsxs)("div",{className:"screen",children:[(0,ru.jsx)("div",{className:"screen__content",children:(0,ru.jsxs)("form",{className:"login",onSubmit:function(t){return(e=e||wc(kc().mark((function e(t){var r,i,o,s,u;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=n.firstname,i=n.lastname,o=n.email,s=n.password,e.prev=2,e.next=5,vj.createUserWithEmailAndPassword(o,s);case 5:return u=vj.currentUser,e.next=8,u.updateProfile({displayName:"".concat(r," ").concat(i)});case 8:console.log("User registered:",u),Lt.success("Signup Successfully"),a("/login"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Error signing up:",e.t0.message),Lt.error("Error signing up");case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)},children:[(0,ru.jsxs)("div",{className:"login__field",children:[(0,ru.jsx)("input",{type:"text",className:"login__input my-2",name:"firstname",value:n.firstname,onChange:o,placeholder:"Firstname",required:!0}),(0,ru.jsx)("input",{type:"text",className:"login__input my-2",name:"lastname",value:n.lastname,onChange:o,placeholder:"Lastname",required:!0}),(0,ru.jsx)("input",{type:"email",className:"login__input my-2",name:"email",value:n.email,onChange:o,placeholder:"Email",required:!0}),(0,ru.jsx)("input",{type:"password",className:"login__input my-2",name:"password",value:n.password,onChange:o,placeholder:"Password",required:!0})]}),(0,ru.jsxs)("button",{className:"button login__submit",type:"submit",children:[(0,ru.jsx)("span",{className:"button__text",children:"Signup Now"}),(0,ru.jsx)("i",{className:"button__icon fas fa-chevron-right"})]})]})}),(0,ru.jsxs)("div",{className:"screen__background",children:[(0,ru.jsx)("span",{className:"screen__background__shape screen__background__shape4"}),(0,ru.jsx)("span",{className:"screen__background__shape screen__background__shape3"}),(0,ru.jsx)("span",{className:"screen__background__shape screen__background__shape2"}),(0,ru.jsx)("span",{className:"screen__background__shape screen__background__shape1"})]})]})]}),(0,ru.jsx)(mu,{})]})},yj=n.p+"static/media/360_F_133334155_X23HzbJKawbIgXVaub4bPM8CjpkS5uMS.f85abd9b3afe51059268.jpg";var kj=function(){var e={backgroundImage:"url(".concat(yj,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",height:"40vh",opacity:.8,position:"center"};return(0,ru.jsxs)("div",{className:"App",children:[(0,ru.jsx)(pu,{activeItem:"Enrollment",setActiveItem:function(e){console.log("Setting active item to ".concat(e))}}),(0,ru.jsx)("div",{style:e,children:(0,ru.jsxs)("div",{style:{position:"absolute",top:"30%",left:"15%",textAlign:"center"},children:[(0,ru.jsxs)(Ye,{to:"/patient",children:[" ",(0,ru.jsx)("button",{className:"btn btn-primary w-50",children:"Add Patient"})]}),(0,ru.jsxs)(Ye,{to:"/doctor",children:[" ",(0,ru.jsx)("button",{className:"btn btn-warning my-3 w-50",children:"Add Doctor"})]})]})}),(0,ru.jsx)(mu,{})]})};var bj=function(){var e=f((0,i.useState)({name:"",lastname:"",address:"",patientPackage:"",date:u(),mobile:""}),2),t=e[0],n=e[1],r=f((0,i.useState)(!0),2),a=(r[0],r[1]),o=xe(),s=function(e){var r=e.target,i=r.name,a=r.value;n(et(et({},t),{},Je({},i,a)))};function u(){var e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)}(0,i.useEffect)((function(){var e;!function(){(e=e||wc(kc().mark((function e(){var t,n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pj.collection("packages").get();case 3:t=e.sent,n=t.docs.map((function(e){return et({id:e.id},e.data())})),a(!1),h(n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching packages:",e.t0),a(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}()}),[]);var c=f((0,i.useState)([]),2),l=c[0],h=c[1];return(0,ru.jsxs)("div",{className:"App",children:[(0,ru.jsx)(pu,{activeItem:"Patient",setActiveItem:function(e){console.log("Setting active item to ".concat(e))}}),(0,ru.jsx)("h2",{className:"my-2",children:"Patient Information"}),(0,ru.jsx)("div",{className:"patient-form-container my-3",children:(0,ru.jsxs)("form",{className:"patient-form",onSubmit:function(e){e.preventDefault(),10===t.mobile.length&&/^\d+$/.test(t.mobile)?pj.collection("patients").add({name:t.name,lastname:t.lastname,address:t.address,patientPackage:t.patientPackage,date:t.date,mobile:t.mobile}).then((function(e){console.log("Patient added with ID: ",e.id),Lt.success("Patient Added"),o("/AllPatients"),n({name:"",lastname:"",address:"",patientPackage:"",date:u(),mobile:""})})).catch((function(e){console.error("Error adding patient: ",e)})):Lt.error("Please enter a 10-digit mobile number")},children:[(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"name",children:"First Name"}),(0,ru.jsx)("input",{type:"text",id:"name",name:"name",value:t.name,onChange:s,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"lastname",children:"Last Name"}),(0,ru.jsx)("input",{type:"text",id:"lastname",name:"lastname",value:t.lastname,onChange:s,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"address",children:"Address"}),(0,ru.jsx)("input",{type:"text",id:"address",name:"address",value:t.address,onChange:s,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"patientPackage",children:"Select Package"}),(0,ru.jsxs)("select",{id:"patientPackage",name:"patientPackage",value:t.patientPackage,onChange:s,children:[(0,ru.jsx)("option",{value:"",children:"Select a Package"})," ",l.map((function(e){return(0,ru.jsx)("option",{value:e.id,children:"".concat(e.timeperiod,", joint=").concat(e.joint,", TotalAmount=").concat(e.amount)},e.id)}))]})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"mobile",children:"Mobile No"}),(0,ru.jsx)("input",{type:"text",id:"mobile",name:"mobile",value:t.mobile,onChange:s,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"date",children:"Date"}),(0,ru.jsx)("input",{type:"date",id:"date",name:"date",value:t.date,onChange:s,required:!0,style:{marginLeft:0}})]}),(0,ru.jsx)("button",{type:"submit",children:"Submit"})]})}),(0,ru.jsx)(mu,{})]})};var wj=function(){var e=f((0,i.useState)({name:"",lastname:"",address:"",age:"",adharcard:"",mobileno:"",date:function(){var e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)}()}),2),t=e[0],n=e[1],r=xe(),a=function(e){var r=e.target,i=r.name,a=r.value;if("adharcard"===i){if(!/^[0-9]{0,12}$/.test(a))return void Lt.error("Invalid Aadhar Card Number")}n(et(et({},t),{},Je({},i,a)))};return(0,ru.jsxs)("div",{className:"App",children:[(0,ru.jsx)(pu,{activeItem:"Doctor",setActiveItem:function(e){console.log("Setting active item to ".concat(e))}}),(0,ru.jsx)("h2",{className:"my-2",children:"Doctor Information"}),(0,ru.jsx)("div",{className:"patient-form-container my-3",children:(0,ru.jsxs)("form",{className:"patient-form",onSubmit:function(e){e.preventDefault(),pj.collection("doctors").add(t).then((function(e){console.log("Doctor added with ID: ",e.id),Lt.success("Doctor Added"),r("/Enrollment"),n({name:"",lastname:"",address:"",age:"",adharcard:"",mobileno:""})})).catch((function(e){console.error("Error adding doctor: ",e)}))},children:[(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"name",children:"First Name"}),(0,ru.jsx)("input",{type:"text",id:"name",name:"name",value:t.name,onChange:a,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"lastname",children:"Last Name"}),(0,ru.jsx)("input",{type:"text",id:"lastname",name:"lastname",value:t.lastname,onChange:a,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"address",children:"Address"}),(0,ru.jsx)("input",{type:"text",id:"address",name:"address",value:t.address,onChange:a,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"age",children:"Age"}),(0,ru.jsx)("input",{type:"text",id:"age",name:"age",value:t.age,onChange:a,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"adharcard",children:"Adhar Card"}),(0,ru.jsx)("input",{type:"text",id:"adharcard",name:"adharcard",value:t.adharcard,onChange:a,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"mobileno",children:"Mobile Number"}),(0,ru.jsx)("input",{type:"text",id:"mobileno",name:"mobileno",value:t.mobileno,onChange:a,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"date",children:"Joining Date"}),(0,ru.jsx)("input",{type:"date",id:"date",name:"date",value:t.date,onChange:a,required:!0,style:{marginLeft:0}})]}),(0,ru.jsx)("button",{type:"submit",method:"post",children:"Submit"})]})}),(0,ru.jsx)(mu,{})]})};var _j=function(){var e=f((0,i.useState)([]),2),t=e[0],n=e[1],r=f((0,i.useState)({}),2),a=r[0],o=r[1],s=f((0,i.useState)(0),2),u=s[0],c=s[1],l=f((0,i.useState)(JSON.parse(localStorage.getItem("messages"))||{}),2),h=l[0],d=l[1],p=f((0,i.useState)(""),2),v=p[0],m=p[1],g=f((0,i.useState)([]),2),y=g[0],k=g[1],b=xe();return(0,i.useEffect)((function(){var e,t;!function(){(e=e||wc(kc().mark((function e(){var t,r,i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pj.collection("patients").get();case 3:t=e.sent,r=t.docs.map((function(e){return et({id:e.id},e.data())})),n(r),i=r.length,c(i),console.log("Total Patients: ".concat(i)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching patients:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}(),function(){(t=t||wc(kc().mark((function e(){var t,n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pj.collection("packages").get();case 3:t=e.sent,n=t.docs.reduce((function(e,t){var n=t.data();return e[t.id]=n,e}),{}),o(n),console.log("Packages Data:",n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching packages:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}()}),[]),(0,i.useEffect)((function(){var e=t.filter((function(e){return e.name.toLowerCase().includes(v.toLowerCase())}));k(e)}),[t,v]),(0,ru.jsxs)("div",{className:"App",children:[(0,ru.jsx)(pu,{activeItem:"AllPatients",setActiveItem:function(e){console.log("Setting active item to ".concat(e))}}),(0,ru.jsx)("div",{className:"mx-3",children:(0,ru.jsx)("div",{className:"patient-list",children:0===u?(0,ru.jsx)("h1",{className:"my-3",children:"No patients available."}):(0,ru.jsxs)("div",{children:[(0,ru.jsx)("h2",{className:"my-2",children:"Patient List"}),(0,ru.jsxs)("div",{className:"d-flex align-items-center",children:[(0,ru.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by name",value:v,onChange:function(e){return m(e.target.value)}}),(0,ru.jsx)("button",{className:"btn btn-primary my-2 mx-1",onClick:function(){m(v)},children:"Search"}),(0,ru.jsx)("button",{className:"btn btn-secondary my-2 mx-1",onClick:function(){d({}),localStorage.removeItem("messages")},children:"Clear"})]}),(0,ru.jsx)("div",{className:"table-responsive",children:(0,ru.jsxs)("table",{className:"table table-striped table-bordered table-hover",children:[(0,ru.jsxs)("colgroup",{children:[(0,ru.jsx)("col",{style:{width:"100px"}}),(0,ru.jsx)("col",{style:{width:"100px"}}),(0,ru.jsx)("col",{style:{width:"100px"}}),(0,ru.jsx)("col",{style:{width:"100px"}}),(0,ru.jsx)("col",{style:{width:"100px"}}),(0,ru.jsx)("col",{style:{width:"100px"}}),(0,ru.jsx)("col",{style:{width:"100px"}})]}),(0,ru.jsx)("thead",{className:"table-dark",children:(0,ru.jsxs)("tr",{children:[(0,ru.jsx)("th",{children:"Name"}),(0,ru.jsx)("th",{children:"Last Name"}),(0,ru.jsx)("th",{children:"Reg. Date"}),(0,ru.jsx)("th",{children:"Address"}),(0,ru.jsx)("th",{children:"Mobile No"}),(0,ru.jsx)("th",{children:"Package"}),(0,ru.jsx)("th",{children:"Action"})]})}),(0,ru.jsx)("tbody",{children:y.map((function(e){return(0,ru.jsxs)("tr",{children:[(0,ru.jsx)("td",{children:e.name}),(0,ru.jsx)("td",{children:e.lastname}),(0,ru.jsx)("td",{children:new Date(e.date).toLocaleDateString()}),(0,ru.jsx)("td",{children:e.address}),(0,ru.jsx)("td",{children:e.mobile}),(0,ru.jsx)("td",{children:a[e.patientPackage]?"".concat(a[e.patientPackage].timeperiod,", joint=").concat(a[e.patientPackage].joint,", Amount=").concat(a[e.patientPackage].amount):"Unknown Package"}),(0,ru.jsxs)("td",{children:[(0,ru.jsxs)("button",{className:"btn btn-warning my-1 position-relative",onClick:function(){return function(e){var n=t.find((function(t){return t.id===e}));if(n){var r="+".concat(n.mobile),i=window.prompt("Please enter the appointment message:");if(null!==i){var a="Dear ".concat(n.name,", this is a reminder for your upcoming physiotherapy session at REBALANCE Clinic. ").concat(i,". Please arrive on time. If you have any questions or need to reschedule, please contact us. Thank you!"),o=encodeURIComponent(a),s="https://api.whatsapp.com/send?phone=".concat(r,"&text=").concat(o);window.location.href=s;var u=et(et({},h),{},Je({},e,i));d(u),localStorage.setItem("messages",JSON.stringify(u))}else console.log("Message not provided.")}else console.error("Patient with ID ".concat(e," not found."))}(e.id)},style:{overflow:"visible"},children:["Appoint",h[e.id]&&(0,ru.jsx)("span",{className:"badge bg-secondary position-absolute top-0 end-0",style:{transform:"translate(-5%, -70%)",fontSize:"0.8rem",padding:"3px 6px",zIndex:1},children:h[e.id]})]}),(0,ru.jsx)("button",{className:"btn btn-info mx-1 my-1",onClick:function(){return function(e){localStorage.setItem("PatientId",e),b("/EditPatients")}(e.id)},children:"Update"}),(0,ru.jsx)("button",{className:"btn btn-danger my-1",onClick:function(){return function(e){try{var r=t.filter((function(t){return t.id!==e}));n(r),pj.collection("patients").doc(e).delete().then((function(){console.log("Patient with ID ".concat(e," deleted successfully")),Lt.error("Patient Successfully deleted")})).catch((function(t){console.error("Error deleting patient with ID ".concat(e,":"),t)}))}catch(i){console.error("Error deleting patient with ID ".concat(e,":"),i)}}(e.id)},children:"Delete"})]})]},e.id)}))})]})})]})})}),(0,ru.jsx)(mu,{})]})};var xj=function(){var e,t=f((0,i.useState)([]),2),n=t[0],r=t[1],a=xe();return(0,i.useEffect)((function(){var e;!function(){(e=e||wc(kc().mark((function e(){var t,n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pj.collection("doctors").get();case 3:t=e.sent,n=t.docs.map((function(e){return et({id:e.id},e.data())})),r(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching doctors data:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}()}),[]),(0,ru.jsxs)("div",{className:"App",children:[(0,ru.jsx)(pu,{activeItem:"AllDoctors",setActiveItem:function(e){console.log("Setting active item to ".concat(e))}}),(0,ru.jsx)("div",{className:"container",children:(0,ru.jsxs)("div",{className:"Doctor-list",children:[(0,ru.jsx)("h2",{className:"my-3",children:"Doctor List"}),(0,ru.jsx)("div",{className:"table-container table-scrollable",children:(0,ru.jsxs)("table",{className:"table",children:[(0,ru.jsx)("thead",{className:"table-dark",children:(0,ru.jsxs)("tr",{children:[(0,ru.jsx)("th",{children:"Name"}),(0,ru.jsx)("th",{children:"Last Name"}),(0,ru.jsx)("th",{children:"Age"}),(0,ru.jsx)("th",{children:"Join Date"}),(0,ru.jsx)("th",{children:"Mobile No"}),(0,ru.jsx)("th",{children:"Action"})]})}),(0,ru.jsx)("tbody",{children:n.map((function(t){return(0,ru.jsxs)("tr",{children:[(0,ru.jsx)("td",{children:t.name}),(0,ru.jsx)("td",{children:t.lastname}),(0,ru.jsx)("td",{children:t.age}),(0,ru.jsx)("td",{children:new Date(t.date).toLocaleDateString()}),(0,ru.jsx)("td",{children:t.mobileno}),(0,ru.jsxs)("td",{children:[(0,ru.jsx)("button",{className:"btn btn-danger my-1",onClick:function(){return function(t){return(e=e||wc(kc().mark((function e(t){var i;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=n.filter((function(e){return e.id!==t})),r(i),e.next=5,pj.collection("doctors").doc(t).delete();case 5:console.log("Doctor with ID ".concat(t," deleted successfully")),Lt.error("Doctor successfully deleted"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error deleting Doctor with ID ".concat(t,":"),e.t0),Lt.error("Error deleting doctor");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}(t.id)},children:"Delete"}),(0,ru.jsx)("button",{className:"btn btn-info mx-3 my-1",onClick:function(){return function(e){localStorage.setItem("DoctorId",e),a("/EditDoctors")}(t.id)},children:"Update"})]})]},t.id)}))})]})})]})}),(0,ru.jsx)(mu,{})]})};var Ej=function(){var e=f((0,i.useState)([]),2),t=e[0],n=e[1],r=xe();return(0,i.useEffect)((function(){var e;!function(){(e=e||wc(kc().mark((function e(){var t,r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pj.collection("packages").get();case 3:t=e.sent,r=t.docs.map((function(e){return et({id:e.id},e.data())})),n(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching packages:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}()}),[]),(0,ru.jsxs)("div",{className:"App",children:[(0,ru.jsx)(pu,{activeItem:"Packages",setActiveItem:function(e){console.log("Setting active item to ".concat(e))}}),(0,ru.jsx)(Ye,{to:"/form",children:(0,ru.jsx)("button",{className:"btn btn-secondary my-3",children:"Add Package"})}),(0,ru.jsxs)("div",{className:"container",children:[(0,ru.jsx)("h2",{children:"Package List"}),(0,ru.jsx)("div",{className:"table-container table-scrollable",children:(0,ru.jsxs)("table",{className:"table",children:[(0,ru.jsx)("thead",{className:"table-dark",children:(0,ru.jsxs)("tr",{children:[(0,ru.jsx)("th",{children:"Time"}),(0,ru.jsx)("th",{children:"Joint"}),(0,ru.jsx)("th",{children:"Amount"}),(0,ru.jsx)("th",{children:"Session"}),(0,ru.jsx)("th",{children:"Action"})]})}),(0,ru.jsx)("tbody",{children:t.map((function(e){return(0,ru.jsxs)("tr",{children:[(0,ru.jsx)("td",{children:e.timeperiod}),(0,ru.jsx)("td",{children:e.joint}),(0,ru.jsx)("td",{children:e.amount}),(0,ru.jsx)("td",{children:e.persessioncharges}),(0,ru.jsxs)("td",{children:[(0,ru.jsx)("button",{className:"btn btn-danger my-1",onClick:function(){return function(e){pj.collection("packages").doc(e).delete().then((function(){var r=t.filter((function(t){return t.id!==e}));n(r),Lt.success("Package deleted successfully")})).catch((function(e){console.error("Error deleting package:",e),Lt.error("An error occurred while deleting the package")}))}(e.id)},children:"Delete"}),(0,ru.jsx)("button",{className:"btn btn-info my-1 mx-1",onClick:function(){return function(e){localStorage.setItem("PackageId",e),r("/editpackage")}(e.id)},children:"Update"})]})]},e.id)}))})]})})]}),(0,ru.jsx)(mu,{})]})};var Ij=function(){var e,t=f((0,i.useState)({timeperiod:"",amount:"",persessioncharges:"",joint:""}),2),n=t[0],r=t[1],a=xe(),o=function(e){var t=e.target,i=t.name,a=t.value;r(et(et({},n),{},Je({},i,a)))};return(0,ru.jsxs)("div",{className:"App",children:[(0,ru.jsx)(pu,{activeItem:"form",setActiveItem:function(e){console.log("Setting active item to ".concat(e))}}),(0,ru.jsx)("div",{className:"patient-form-container my-3",children:(0,ru.jsxs)("form",{className:"patient-form",onSubmit:function(t){return(e=e||wc(kc().mark((function e(t){var i,o;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log("nsjn"),i=vj.currentUser){e.next=6;break}return Lt.error("You must be logged in to add a package."),e.abrupt("return");case 6:return e.prev=6,e.next=9,pj.collection("packages").add(et(et({},n),{},{userId:i.uid}));case 9:o=e.sent,console.log("Package added with ID: ",o.id),Lt.success("Package added"),a("/packages"),r({timeperiod:"",amount:"",persessioncharges:"",joint:""}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),console.error("Error adding package: ",e.t0),Lt.error("An error occurred while adding the package.");case 20:case"end":return e.stop()}}),e,null,[[6,16]])})))).apply(this,arguments)},children:[(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"timeperiod",children:"Time Period"}),(0,ru.jsx)("input",{type:"text",id:"timeperiod",name:"timeperiod",value:n.timeperiod,onChange:o,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"amount",children:"Joint"}),(0,ru.jsx)("input",{type:"text",id:"joint",name:"joint",value:n.joint,onChange:o,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"amount",children:"Amount"}),(0,ru.jsx)("input",{type:"text",id:"amount",name:"amount",value:n.amount,onChange:o,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"persessioncharges",children:"Per Session charges"}),(0,ru.jsx)("input",{type:"text",id:"persessioncharges",name:"persessioncharges",value:n.persessioncharges,onChange:o,required:!0})]}),(0,ru.jsx)("button",{type:"submit",children:"Submit"})]})}),(0,ru.jsx)(mu,{})]})};var Sj=function(){var e,t=f((0,i.useState)({id:"",timeperiod:"",amount:"",persessioncharges:"",joint:""}),2),n=t[0],r=t[1],a=xe();(0,i.useEffect)((function(){var e=localStorage.getItem("PackageId");pj.collection("packages").doc(e).get().then((function(t){if(t.exists){var n=t.data();r(et({id:e},n))}else console.log("No such document!")})).catch((function(e){console.error("Error fetching package:",e)}))}),[]);var o=function(e){var t=e.target,i=t.name,a=t.value;r(et(et({},n),{},Je({},i,a)))};return(0,ru.jsxs)("div",{className:"App",children:[(0,ru.jsx)(pu,{activeItem:"EditPackage"}),(0,ru.jsx)("div",{className:"patient-form-container my-3",children:(0,ru.jsxs)("form",{className:"patient-form",onSubmit:function(t){return(e=e||wc(kc().mark((function e(t){var r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r=pj.collection("packages").doc(n.id),e.next=5,r.update({timeperiod:n.timeperiod,amount:n.amount,persessioncharges:n.persessioncharges,joint:n.joint});case 5:console.log("Package data successfully updated!"),a("/packages"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error updating package data:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)},children:[(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("input",{type:"hidden",id:"id",name:"id",value:n.id,onChange:o,required:!0}),(0,ru.jsx)("label",{htmlFor:"timeperiod",children:"Time Period"}),(0,ru.jsx)("input",{type:"text",id:"timeperiod",name:"timeperiod",value:n.timeperiod,onChange:o,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"joint",children:"Joint"}),(0,ru.jsx)("input",{type:"text",id:"joint",name:"joint",value:n.joint,onChange:o,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"amount",children:"Amount"}),(0,ru.jsx)("input",{type:"text",id:"amount",name:"amount",value:n.amount,onChange:o,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"persessioncharges",children:"Per Session charges"}),(0,ru.jsx)("input",{type:"text",id:"persessioncharges",name:"persessioncharges",value:n.persessioncharges,onChange:o,required:!0})]}),(0,ru.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Update"}),(0,ru.jsx)(Ye,{to:"/packages",children:(0,ru.jsx)("button",{className:"btn btn-danger mx-2",style:{backgroundColor:"rgba(255, 0, 0, 0.7)"},children:"Cancel"})})]})}),(0,ru.jsx)(mu,{})]})};var Tj=function(){var e,t=f((0,i.useState)({id:"",name:"",lastname:"",address:"",mobile:"",patientPackage:"",date:""}),2),n=t[0],r=t[1],a=f((0,i.useState)([]),2),o=a[0],s=a[1],u=xe();(0,i.useEffect)((function(){var e=localStorage.getItem("PatientId");pj.collection("patients").doc(e).get().then((function(t){if(t.exists){var n=t.data();r(et({id:e},n))}else console.log("No such document!")})).catch((function(e){console.error("Error fetching patient:",e)})),pj.collection("packages").get().then((function(e){var t=e.docs.map((function(e){return et({id:e.id},e.data())}));s(t)})).catch((function(e){console.error("Error fetching packages:",e)}))}),[]);var c=function(e){var t=e.target,i=t.name,a=t.value;r(et(et({},n),{},Je({},i,a)))};return(0,ru.jsxs)("div",{className:"App",children:[(0,ru.jsx)(pu,{activeItem:"EditPatient"}),(0,ru.jsx)("div",{className:"patient-form-container my-3",children:(0,ru.jsxs)("form",{className:"patient-form",onSubmit:function(t){return(e=e||wc(kc().mark((function e(t){var r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r=pj.collection("patients").doc(n.id),e.next=5,r.update({name:n.name,lastname:n.lastname,address:n.address,mobile:n.mobile,patientPackage:n.patientPackage,date:n.date});case 5:console.log("Patient data successfully updated!"),u("/AllPatients"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error updating patient data:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)},children:[(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("input",{type:"hidden",id:"id",name:"id",value:n.id,onChange:c,required:!0}),(0,ru.jsx)("label",{htmlFor:"name",children:"First Name"}),(0,ru.jsx)("input",{type:"text",id:"name",name:"name",value:n.name,onChange:c,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"lastname",children:"Last Name"}),(0,ru.jsx)("input",{type:"text",id:"lastname",name:"lastname",value:n.lastname,onChange:c,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"address",children:"Address"}),(0,ru.jsx)("input",{type:"text",id:"address",name:"address",value:n.address,onChange:c,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"mobile",children:"Mobile No"}),(0,ru.jsx)("input",{type:"text",id:"mobile",name:"mobile",value:n.mobile,onChange:c,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"patientPackageSelect",children:"Select Package"}),(0,ru.jsx)("select",{id:"patientPackageSelect",name:"patientPackage",value:n.patientPackage,onChange:c,children:o.map((function(e){return(0,ru.jsx)("option",{value:e.id,children:"".concat(e.timeperiod,", joint=").concat(e.joint,", TotalAmount=").concat(e.amount)},e.id)}))})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"date",children:"Date"}),(0,ru.jsx)("input",{type:"date",id:"date",name:"date",value:n.date,onChange:c,required:!0})]}),(0,ru.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Update"}),(0,ru.jsx)(Ye,{to:"/AllPatients",children:(0,ru.jsx)("button",{className:"btn btn-danger mx-2",style:{backgroundColor:"rgba(255, 0, 0, 0.7)"},children:"Cancel"})})]})}),(0,ru.jsx)(mu,{})]})},Cj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Nj=i.createContext&&i.createContext(Cj),Aj=function(){return Aj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Aj.apply(this,arguments)},Pj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Dj(e){return e&&e.map((function(e,t){return i.createElement(e.tag,Aj({key:t},e.attr),Dj(e.child))}))}function Oj(e){return function(t){return i.createElement(Rj,Aj({attr:Aj({},e.attr)},t),Dj(e.child))}}function Rj(e){var t=function(t){var n,r=e.attr,a=e.size,o=e.title,s=Pj(e,["attr","size","title"]),u=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",Aj({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:Aj(Aj({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&i.createElement("title",null,o),e.children)};return void 0!==Nj?i.createElement(Nj.Consumer,null,(function(e){return t(e)})):t(Cj)}function Lj(e){return Oj({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"}}]})(e)}function jj(e){return Oj({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 3a2 2 0 0 1 2-2h13.5a.5.5 0 0 1 0 1H15v2a1 1 0 0 1 1 1v8.5a1.5 1.5 0 0 1-1.5 1.5h-12A2.5 2.5 0 0 1 0 12.5V3zm1 1.732V12.5A1.5 1.5 0 0 0 2.5 14h12a.5.5 0 0 0 .5-.5V5H2a1.99 1.99 0 0 1-1-.268zM1 3a1 1 0 0 0 1 1h12V2H2a1 1 0 0 0-1 1z"}}]})(e)}var Mj=function(){var e=f((0,i.useState)([]),2),t=e[0],n=e[1],r=f((0,i.useState)([]),2),a=r[0],o=r[1],s=f((0,i.useState)(0),2),u=s[0],c=s[1],l=f((0,i.useState)(0),2),h=l[0],d=l[1],p=f((0,i.useState)((new Date).getFullYear()),2),v=p[0],m=p[1],g=f((0,i.useState)((new Date).getMonth()+1),2),y=g[0],k=g[1],b=f((0,i.useState)([]),2),w=b[0],_=b[1];(0,i.useEffect)((function(){var e;!function(){(e=e||wc(kc().mark((function e(){var t,r;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pj.collection("patients").get();case 3:t=e.sent,r=t.docs.map((function(e){return et({id:e.id},e.data())})),n(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching patient data:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}()}),[]),(0,i.useEffect)((function(){var e;!function(){(e=e||wc(kc().mark((function e(){var t,n;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pj.collection("packages").get();case 3:t=e.sent,n=t.docs.map((function(e){return et({id:e.id},e.data())})),o(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching package (Packagerate) data:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}()}),[]),(0,i.useEffect)((function(){x()}),[t,a,v,y]);var x=function(){var e,n=t.filter((function(e){var t=new Date(e.date);return t.getFullYear()===v&&t.getMonth()+1===y})),r=0,i=N(n);try{var o=function(){var t=e.value.patientPackage,n=a.find((function(e){return e.id===t}));n&&(r+=parseFloat(n.amount))};for(i.s();!(e=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}c(n.length),d(r),_(n)};return(0,ru.jsxs)("div",{className:"App",children:[(0,ru.jsx)(pu,{activeItem:"DashboardDetails",setActiveItem:function(e){console.log("Setting active item to ".concat(e))}}),(0,ru.jsxs)("div",{className:"container my-3",children:[(0,ru.jsxs)("div",{className:"row",children:[(0,ru.jsxs)("div",{className:"col-md-3 my-3",children:[(0,ru.jsx)("label",{htmlFor:"year",className:"form-label",children:(0,ru.jsx)("b",{children:"Select Year"})}),(0,ru.jsx)("select",{id:"year",name:"year",value:v,onChange:function(e){m(parseInt(e.target.value))},className:"form-select",children:Array.from({length:5},(function(e,t){var n=(new Date).getFullYear()-t;return(0,ru.jsx)("option",{value:n,children:n},n)}))})]}),(0,ru.jsxs)("div",{className:"col-md-3 my-3",children:[(0,ru.jsx)("label",{htmlFor:"month",className:"form-label",children:(0,ru.jsx)("b",{children:"Select Month"})}),(0,ru.jsx)("select",{id:"month",name:"month",value:y,onChange:function(e){k(parseInt(e.target.value))},className:"form-select",children:Array.from({length:12},(function(e,t){var n=t+1;return(0,ru.jsx)("option",{value:n,children:new Date(v,t).toLocaleString("default",{month:"long"})},n)}))})]})]}),0===u?(0,ru.jsx)("h3",{className:"text-black my-4",children:"There are no patients for the selected date."}):(0,ru.jsxs)("div",{className:"row",children:[(0,ru.jsx)("div",{className:"col-md-6 ",children:(0,ru.jsx)("div",{className:"card shadow border-0 mb-3",style:{backgroundColor:"pink"},children:(0,ru.jsxs)("div",{className:"card-body my-3",children:[(0,ru.jsx)(Lj,{className:"card-icon",size:35,style:{color:"black"}}),(0,ru.jsx)("h5",{className:"card-title text-black",children:(0,ru.jsx)("b",{children:"Total Patients"})}),(0,ru.jsxs)("p",{className:"card-text text-black",children:["Total number of patients: ",u]})]})})}),(0,ru.jsx)("div",{className:"col-md-6 ",children:(0,ru.jsx)("div",{className:"card shadow-lg border-0 mb-3",style:{backgroundColor:"skyblue"},children:(0,ru.jsxs)("div",{className:"card-body",children:[(0,ru.jsx)(jj,{className:"card-icon",size:35,style:{color:"black"}}),(0,ru.jsx)("h5",{className:"card-title text-black",children:(0,ru.jsx)("b",{children:"Total Amount"})}),(0,ru.jsxs)("p",{className:"card-text text-black",children:["Total amount: ",h]})]})})}),(0,ru.jsxs)("div",{className:"row mt-3",children:[(0,ru.jsx)("div",{className:"my-4 mx-3 ",children:(0,ru.jsxs)("h3",{className:"my-3",children:["Patients for ",new Date(v,y-1).toLocaleString("default",{month:"long"})," ",v]})}),w.map((function(e){return(0,ru.jsx)("div",{className:"col-md-4 my-3",children:(0,ru.jsx)("div",{className:"card shadow border-0",style:{backgroundColor:"lightgreen",transition:"background-color 0.3s, box-shadow 0.3s"},onMouseEnter:function(e){e.currentTarget.style.backgroundColor="lightyellow",e.currentTarget.style.boxShadow="0px 4px 8px rgba(0, 0, 0, 0.2)"},onMouseLeave:function(e){e.currentTarget.style.backgroundColor="lightgreen",e.currentTarget.style.boxShadow="none"},children:(0,ru.jsxs)("div",{className:"card-body",children:[(0,ru.jsx)(Lj,{className:"card-icon",size:35,style:{color:"black"}}),(0,ru.jsx)("h5",{className:"card-title text-black",children:(0,ru.jsxs)("b",{children:[e.name," ",e.lastname]})}),(0,ru.jsxs)("p",{className:"card-text text-black",children:["Date: ",new Date(e.date).toLocaleDateString()]})]})})},e.id)}))]})]})]}),(0,ru.jsx)(mu,{})]})};var Fj=function(){var e=f((0,i.useState)({name:"",lastname:"",age:"",date:"",adharcard:"",mobileno:""}),2),t=e[0],n=e[1],r=xe();(0,i.useEffect)((function(){var e,t=localStorage.getItem("DoctorId");!function(){(e=e||wc(kc().mark((function e(){var r,i,a;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=pj.collection("doctors").doc(t),e.next=4,r.get();case 4:(i=e.sent).exists?(a=i.data(),n({name:a.name,lastname:a.lastname,age:a.age,date:a.date,adharcard:a.adharcard,mobileno:a.mobileno})):console.error("Doctor not found in Firestore."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching doctor details:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}()}),[]);var a=function(e){var r=e.target,i=r.name,a=r.value;n(et(et({},t),{},Je({},i,a)))};return(0,ru.jsxs)("div",{className:"App",children:[(0,ru.jsx)(pu,{activeItem:"AllDoctors",setActiveItem:function(e){console.log("Setting active item to ".concat(e))}}),(0,ru.jsx)("h2",{className:"my-2",children:"Edit Doctor Information"}),(0,ru.jsx)("div",{className:"patient-form-container my-3",children:(0,ru.jsxs)("form",{className:"patient-form",onSubmit:function(e){e.preventDefault();var n=localStorage.getItem("DoctorId");pj.collection("doctors").doc(n).update(t).then((function(){console.log("Doctor data updated successfully"),Lt.success("Doctor Updated"),r("/AllDoctors")})).catch((function(e){console.error("Error updating doctor data:",e)}))},children:[(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"name",children:"First Name"}),(0,ru.jsx)("input",{type:"text",id:"name",name:"name",value:t.name,onChange:a,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"lastname",children:"Last Name"}),(0,ru.jsx)("input",{type:"text",id:"lastname",name:"lastname",value:t.lastname,onChange:a,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"age",children:"Age"}),(0,ru.jsx)("input",{type:"text",id:"age",name:"age",value:t.age,onChange:a,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"adharcard",children:"Adhar Card"}),(0,ru.jsx)("input",{type:"text",id:"adharcard",name:"adharcard",value:t.adharcard,onChange:a,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"mobileno",children:"Mobile Number"}),(0,ru.jsx)("input",{type:"text",id:"mobileno",name:"mobileno",value:t.mobileno,onChange:a,required:!0})]}),(0,ru.jsxs)("div",{className:"form-group",children:[(0,ru.jsx)("label",{htmlFor:"date",children:"Joining Date"}),(0,ru.jsx)("input",{type:"date",id:"date",name:"date",value:t.date,onChange:a,required:!0,style:{marginLeft:0}})]}),(0,ru.jsx)("button",{type:"submit",method:"post",children:"Submit"})]})}),(0,ru.jsx)(mu,{})]})};var Uj=function(){var e=localStorage.getItem("authToken");return console.log(e),(0,ru.jsxs)(We,{children:[(0,ru.jsxs)(Fe,{children:[(0,ru.jsx)(je,{path:"/",element:(0,ru.jsx)(Bu,{})}),(0,ru.jsx)(je,{path:"/login",element:(0,ru.jsx)(mj,{})}),(0,ru.jsx)(je,{path:"/signup",element:(0,ru.jsx)(gj,{})}),(0,ru.jsx)(je,{path:"/Enrollment",element:(0,ru.jsx)(kj,{})}),(0,ru.jsx)(je,{path:"/Patient",element:(0,ru.jsx)(bj,{})}),(0,ru.jsx)(je,{path:"/doctor",element:(0,ru.jsx)(wj,{})}),(0,ru.jsx)(je,{path:"/AllPatients",element:(0,ru.jsx)(_j,{})}),(0,ru.jsx)(je,{path:"/AllDoctors",element:(0,ru.jsx)(xj,{})}),(0,ru.jsx)(je,{path:"/Packages",element:(0,ru.jsx)(Ej,{})}),(0,ru.jsx)(je,{path:"/Form",element:(0,ru.jsx)(Ij,{})}),(0,ru.jsx)(je,{path:"/EditPackage",element:(0,ru.jsx)(Sj,{})}),(0,ru.jsx)(je,{path:"/EditPatients",element:(0,ru.jsx)(Tj,{})}),(0,ru.jsx)(je,{path:"/EditDoctors",element:(0,ru.jsx)(Fj,{})}),(0,ru.jsx)(je,{path:"/DashboardDetails",element:(0,ru.jsx)(Mj,{})})]}),(0,ru.jsx)(It,{position:"top-right",autoClose:500,hideProgressBar:!1,newestOnTop:!1,rtl:!1,draggable:!0})]})},Vj=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};o.createRoot(document.getElementById("root")).render((0,ru.jsx)(i.StrictMode,{children:(0,ru.jsx)(Uj,{})})),Vj()}()}();
//# sourceMappingURL=main.4390561a.js.map